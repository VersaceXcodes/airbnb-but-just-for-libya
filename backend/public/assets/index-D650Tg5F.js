var Ju=e=>{throw TypeError(e)};var Oo=(e,t,n)=>t.has(e)||Ju("Cannot "+n);var _=(e,t,n)=>(Oo(e,t,"read from private field"),n?n.call(e):t.get(e)),Y=(e,t,n)=>t.has(e)?Ju("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),V=(e,t,n,s)=>(Oo(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),X=(e,t,n)=>(Oo(e,t,"access private method"),n);var Ai=(e,t,n,s)=>({set _(i){V(e,t,i,n)},get _(){return _(e,t,s)}});function $p(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function zp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var im={exports:{}},ro={},am={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ci=Symbol.for("react.element"),Ip=Symbol.for("react.portal"),qp=Symbol.for("react.fragment"),Vp=Symbol.for("react.strict_mode"),Wp=Symbol.for("react.profiler"),Up=Symbol.for("react.provider"),Hp=Symbol.for("react.context"),Qp=Symbol.for("react.forward_ref"),Yp=Symbol.for("react.suspense"),Kp=Symbol.for("react.memo"),Gp=Symbol.for("react.lazy"),Xu=Symbol.iterator;function Jp(e){return e===null||typeof e!="object"?null:(e=Xu&&e[Xu]||e["@@iterator"],typeof e=="function"?e:null)}var om={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lm=Object.assign,cm={};function ps(e,t,n){this.props=e,this.context=t,this.refs=cm,this.updater=n||om}ps.prototype.isReactComponent={};ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function um(){}um.prototype=ps.prototype;function Bc(e,t,n){this.props=e,this.context=t,this.refs=cm,this.updater=n||om}var $c=Bc.prototype=new um;$c.constructor=Bc;lm($c,ps.prototype);$c.isPureReactComponent=!0;var Zu=Array.isArray,dm=Object.prototype.hasOwnProperty,zc={current:null},hm={key:!0,ref:!0,__self:!0,__source:!0};function mm(e,t,n){var s,i={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)dm.call(t,s)&&!hm.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:Ci,type:e,key:a,ref:o,props:i,_owner:zc.current}}function Xp(e,t){return{$$typeof:Ci,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ic(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ci}function Zp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ed=/\/+/g;function Fo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zp(""+e.key):t.toString(36)}function sa(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ci:case Ip:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+Fo(o,0):s,Zu(i)?(n="",e!=null&&(n=e.replace(ed,"$&/")+"/"),sa(i,t,n,"",function(u){return u})):i!=null&&(Ic(i)&&(i=Xp(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ed,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",Zu(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+Fo(a,l);o+=sa(a,t,n,c,i)}else if(c=Jp(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+Fo(a,l++),o+=sa(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Di(e,t,n){if(e==null)return e;var s=[],i=0;return sa(e,s,"","",function(a){return t.call(n,a,i++)}),s}function ex(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},ia={transition:null},tx={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:ia,ReactCurrentOwner:zc};function fm(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Di,forEach:function(e,t,n){Di(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Di(e,function(){t++}),t},toArray:function(e){return Di(e,function(t){return t})||[]},only:function(e){if(!Ic(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=ps;Z.Fragment=qp;Z.Profiler=Wp;Z.PureComponent=Bc;Z.StrictMode=Vp;Z.Suspense=Yp;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tx;Z.act=fm;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=lm({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=zc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)dm.call(t,c)&&!hm.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Ci,type:e.type,key:i,ref:a,props:s,_owner:o}};Z.createContext=function(e){return e={$$typeof:Hp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Up,_context:e},e.Consumer=e};Z.createElement=mm;Z.createFactory=function(e){var t=mm.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:Qp,render:e}};Z.isValidElement=Ic;Z.lazy=function(e){return{$$typeof:Gp,_payload:{_status:-1,_result:e},_init:ex}};Z.memo=function(e,t){return{$$typeof:Kp,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=ia.transition;ia.transition={};try{e()}finally{ia.transition=t}};Z.unstable_act=fm;Z.useCallback=function(e,t){return He.current.useCallback(e,t)};Z.useContext=function(e){return He.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return He.current.useDeferredValue(e)};Z.useEffect=function(e,t){return He.current.useEffect(e,t)};Z.useId=function(){return He.current.useId()};Z.useImperativeHandle=function(e,t,n){return He.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return He.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return He.current.useReducer(e,t,n)};Z.useRef=function(e){return He.current.useRef(e)};Z.useState=function(e){return He.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return He.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return He.current.useTransition()};Z.version="18.3.1";am.exports=Z;var S=am.exports;const er=zp(S),nx=$p({__proto__:null,default:er},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx=S,sx=Symbol.for("react.element"),ix=Symbol.for("react.fragment"),ax=Object.prototype.hasOwnProperty,ox=rx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lx={key:!0,ref:!0,__self:!0,__source:!0};function pm(e,t,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)ax.call(t,s)&&!lx.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:sx,type:e,key:a,ref:o,props:i,_owner:ox.current}}ro.Fragment=ix;ro.jsx=pm;ro.jsxs=pm;im.exports=ro;var r=im.exports,xm={exports:{}},ut={},gm={exports:{}},ym={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,T){var z=I.length;I.push(T);e:for(;0<z;){var H=z-1>>>1,R=I[H];if(0<i(R,T))I[H]=T,I[z]=R,z=H;else break e}}function n(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var T=I[0],z=I.pop();if(z!==T){I[0]=z;e:for(var H=0,R=I.length,le=R>>>1;H<le;){var ve=2*(H+1)-1,Gn=I[ve],un=ve+1,he=I[un];if(0>i(Gn,z))un<R&&0>i(he,Gn)?(I[H]=he,I[un]=z,H=un):(I[H]=Gn,I[ve]=z,H=ve);else if(un<R&&0>i(he,z))I[H]=he,I[un]=z,H=un;else break e}}return T}function i(I,T){var z=I.sortIndex-T.sortIndex;return z!==0?z:I.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,x=3,y=!1,b=!1,v=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(I){for(var T=n(u);T!==null;){if(T.callback===null)s(u);else if(T.startTime<=I)s(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(u)}}function N(I){if(v=!1,f(I),!b)if(n(c)!==null)b=!0,A(E);else{var T=n(u);T!==null&&Q(N,T.startTime-I)}}function E(I,T){b=!1,v&&(v=!1,p(g),g=-1),y=!0;var z=x;try{for(f(T),h=n(c);h!==null&&(!(h.expirationTime>T)||I&&!K());){var H=h.callback;if(typeof H=="function"){h.callback=null,x=h.priorityLevel;var R=H(h.expirationTime<=T);T=e.unstable_now(),typeof R=="function"?h.callback=R:h===n(c)&&s(c),f(T)}else s(c);h=n(c)}if(h!==null)var le=!0;else{var ve=n(u);ve!==null&&Q(N,ve.startTime-T),le=!1}return le}finally{h=null,x=z,y=!1}}var w=!1,j=null,g=-1,M=5,D=-1;function K(){return!(e.unstable_now()-D<M)}function F(){if(j!==null){var I=e.unstable_now();D=I;var T=!0;try{T=j(!0,I)}finally{T?L():(w=!1,j=null)}}else w=!1}var L;if(typeof m=="function")L=function(){m(F)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,P=C.port2;C.port1.onmessage=F,L=function(){P.postMessage(null)}}else L=function(){k(F,0)};function A(I){j=I,w||(w=!0,L())}function Q(I,T){g=k(function(){I(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,A(E))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(x){case 1:case 2:case 3:var T=3;break;default:T=x}var z=x;x=T;try{return I()}finally{x=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,T){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var z=x;x=I;try{return T()}finally{x=z}},e.unstable_scheduleCallback=function(I,T,z){var H=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?H+z:H):z=H,I){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=z+R,I={id:d++,callback:T,priorityLevel:I,startTime:z,expirationTime:R,sortIndex:-1},z>H?(I.sortIndex=z,t(u,I),n(c)===null&&I===n(u)&&(v?(p(g),g=-1):v=!0,Q(N,z-H))):(I.sortIndex=R,t(c,I),b||y||(b=!0,A(E))),I},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(I){var T=x;return function(){var z=x;x=T;try{return I.apply(this,arguments)}finally{x=z}}}})(ym);gm.exports=ym;var cx=gm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux=S,ct=cx;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vm=new Set,ti={};function _r(e,t){ls(e,t),ls(e+"Capture",t)}function ls(e,t){for(ti[e]=t,e=0;e<t.length;e++)vm.add(t[e])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pl=Object.prototype.hasOwnProperty,dx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,td={},nd={};function hx(e){return pl.call(nd,e)?!0:pl.call(td,e)?!1:dx.test(e)?nd[e]=!0:(td[e]=!0,!1)}function mx(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fx(e,t,n,s){if(t===null||typeof t>"u"||mx(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,s,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var qc=/[\-:]([a-z])/g;function Vc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qc,Vc);Fe[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qc,Vc);Fe[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qc,Vc);Fe[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wc(e,t,n,s){var i=Fe.hasOwnProperty(t)?Fe[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fx(t,n,i,s)&&(n=null),s||i===null?hx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var on=ux.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bi=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),Rr=Symbol.for("react.fragment"),Uc=Symbol.for("react.strict_mode"),xl=Symbol.for("react.profiler"),bm=Symbol.for("react.provider"),wm=Symbol.for("react.context"),Hc=Symbol.for("react.forward_ref"),gl=Symbol.for("react.suspense"),yl=Symbol.for("react.suspense_list"),Qc=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),jm=Symbol.for("react.offscreen"),rd=Symbol.iterator;function Cs(e){return e===null||typeof e!="object"?null:(e=rd&&e[rd]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,Mo;function zs(e){if(Mo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Mo=t&&t[1]||""}return`
`+Mo+e}var Ao=!1;function Do(e,t){if(!e||Ao)return"";Ao=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ao=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zs(e):""}function px(e){switch(e.tag){case 5:return zs(e.type);case 16:return zs("Lazy");case 13:return zs("Suspense");case 19:return zs("SuspenseList");case 0:case 2:case 15:return e=Do(e.type,!1),e;case 11:return e=Do(e.type.render,!1),e;case 1:return e=Do(e.type,!0),e;default:return""}}function vl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rr:return"Fragment";case Lr:return"Portal";case xl:return"Profiler";case Uc:return"StrictMode";case gl:return"Suspense";case yl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wm:return(e.displayName||"Context")+".Consumer";case bm:return(e._context.displayName||"Context")+".Provider";case Hc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qc:return t=e.displayName||null,t!==null?t:vl(e.type)||"Memo";case pn:t=e._payload,e=e._init;try{return vl(e(t))}catch{}}return null}function xx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vl(t);case 8:return t===Uc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gx(e){var t=Nm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $i(e){e._valueTracker||(e._valueTracker=gx(e))}function _m(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Nm(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ka(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bl(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sd(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Vn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function km(e,t){t=t.checked,t!=null&&Wc(e,"checked",t,!1)}function wl(e,t){km(e,t);var n=Vn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jl(e,t.type,n):t.hasOwnProperty("defaultValue")&&jl(e,t.type,Vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function id(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jl(e,t,n){(t!=="number"||ka(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Is=Array.isArray;function qr(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Vn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Nl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ad(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(Is(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vn(n)}}function Sm(e,t){var n=Vn(t.value),s=Vn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function od(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _l(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zi,Em=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zi=zi||document.createElement("div"),zi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ni(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yx=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(e){yx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hs[t]=Hs[e]})});function Pm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hs.hasOwnProperty(e)&&Hs[e]?(""+t).trim():t+"px"}function Lm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=Pm(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var vx=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kl(e,t){if(t){if(vx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Sl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cl=null;function Yc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var El=null,Vr=null,Wr=null;function ld(e){if(e=Li(e)){if(typeof El!="function")throw Error($(280));var t=e.stateNode;t&&(t=lo(t),El(e.stateNode,e.type,t))}}function Rm(e){Vr?Wr?Wr.push(e):Wr=[e]:Vr=e}function Tm(){if(Vr){var e=Vr,t=Wr;if(Wr=Vr=null,ld(e),t)for(e=0;e<t.length;e++)ld(t[e])}}function Om(e,t){return e(t)}function Fm(){}var Bo=!1;function Mm(e,t,n){if(Bo)return e(t,n);Bo=!0;try{return Om(e,t,n)}finally{Bo=!1,(Vr!==null||Wr!==null)&&(Fm(),Tm())}}function ri(e,t){var n=e.stateNode;if(n===null)return null;var s=lo(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var Pl=!1;if(tn)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Pl=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Pl=!1}function bx(e,t,n,s,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Qs=!1,Sa=null,Ca=!1,Ll=null,wx={onError:function(e){Qs=!0,Sa=e}};function jx(e,t,n,s,i,a,o,l,c){Qs=!1,Sa=null,bx.apply(wx,arguments)}function Nx(e,t,n,s,i,a,o,l,c){if(jx.apply(this,arguments),Qs){if(Qs){var u=Sa;Qs=!1,Sa=null}else throw Error($(198));Ca||(Ca=!0,Ll=u)}}function kr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Am(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cd(e){if(kr(e)!==e)throw Error($(188))}function _x(e){var t=e.alternate;if(!t){if(t=kr(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return cd(i),e;if(a===s)return cd(i),t;a=a.sibling}throw Error($(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o)throw Error($(189))}}if(n.alternate!==s)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function Dm(e){return e=_x(e),e!==null?Bm(e):null}function Bm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bm(e);if(t!==null)return t;e=e.sibling}return null}var $m=ct.unstable_scheduleCallback,ud=ct.unstable_cancelCallback,kx=ct.unstable_shouldYield,Sx=ct.unstable_requestPaint,be=ct.unstable_now,Cx=ct.unstable_getCurrentPriorityLevel,Kc=ct.unstable_ImmediatePriority,zm=ct.unstable_UserBlockingPriority,Ea=ct.unstable_NormalPriority,Ex=ct.unstable_LowPriority,Im=ct.unstable_IdlePriority,so=null,It=null;function Px(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(so,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Tx,Lx=Math.log,Rx=Math.LN2;function Tx(e){return e>>>=0,e===0?32:31-(Lx(e)/Rx|0)|0}var Ii=64,qi=4194304;function qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pa(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?s=qs(l):(a&=o,a!==0&&(s=qs(a)))}else o=n&~i,o!==0?s=qs(o):a!==0&&(s=qs(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Pt(t),i=1<<n,s|=e[n],t&=~i;return s}function Ox(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fx(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Pt(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&s)&&(i[o]=Ox(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Rl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qm(){var e=Ii;return Ii<<=1,!(Ii&4194240)&&(Ii=64),e}function $o(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ei(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=n}function Mx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Pt(n),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~a}}function Gc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Pt(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var ae=0;function Vm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wm,Jc,Um,Hm,Qm,Tl=!1,Vi=[],Tn=null,On=null,Fn=null,si=new Map,ii=new Map,yn=[],Ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dd(e,t){switch(e){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":si.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ii.delete(t.pointerId)}}function Ps(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Li(t),t!==null&&Jc(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Dx(e,t,n,s,i){switch(t){case"focusin":return Tn=Ps(Tn,e,t,n,s,i),!0;case"dragenter":return On=Ps(On,e,t,n,s,i),!0;case"mouseover":return Fn=Ps(Fn,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return si.set(a,Ps(si.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,ii.set(a,Ps(ii.get(a)||null,e,t,n,s,i)),!0}return!1}function Ym(e){var t=tr(e.target);if(t!==null){var n=kr(t);if(n!==null){if(t=n.tag,t===13){if(t=Am(n),t!==null){e.blockedOn=t,Qm(e.priority,function(){Um(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function aa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ol(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Cl=s,n.target.dispatchEvent(s),Cl=null}else return t=Li(n),t!==null&&Jc(t),e.blockedOn=n,!1;t.shift()}return!0}function hd(e,t,n){aa(e)&&n.delete(t)}function Bx(){Tl=!1,Tn!==null&&aa(Tn)&&(Tn=null),On!==null&&aa(On)&&(On=null),Fn!==null&&aa(Fn)&&(Fn=null),si.forEach(hd),ii.forEach(hd)}function Ls(e,t){e.blockedOn===t&&(e.blockedOn=null,Tl||(Tl=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Bx)))}function ai(e){function t(i){return Ls(i,e)}if(0<Vi.length){Ls(Vi[0],e);for(var n=1;n<Vi.length;n++){var s=Vi[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Tn!==null&&Ls(Tn,e),On!==null&&Ls(On,e),Fn!==null&&Ls(Fn,e),si.forEach(t),ii.forEach(t),n=0;n<yn.length;n++)s=yn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<yn.length&&(n=yn[0],n.blockedOn===null);)Ym(n),n.blockedOn===null&&yn.shift()}var Ur=on.ReactCurrentBatchConfig,La=!0;function $x(e,t,n,s){var i=ae,a=Ur.transition;Ur.transition=null;try{ae=1,Xc(e,t,n,s)}finally{ae=i,Ur.transition=a}}function zx(e,t,n,s){var i=ae,a=Ur.transition;Ur.transition=null;try{ae=4,Xc(e,t,n,s)}finally{ae=i,Ur.transition=a}}function Xc(e,t,n,s){if(La){var i=Ol(e,t,n,s);if(i===null)Ko(e,t,s,Ra,n),dd(e,s);else if(Dx(i,e,t,n,s))s.stopPropagation();else if(dd(e,s),t&4&&-1<Ax.indexOf(e)){for(;i!==null;){var a=Li(i);if(a!==null&&Wm(a),a=Ol(e,t,n,s),a===null&&Ko(e,t,s,Ra,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else Ko(e,t,s,null,n)}}var Ra=null;function Ol(e,t,n,s){if(Ra=null,e=Yc(s),e=tr(e),e!==null)if(t=kr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Am(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ra=e,null}function Km(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cx()){case Kc:return 1;case zm:return 4;case Ea:case Ex:return 16;case Im:return 536870912;default:return 16}default:return 16}}var Pn=null,Zc=null,oa=null;function Gm(){if(oa)return oa;var e,t=Zc,n=t.length,s,i="value"in Pn?Pn.value:Pn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===i[a-s];s++);return oa=i.slice(e,1<s?1-s:void 0)}function la(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wi(){return!0}function md(){return!1}function dt(e){function t(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wi:md,this.isPropagationStopped=md,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),t}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=dt(xs),Pi=xe({},xs,{view:0,detail:0}),Ix=dt(Pi),zo,Io,Rs,io=xe({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rs&&(Rs&&e.type==="mousemove"?(zo=e.screenX-Rs.screenX,Io=e.screenY-Rs.screenY):Io=zo=0,Rs=e),zo)},movementY:function(e){return"movementY"in e?e.movementY:Io}}),fd=dt(io),qx=xe({},io,{dataTransfer:0}),Vx=dt(qx),Wx=xe({},Pi,{relatedTarget:0}),qo=dt(Wx),Ux=xe({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Hx=dt(Ux),Qx=xe({},xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yx=dt(Qx),Kx=xe({},xs,{data:0}),pd=dt(Kx),Gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xx[e])?!!t[e]:!1}function tu(){return Zx}var eg=xe({},Pi,{key:function(e){if(e.key){var t=Gx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=la(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tu,charCode:function(e){return e.type==="keypress"?la(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?la(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tg=dt(eg),ng=xe({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xd=dt(ng),rg=xe({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tu}),sg=dt(rg),ig=xe({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ag=dt(ig),og=xe({},io,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lg=dt(og),cg=[9,13,27,32],nu=tn&&"CompositionEvent"in window,Ys=null;tn&&"documentMode"in document&&(Ys=document.documentMode);var ug=tn&&"TextEvent"in window&&!Ys,Jm=tn&&(!nu||Ys&&8<Ys&&11>=Ys),gd=" ",yd=!1;function Xm(e,t){switch(e){case"keyup":return cg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tr=!1;function dg(e,t){switch(e){case"compositionend":return Zm(t);case"keypress":return t.which!==32?null:(yd=!0,gd);case"textInput":return e=t.data,e===gd&&yd?null:e;default:return null}}function hg(e,t){if(Tr)return e==="compositionend"||!nu&&Xm(e,t)?(e=Gm(),oa=Zc=Pn=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jm&&t.locale!=="ko"?null:t.data;default:return null}}var mg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mg[e.type]:t==="textarea"}function ef(e,t,n,s){Rm(s),t=Ta(t,"onChange"),0<t.length&&(n=new eu("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ks=null,oi=null;function fg(e){hf(e,0)}function ao(e){var t=Mr(e);if(_m(t))return e}function pg(e,t){if(e==="change")return t}var tf=!1;if(tn){var Vo;if(tn){var Wo="oninput"in document;if(!Wo){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),Wo=typeof bd.oninput=="function"}Vo=Wo}else Vo=!1;tf=Vo&&(!document.documentMode||9<document.documentMode)}function wd(){Ks&&(Ks.detachEvent("onpropertychange",nf),oi=Ks=null)}function nf(e){if(e.propertyName==="value"&&ao(oi)){var t=[];ef(t,oi,e,Yc(e)),Mm(fg,t)}}function xg(e,t,n){e==="focusin"?(wd(),Ks=t,oi=n,Ks.attachEvent("onpropertychange",nf)):e==="focusout"&&wd()}function gg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ao(oi)}function yg(e,t){if(e==="click")return ao(t)}function vg(e,t){if(e==="input"||e==="change")return ao(t)}function bg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:bg;function li(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!pl.call(t,i)||!Rt(e[i],t[i]))return!1}return!0}function jd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nd(e,t){var n=jd(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jd(n)}}function rf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sf(){for(var e=window,t=ka();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ka(e.document)}return t}function ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wg(e){var t=sf(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rf(n.ownerDocument.documentElement,n)){if(s!==null&&ru(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=Nd(n,a);var o=Nd(n,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jg=tn&&"documentMode"in document&&11>=document.documentMode,Or=null,Fl=null,Gs=null,Ml=!1;function _d(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ml||Or==null||Or!==ka(s)||(s=Or,"selectionStart"in s&&ru(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Gs&&li(Gs,s)||(Gs=s,s=Ta(Fl,"onSelect"),0<s.length&&(t=new eu("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Or)))}function Ui(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fr={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionend:Ui("Transition","TransitionEnd")},Uo={},af={};tn&&(af=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function oo(e){if(Uo[e])return Uo[e];if(!Fr[e])return e;var t=Fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in af)return Uo[e]=t[n];return e}var of=oo("animationend"),lf=oo("animationiteration"),cf=oo("animationstart"),uf=oo("transitionend"),df=new Map,kd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){df.set(e,t),_r(t,[e])}for(var Ho=0;Ho<kd.length;Ho++){var Qo=kd[Ho],Ng=Qo.toLowerCase(),_g=Qo[0].toUpperCase()+Qo.slice(1);Un(Ng,"on"+_g)}Un(of,"onAnimationEnd");Un(lf,"onAnimationIteration");Un(cf,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(uf,"onTransitionEnd");ls("onMouseEnter",["mouseout","mouseover"]);ls("onMouseLeave",["mouseout","mouseover"]);ls("onPointerEnter",["pointerout","pointerover"]);ls("onPointerLeave",["pointerout","pointerover"]);_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_r("onBeforeInput",["compositionend","keypress","textInput","paste"]);_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function Sd(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Nx(s,t,void 0,e),e.currentTarget=null}function hf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Sd(i,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Sd(i,l,u),a=c}}}if(Ca)throw e=Ll,Ca=!1,Ll=null,e}function ue(e,t){var n=t[zl];n===void 0&&(n=t[zl]=new Set);var s=e+"__bubble";n.has(s)||(mf(t,e,2,!1),n.add(s))}function Yo(e,t,n){var s=0;t&&(s|=4),mf(n,e,s,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function ci(e){if(!e[Hi]){e[Hi]=!0,vm.forEach(function(n){n!=="selectionchange"&&(kg.has(n)||Yo(n,!1,e),Yo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hi]||(t[Hi]=!0,Yo("selectionchange",!1,t))}}function mf(e,t,n,s){switch(Km(t)){case 1:var i=$x;break;case 4:i=zx;break;default:i=Xc}n=i.bind(null,t,n,e),i=void 0,!Pl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ko(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=tr(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}Mm(function(){var u=a,d=Yc(n),h=[];e:{var x=df.get(e);if(x!==void 0){var y=eu,b=e;switch(e){case"keypress":if(la(n)===0)break e;case"keydown":case"keyup":y=tg;break;case"focusin":b="focus",y=qo;break;case"focusout":b="blur",y=qo;break;case"beforeblur":case"afterblur":y=qo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Vx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=sg;break;case of:case lf:case cf:y=Hx;break;case uf:y=ag;break;case"scroll":y=Ix;break;case"wheel":y=lg;break;case"copy":case"cut":case"paste":y=Yx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=xd}var v=(t&4)!==0,k=!v&&e==="scroll",p=v?x!==null?x+"Capture":null:x;v=[];for(var m=u,f;m!==null;){f=m;var N=f.stateNode;if(f.tag===5&&N!==null&&(f=N,p!==null&&(N=ri(m,p),N!=null&&v.push(ui(m,N,f)))),k)break;m=m.return}0<v.length&&(x=new y(x,b,null,n,d),h.push({event:x,listeners:v}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",x&&n!==Cl&&(b=n.relatedTarget||n.fromElement)&&(tr(b)||b[nn]))break e;if((y||x)&&(x=d.window===d?d:(x=d.ownerDocument)?x.defaultView||x.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=u,b=b?tr(b):null,b!==null&&(k=kr(b),b!==k||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=u),y!==b)){if(v=fd,N="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=xd,N="onPointerLeave",p="onPointerEnter",m="pointer"),k=y==null?x:Mr(y),f=b==null?x:Mr(b),x=new v(N,m+"leave",y,n,d),x.target=k,x.relatedTarget=f,N=null,tr(d)===u&&(v=new v(p,m+"enter",b,n,d),v.target=f,v.relatedTarget=k,N=v),k=N,y&&b)t:{for(v=y,p=b,m=0,f=v;f;f=Er(f))m++;for(f=0,N=p;N;N=Er(N))f++;for(;0<m-f;)v=Er(v),m--;for(;0<f-m;)p=Er(p),f--;for(;m--;){if(v===p||p!==null&&v===p.alternate)break t;v=Er(v),p=Er(p)}v=null}else v=null;y!==null&&Cd(h,x,y,v,!1),b!==null&&k!==null&&Cd(h,k,b,v,!0)}}e:{if(x=u?Mr(u):window,y=x.nodeName&&x.nodeName.toLowerCase(),y==="select"||y==="input"&&x.type==="file")var E=pg;else if(vd(x))if(tf)E=vg;else{E=gg;var w=xg}else(y=x.nodeName)&&y.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(E=yg);if(E&&(E=E(e,u))){ef(h,E,n,d);break e}w&&w(e,x,u),e==="focusout"&&(w=x._wrapperState)&&w.controlled&&x.type==="number"&&jl(x,"number",x.value)}switch(w=u?Mr(u):window,e){case"focusin":(vd(w)||w.contentEditable==="true")&&(Or=w,Fl=u,Gs=null);break;case"focusout":Gs=Fl=Or=null;break;case"mousedown":Ml=!0;break;case"contextmenu":case"mouseup":case"dragend":Ml=!1,_d(h,n,d);break;case"selectionchange":if(jg)break;case"keydown":case"keyup":_d(h,n,d)}var j;if(nu)e:{switch(e){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Tr?Xm(e,n)&&(g="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(Jm&&n.locale!=="ko"&&(Tr||g!=="onCompositionStart"?g==="onCompositionEnd"&&Tr&&(j=Gm()):(Pn=d,Zc="value"in Pn?Pn.value:Pn.textContent,Tr=!0)),w=Ta(u,g),0<w.length&&(g=new pd(g,e,null,n,d),h.push({event:g,listeners:w}),j?g.data=j:(j=Zm(n),j!==null&&(g.data=j)))),(j=ug?dg(e,n):hg(e,n))&&(u=Ta(u,"onBeforeInput"),0<u.length&&(d=new pd("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=j))}hf(h,t)})}function ui(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ta(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ri(e,n),a!=null&&s.unshift(ui(e,a,i)),a=ri(e,t),a!=null&&s.push(ui(e,a,i))),e=e.return}return s}function Er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cd(e,t,n,s,i){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,i?(c=ri(n,a),c!=null&&o.unshift(ui(n,c,l))):i||(c=ri(n,a),c!=null&&o.push(ui(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Sg=/\r\n?/g,Cg=/\u0000|\uFFFD/g;function Ed(e){return(typeof e=="string"?e:""+e).replace(Sg,`
`).replace(Cg,"")}function Qi(e,t,n){if(t=Ed(t),Ed(e)!==t&&n)throw Error($(425))}function Oa(){}var Al=null,Dl=null;function Bl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $l=typeof setTimeout=="function"?setTimeout:void 0,Eg=typeof clearTimeout=="function"?clearTimeout:void 0,Pd=typeof Promise=="function"?Promise:void 0,Pg=typeof queueMicrotask=="function"?queueMicrotask:typeof Pd<"u"?function(e){return Pd.resolve(null).then(e).catch(Lg)}:$l;function Lg(e){setTimeout(function(){throw e})}function Go(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),ai(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);ai(t)}function Mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ld(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gs=Math.random().toString(36).slice(2),zt="__reactFiber$"+gs,di="__reactProps$"+gs,nn="__reactContainer$"+gs,zl="__reactEvents$"+gs,Rg="__reactListeners$"+gs,Tg="__reactHandles$"+gs;function tr(e){var t=e[zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nn]||n[zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ld(e);e!==null;){if(n=e[zt])return n;e=Ld(e)}return t}e=n,n=e.parentNode}return null}function Li(e){return e=e[zt]||e[nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function lo(e){return e[di]||null}var Il=[],Ar=-1;function Hn(e){return{current:e}}function de(e){0>Ar||(e.current=Il[Ar],Il[Ar]=null,Ar--)}function ce(e,t){Ar++,Il[Ar]=e.current,e.current=t}var Wn={},ze=Hn(Wn),Xe=Hn(!1),xr=Wn;function cs(e,t){var n=e.type.contextTypes;if(!n)return Wn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ze(e){return e=e.childContextTypes,e!=null}function Fa(){de(Xe),de(ze)}function Rd(e,t,n){if(ze.current!==Wn)throw Error($(168));ce(ze,t),ce(Xe,n)}function ff(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error($(108,xx(e)||"Unknown",i));return xe({},n,s)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wn,xr=ze.current,ce(ze,e),ce(Xe,Xe.current),!0}function Td(e,t,n){var s=e.stateNode;if(!s)throw Error($(169));n?(e=ff(e,t,xr),s.__reactInternalMemoizedMergedChildContext=e,de(Xe),de(ze),ce(ze,e)):de(Xe),ce(Xe,n)}var Qt=null,co=!1,Jo=!1;function pf(e){Qt===null?Qt=[e]:Qt.push(e)}function Og(e){co=!0,pf(e)}function Qn(){if(!Jo&&Qt!==null){Jo=!0;var e=0,t=ae;try{var n=Qt;for(ae=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Qt=null,co=!1}catch(i){throw Qt!==null&&(Qt=Qt.slice(e+1)),$m(Kc,Qn),i}finally{ae=t,Jo=!1}}return null}var Dr=[],Br=0,Aa=null,Da=0,ft=[],pt=0,gr=null,Jt=1,Xt="";function Jn(e,t){Dr[Br++]=Da,Dr[Br++]=Aa,Aa=e,Da=t}function xf(e,t,n){ft[pt++]=Jt,ft[pt++]=Xt,ft[pt++]=gr,gr=e;var s=Jt;e=Xt;var i=32-Pt(s)-1;s&=~(1<<i),n+=1;var a=32-Pt(t)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Jt=1<<32-Pt(t)+i|n<<i|s,Xt=a+e}else Jt=1<<a|n<<i|s,Xt=e}function su(e){e.return!==null&&(Jn(e,1),xf(e,1,0))}function iu(e){for(;e===Aa;)Aa=Dr[--Br],Dr[Br]=null,Da=Dr[--Br],Dr[Br]=null;for(;e===gr;)gr=ft[--pt],ft[pt]=null,Xt=ft[--pt],ft[pt]=null,Jt=ft[--pt],ft[pt]=null}var lt=null,ot=null,me=!1,Et=null;function gf(e,t){var n=gt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Od(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,ot=Mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gr!==null?{id:Jt,overflow:Xt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,ot=null,!0):!1;default:return!1}}function ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vl(e){if(me){var t=ot;if(t){var n=t;if(!Od(e,t)){if(ql(e))throw Error($(418));t=Mn(n.nextSibling);var s=lt;t&&Od(e,t)?gf(s,n):(e.flags=e.flags&-4097|2,me=!1,lt=e)}}else{if(ql(e))throw Error($(418));e.flags=e.flags&-4097|2,me=!1,lt=e}}}function Fd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function Yi(e){if(e!==lt)return!1;if(!me)return Fd(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bl(e.type,e.memoizedProps)),t&&(t=ot)){if(ql(e))throw yf(),Error($(418));for(;t;)gf(e,t),t=Mn(t.nextSibling)}if(Fd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ot=Mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=lt?Mn(e.stateNode.nextSibling):null;return!0}function yf(){for(var e=ot;e;)e=Mn(e.nextSibling)}function us(){ot=lt=null,me=!1}function au(e){Et===null?Et=[e]:Et.push(e)}var Fg=on.ReactCurrentBatchConfig;function Ts(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var s=n.stateNode}if(!s)throw Error($(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Ki(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Md(e){var t=e._init;return t(e._payload)}function vf(e){function t(p,m){if(e){var f=p.deletions;f===null?(p.deletions=[m],p.flags|=16):f.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function s(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=$n(p,m),p.index=0,p.sibling=null,p}function a(p,m,f){return p.index=f,e?(f=p.alternate,f!==null?(f=f.index,f<m?(p.flags|=2,m):f):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,m,f,N){return m===null||m.tag!==6?(m=sl(f,p.mode,N),m.return=p,m):(m=i(m,f),m.return=p,m)}function c(p,m,f,N){var E=f.type;return E===Rr?d(p,m,f.props.children,N,f.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pn&&Md(E)===m.type)?(N=i(m,f.props),N.ref=Ts(p,m,f),N.return=p,N):(N=pa(f.type,f.key,f.props,null,p.mode,N),N.ref=Ts(p,m,f),N.return=p,N)}function u(p,m,f,N){return m===null||m.tag!==4||m.stateNode.containerInfo!==f.containerInfo||m.stateNode.implementation!==f.implementation?(m=il(f,p.mode,N),m.return=p,m):(m=i(m,f.children||[]),m.return=p,m)}function d(p,m,f,N,E){return m===null||m.tag!==7?(m=fr(f,p.mode,N,E),m.return=p,m):(m=i(m,f),m.return=p,m)}function h(p,m,f){if(typeof m=="string"&&m!==""||typeof m=="number")return m=sl(""+m,p.mode,f),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Bi:return f=pa(m.type,m.key,m.props,null,p.mode,f),f.ref=Ts(p,null,m),f.return=p,f;case Lr:return m=il(m,p.mode,f),m.return=p,m;case pn:var N=m._init;return h(p,N(m._payload),f)}if(Is(m)||Cs(m))return m=fr(m,p.mode,f,null),m.return=p,m;Ki(p,m)}return null}function x(p,m,f,N){var E=m!==null?m.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return E!==null?null:l(p,m,""+f,N);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Bi:return f.key===E?c(p,m,f,N):null;case Lr:return f.key===E?u(p,m,f,N):null;case pn:return E=f._init,x(p,m,E(f._payload),N)}if(Is(f)||Cs(f))return E!==null?null:d(p,m,f,N,null);Ki(p,f)}return null}function y(p,m,f,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return p=p.get(f)||null,l(m,p,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Bi:return p=p.get(N.key===null?f:N.key)||null,c(m,p,N,E);case Lr:return p=p.get(N.key===null?f:N.key)||null,u(m,p,N,E);case pn:var w=N._init;return y(p,m,f,w(N._payload),E)}if(Is(N)||Cs(N))return p=p.get(f)||null,d(m,p,N,E,null);Ki(m,N)}return null}function b(p,m,f,N){for(var E=null,w=null,j=m,g=m=0,M=null;j!==null&&g<f.length;g++){j.index>g?(M=j,j=null):M=j.sibling;var D=x(p,j,f[g],N);if(D===null){j===null&&(j=M);break}e&&j&&D.alternate===null&&t(p,j),m=a(D,m,g),w===null?E=D:w.sibling=D,w=D,j=M}if(g===f.length)return n(p,j),me&&Jn(p,g),E;if(j===null){for(;g<f.length;g++)j=h(p,f[g],N),j!==null&&(m=a(j,m,g),w===null?E=j:w.sibling=j,w=j);return me&&Jn(p,g),E}for(j=s(p,j);g<f.length;g++)M=y(j,p,g,f[g],N),M!==null&&(e&&M.alternate!==null&&j.delete(M.key===null?g:M.key),m=a(M,m,g),w===null?E=M:w.sibling=M,w=M);return e&&j.forEach(function(K){return t(p,K)}),me&&Jn(p,g),E}function v(p,m,f,N){var E=Cs(f);if(typeof E!="function")throw Error($(150));if(f=E.call(f),f==null)throw Error($(151));for(var w=E=null,j=m,g=m=0,M=null,D=f.next();j!==null&&!D.done;g++,D=f.next()){j.index>g?(M=j,j=null):M=j.sibling;var K=x(p,j,D.value,N);if(K===null){j===null&&(j=M);break}e&&j&&K.alternate===null&&t(p,j),m=a(K,m,g),w===null?E=K:w.sibling=K,w=K,j=M}if(D.done)return n(p,j),me&&Jn(p,g),E;if(j===null){for(;!D.done;g++,D=f.next())D=h(p,D.value,N),D!==null&&(m=a(D,m,g),w===null?E=D:w.sibling=D,w=D);return me&&Jn(p,g),E}for(j=s(p,j);!D.done;g++,D=f.next())D=y(j,p,g,D.value,N),D!==null&&(e&&D.alternate!==null&&j.delete(D.key===null?g:D.key),m=a(D,m,g),w===null?E=D:w.sibling=D,w=D);return e&&j.forEach(function(F){return t(p,F)}),me&&Jn(p,g),E}function k(p,m,f,N){if(typeof f=="object"&&f!==null&&f.type===Rr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Bi:e:{for(var E=f.key,w=m;w!==null;){if(w.key===E){if(E=f.type,E===Rr){if(w.tag===7){n(p,w.sibling),m=i(w,f.props.children),m.return=p,p=m;break e}}else if(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pn&&Md(E)===w.type){n(p,w.sibling),m=i(w,f.props),m.ref=Ts(p,w,f),m.return=p,p=m;break e}n(p,w);break}else t(p,w);w=w.sibling}f.type===Rr?(m=fr(f.props.children,p.mode,N,f.key),m.return=p,p=m):(N=pa(f.type,f.key,f.props,null,p.mode,N),N.ref=Ts(p,m,f),N.return=p,p=N)}return o(p);case Lr:e:{for(w=f.key;m!==null;){if(m.key===w)if(m.tag===4&&m.stateNode.containerInfo===f.containerInfo&&m.stateNode.implementation===f.implementation){n(p,m.sibling),m=i(m,f.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=il(f,p.mode,N),m.return=p,p=m}return o(p);case pn:return w=f._init,k(p,m,w(f._payload),N)}if(Is(f))return b(p,m,f,N);if(Cs(f))return v(p,m,f,N);Ki(p,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,m!==null&&m.tag===6?(n(p,m.sibling),m=i(m,f),m.return=p,p=m):(n(p,m),m=sl(f,p.mode,N),m.return=p,p=m),o(p)):n(p,m)}return k}var ds=vf(!0),bf=vf(!1),Ba=Hn(null),$a=null,$r=null,ou=null;function lu(){ou=$r=$a=null}function cu(e){var t=Ba.current;de(Ba),e._currentValue=t}function Wl(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Hr(e,t){$a=e,ou=$r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function vt(e){var t=e._currentValue;if(ou!==e)if(e={context:e,memoizedValue:t,next:null},$r===null){if($a===null)throw Error($(308));$r=e,$a.dependencies={lanes:0,firstContext:e}}else $r=$r.next=e;return t}var nr=null;function uu(e){nr===null?nr=[e]:nr.push(e)}function wf(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,uu(t)):(n.next=i.next,i.next=n),t.interleaved=n,rn(e,s)}function rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xn=!1;function du(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function An(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,re&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,rn(e,n)}return i=s.interleaved,i===null?(t.next=t,uu(s)):(t.next=i.next,i.next=t),s.interleaved=t,rn(e,n)}function ca(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Gc(e,n)}}function Ad(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function za(e,t,n,s){var i=e.updateQueue;xn=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,d=u=c=null,l=a;do{var x=l.lane,y=l.eventTime;if((s&x)===x){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,v=l;switch(x=t,y=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){h=b.call(y,h,x);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,x=typeof b=="function"?b.call(y,h,x):b,x==null)break e;h=xe({},h,x);break e;case 2:xn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,x=i.effects,x===null?i.effects=[l]:x.push(l))}else y={eventTime:y,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,o|=x;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;x=l,l=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);vr|=o,e.lanes=o,e.memoizedState=h}}function Dd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error($(191,i));i.call(s)}}}var Ri={},qt=Hn(Ri),hi=Hn(Ri),mi=Hn(Ri);function rr(e){if(e===Ri)throw Error($(174));return e}function hu(e,t){switch(ce(mi,t),ce(hi,e),ce(qt,Ri),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_l(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_l(t,e)}de(qt),ce(qt,t)}function hs(){de(qt),de(hi),de(mi)}function Nf(e){rr(mi.current);var t=rr(qt.current),n=_l(t,e.type);t!==n&&(ce(hi,e),ce(qt,n))}function mu(e){hi.current===e&&(de(qt),de(hi))}var fe=Hn(0);function Ia(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xo=[];function fu(){for(var e=0;e<Xo.length;e++)Xo[e]._workInProgressVersionPrimary=null;Xo.length=0}var ua=on.ReactCurrentDispatcher,Zo=on.ReactCurrentBatchConfig,yr=0,pe=null,_e=null,Le=null,qa=!1,Js=!1,fi=0,Mg=0;function Me(){throw Error($(321))}function pu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rt(e[n],t[n]))return!1;return!0}function xu(e,t,n,s,i,a){if(yr=a,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ua.current=e===null||e.memoizedState===null?$g:zg,e=n(s,i),Js){a=0;do{if(Js=!1,fi=0,25<=a)throw Error($(301));a+=1,Le=_e=null,t.updateQueue=null,ua.current=Ig,e=n(s,i)}while(Js)}if(ua.current=Va,t=_e!==null&&_e.next!==null,yr=0,Le=_e=pe=null,qa=!1,t)throw Error($(300));return e}function gu(){var e=fi!==0;return fi=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?pe.memoizedState=Le=e:Le=Le.next=e,Le}function bt(){if(_e===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Le===null?pe.memoizedState:Le.next;if(t!==null)Le=t,_e=e;else{if(e===null)throw Error($(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Le===null?pe.memoizedState=Le=e:Le=Le.next=e}return Le}function pi(e,t){return typeof t=="function"?t(e):t}function el(e){var t=bt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var s=_e,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((yr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,pe.lanes|=d,vr|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,Rt(s,t.memoizedState)||(Je=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do a=i.lane,pe.lanes|=a,vr|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function tl(e){var t=bt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Rt(a,t.memoizedState)||(Je=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function _f(){}function kf(e,t){var n=pe,s=bt(),i=t(),a=!Rt(s.memoizedState,i);if(a&&(s.memoizedState=i,Je=!0),s=s.queue,yu(Ef.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,xi(9,Cf.bind(null,n,s,i,t),void 0,null),Re===null)throw Error($(349));yr&30||Sf(n,t,i)}return i}function Sf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Cf(e,t,n,s){t.value=n,t.getSnapshot=s,Pf(t)&&Lf(e)}function Ef(e,t,n){return n(function(){Pf(t)&&Lf(e)})}function Pf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rt(e,n)}catch{return!0}}function Lf(e){var t=rn(e,1);t!==null&&Lt(t,e,1,-1)}function Bd(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:e},t.queue=e,e=e.dispatch=Bg.bind(null,pe,e),[t.memoizedState,e]}function xi(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Rf(){return bt().memoizedState}function da(e,t,n,s){var i=At();pe.flags|=e,i.memoizedState=xi(1|t,n,void 0,s===void 0?null:s)}function uo(e,t,n,s){var i=bt();s=s===void 0?null:s;var a=void 0;if(_e!==null){var o=_e.memoizedState;if(a=o.destroy,s!==null&&pu(s,o.deps)){i.memoizedState=xi(t,n,a,s);return}}pe.flags|=e,i.memoizedState=xi(1|t,n,a,s)}function $d(e,t){return da(8390656,8,e,t)}function yu(e,t){return uo(2048,8,e,t)}function Tf(e,t){return uo(4,2,e,t)}function Of(e,t){return uo(4,4,e,t)}function Ff(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mf(e,t,n){return n=n!=null?n.concat([e]):null,uo(4,4,Ff.bind(null,t,e),n)}function vu(){}function Af(e,t){var n=bt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&pu(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Df(e,t){var n=bt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&pu(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Bf(e,t,n){return yr&21?(Rt(n,t)||(n=qm(),pe.lanes|=n,vr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=n)}function Ag(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var s=Zo.transition;Zo.transition={};try{e(!1),t()}finally{ae=n,Zo.transition=s}}function $f(){return bt().memoizedState}function Dg(e,t,n){var s=Bn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},zf(e))If(t,n);else if(n=wf(e,t,n,s),n!==null){var i=Ue();Lt(n,e,s,i),qf(n,t,s)}}function Bg(e,t,n){var s=Bn(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(zf(e))If(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Rt(l,o)){var c=t.interleaved;c===null?(i.next=i,uu(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=wf(e,t,i,s),n!==null&&(i=Ue(),Lt(n,e,s,i),qf(n,t,s))}}function zf(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function If(e,t){Js=qa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qf(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Gc(e,n)}}var Va={readContext:vt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},$g={readContext:vt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:$d,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,da(4194308,4,Ff.bind(null,t,e),n)},useLayoutEffect:function(e,t){return da(4194308,4,e,t)},useInsertionEffect:function(e,t){return da(4,2,e,t)},useMemo:function(e,t){var n=At();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=At();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Dg.bind(null,pe,e),[s.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:Bd,useDebugValue:vu,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=Bd(!1),t=e[0];return e=Ag.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=pe,i=At();if(me){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),Re===null)throw Error($(349));yr&30||Sf(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,$d(Ef.bind(null,s,a,e),[e]),s.flags|=2048,xi(9,Cf.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=At(),t=Re.identifierPrefix;if(me){var n=Xt,s=Jt;n=(s&~(1<<32-Pt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=fi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Mg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zg={readContext:vt,useCallback:Af,useContext:vt,useEffect:yu,useImperativeHandle:Mf,useInsertionEffect:Tf,useLayoutEffect:Of,useMemo:Df,useReducer:el,useRef:Rf,useState:function(){return el(pi)},useDebugValue:vu,useDeferredValue:function(e){var t=bt();return Bf(t,_e.memoizedState,e)},useTransition:function(){var e=el(pi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:_f,useSyncExternalStore:kf,useId:$f,unstable_isNewReconciler:!1},Ig={readContext:vt,useCallback:Af,useContext:vt,useEffect:yu,useImperativeHandle:Mf,useInsertionEffect:Tf,useLayoutEffect:Of,useMemo:Df,useReducer:tl,useRef:Rf,useState:function(){return tl(pi)},useDebugValue:vu,useDeferredValue:function(e){var t=bt();return _e===null?t.memoizedState=e:Bf(t,_e.memoizedState,e)},useTransition:function(){var e=tl(pi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:_f,useSyncExternalStore:kf,useId:$f,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ul(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ho={isMounted:function(e){return(e=e._reactInternals)?kr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ue(),i=Bn(e),a=Zt(s,i);a.payload=t,n!=null&&(a.callback=n),t=An(e,a,i),t!==null&&(Lt(t,e,i,s),ca(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ue(),i=Bn(e),a=Zt(s,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=An(e,a,i),t!==null&&(Lt(t,e,i,s),ca(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ue(),s=Bn(e),i=Zt(n,s);i.tag=2,t!=null&&(i.callback=t),t=An(e,i,s),t!==null&&(Lt(t,e,s,n),ca(t,e,s))}};function zd(e,t,n,s,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!li(n,s)||!li(i,a):!0}function Vf(e,t,n){var s=!1,i=Wn,a=t.contextType;return typeof a=="object"&&a!==null?a=vt(a):(i=Ze(t)?xr:ze.current,s=t.contextTypes,a=(s=s!=null)?cs(e,i):Wn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ho,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Id(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&ho.enqueueReplaceState(t,t.state,null)}function Hl(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},du(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=vt(a):(a=Ze(t)?xr:ze.current,i.context=cs(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ul(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ho.enqueueReplaceState(i,i.state,null),za(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ms(e,t){try{var n="",s=t;do n+=px(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function nl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ql(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qg=typeof WeakMap=="function"?WeakMap:Map;function Wf(e,t,n){n=Zt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Ua||(Ua=!0,rc=s),Ql(e,t)},n}function Uf(e,t,n){n=Zt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){Ql(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ql(e,t),typeof s!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function qd(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new qg;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=ny.bind(null,e,t,n),t.then(e,e))}function Vd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wd(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zt(-1,1),t.tag=2,An(n,t,1))),n.lanes|=1),e)}var Vg=on.ReactCurrentOwner,Je=!1;function Ve(e,t,n,s){t.child=e===null?bf(t,null,n,s):ds(t,e.child,n,s)}function Ud(e,t,n,s,i){n=n.render;var a=t.ref;return Hr(t,i),s=xu(e,t,n,s,a,i),n=gu(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sn(e,t,i)):(me&&n&&su(t),t.flags|=1,Ve(e,t,s,i),t.child)}function Hd(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!Cu(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Hf(e,t,a,s,i)):(e=pa(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:li,n(o,s)&&e.ref===t.ref)return sn(e,t,i)}return t.flags|=1,e=$n(a,s),e.ref=t.ref,e.return=t,t.child=e}function Hf(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(li(a,s)&&e.ref===t.ref)if(Je=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,sn(e,t,i)}return Yl(e,t,n,s,i)}function Qf(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Ir,at),at|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(Ir,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,ce(Ir,at),at|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,ce(Ir,at),at|=s;return Ve(e,t,i,n),t.child}function Yf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yl(e,t,n,s,i){var a=Ze(n)?xr:ze.current;return a=cs(t,a),Hr(t,i),n=xu(e,t,n,s,a,i),s=gu(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sn(e,t,i)):(me&&s&&su(t),t.flags|=1,Ve(e,t,n,i),t.child)}function Qd(e,t,n,s,i){if(Ze(n)){var a=!0;Ma(t)}else a=!1;if(Hr(t,i),t.stateNode===null)ha(e,t),Vf(t,n,s),Hl(t,n,s,i),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=vt(u):(u=Ze(n)?xr:ze.current,u=cs(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&Id(t,o,s,u),xn=!1;var x=t.memoizedState;o.state=x,za(t,s,o,i),c=t.memoizedState,l!==s||x!==c||Xe.current||xn?(typeof d=="function"&&(Ul(t,n,d,s),c=t.memoizedState),(l=xn||zd(t,n,l,s,x,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,jf(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Nt(t.type,l),o.props=u,h=t.pendingProps,x=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=vt(c):(c=Ze(n)?xr:ze.current,c=cs(t,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||x!==c)&&Id(t,o,s,c),xn=!1,x=t.memoizedState,o.state=x,za(t,s,o,i);var b=t.memoizedState;l!==h||x!==b||Xe.current||xn?(typeof y=="function"&&(Ul(t,n,y,s),b=t.memoizedState),(u=xn||zd(t,n,u,s,x,b,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=b),o.props=s,o.state=b,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),s=!1)}return Kl(e,t,n,s,a,i)}function Kl(e,t,n,s,i,a){Yf(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&Td(t,n,!1),sn(e,t,a);s=t.stateNode,Vg.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=ds(t,e.child,null,a),t.child=ds(t,null,l,a)):Ve(e,t,l,a),t.memoizedState=s.state,i&&Td(t,n,!0),t.child}function Kf(e){var t=e.stateNode;t.pendingContext?Rd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rd(e,t.context,!1),hu(e,t.containerInfo)}function Yd(e,t,n,s,i){return us(),au(i),t.flags|=256,Ve(e,t,n,s),t.child}var Gl={dehydrated:null,treeContext:null,retryLane:0};function Jl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gf(e,t,n){var s=t.pendingProps,i=fe.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ce(fe,i&1),e===null)return Vl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=po(o,s,0,null),e=fr(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Jl(n),t.memoizedState=Gl,e):bu(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Wg(e,t,o,s,l,i,n);if(a){a=s.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=$n(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=$n(l,a):(a=fr(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?Jl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Gl,s}return a=e.child,e=a.sibling,s=$n(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function bu(e,t){return t=po({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gi(e,t,n,s){return s!==null&&au(s),ds(t,e.child,null,n),e=bu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wg(e,t,n,s,i,a,o){if(n)return t.flags&256?(t.flags&=-257,s=nl(Error($(422))),Gi(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=po({mode:"visible",children:s.children},i,0,null),a=fr(a,i,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&ds(t,e.child,null,o),t.child.memoizedState=Jl(o),t.memoizedState=Gl,a);if(!(t.mode&1))return Gi(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error($(419)),s=nl(a,s,void 0),Gi(e,t,o,s)}if(l=(o&e.childLanes)!==0,Je||l){if(s=Re,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,rn(e,i),Lt(s,e,i,-1))}return Su(),s=nl(Error($(421))),Gi(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ry.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ot=Mn(i.nextSibling),lt=t,me=!0,Et=null,e!==null&&(ft[pt++]=Jt,ft[pt++]=Xt,ft[pt++]=gr,Jt=e.id,Xt=e.overflow,gr=t),t=bu(t,s.children),t.flags|=4096,t)}function Kd(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Wl(e.return,t,n)}function rl(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function Jf(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(Ve(e,t,s.children,n),s=fe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kd(e,n,t);else if(e.tag===19)Kd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ce(fe,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ia(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rl(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ia(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rl(t,!0,n,null,a);break;case"together":rl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ha(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=$n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ug(e,t,n){switch(t.tag){case 3:Kf(t),us();break;case 5:Nf(t);break;case 1:Ze(t.type)&&Ma(t);break;case 4:hu(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;ce(Ba,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ce(fe,fe.current&1),t.flags|=128,null):n&t.child.childLanes?Gf(e,t,n):(ce(fe,fe.current&1),e=sn(e,t,n),e!==null?e.sibling:null);ce(fe,fe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Jf(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(fe,fe.current),s)break;return null;case 22:case 23:return t.lanes=0,Qf(e,t,n)}return sn(e,t,n)}var Xf,Xl,Zf,e0;Xf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xl=function(){};Zf=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,rr(qt.current);var a=null;switch(n){case"input":i=bl(e,i),s=bl(e,s),a=[];break;case"select":i=xe({},i,{value:void 0}),s=xe({},s,{value:void 0}),a=[];break;case"textarea":i=Nl(e,i),s=Nl(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Oa)}kl(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ti.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ti.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ue("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};e0=function(e,t,n,s){n!==s&&(t.flags|=4)};function Os(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Hg(e,t,n){var s=t.pendingProps;switch(iu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ze(t.type)&&Fa(),Ae(t),null;case 3:return s=t.stateNode,hs(),de(Xe),de(ze),fu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Yi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(ac(Et),Et=null))),Xl(e,t),Ae(t),null;case 5:mu(t);var i=rr(mi.current);if(n=t.type,e!==null&&t.stateNode!=null)Zf(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error($(166));return Ae(t),null}if(e=rr(qt.current),Yi(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[zt]=t,s[di]=a,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",s),ue("close",s);break;case"iframe":case"object":case"embed":ue("load",s);break;case"video":case"audio":for(i=0;i<Vs.length;i++)ue(Vs[i],s);break;case"source":ue("error",s);break;case"img":case"image":case"link":ue("error",s),ue("load",s);break;case"details":ue("toggle",s);break;case"input":sd(s,a),ue("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},ue("invalid",s);break;case"textarea":ad(s,a),ue("invalid",s)}kl(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Qi(s.textContent,l,e),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Qi(s.textContent,l,e),i=["children",""+l]):ti.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ue("scroll",s)}switch(n){case"input":$i(s),id(s,a,!0);break;case"textarea":$i(s),od(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Oa)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[zt]=t,e[di]=s,Xf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Sl(n,s),n){case"dialog":ue("cancel",e),ue("close",e),i=s;break;case"iframe":case"object":case"embed":ue("load",e),i=s;break;case"video":case"audio":for(i=0;i<Vs.length;i++)ue(Vs[i],e);i=s;break;case"source":ue("error",e),i=s;break;case"img":case"image":case"link":ue("error",e),ue("load",e),i=s;break;case"details":ue("toggle",e),i=s;break;case"input":sd(e,s),i=bl(e,s),ue("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=xe({},s,{value:void 0}),ue("invalid",e);break;case"textarea":ad(e,s),i=Nl(e,s),ue("invalid",e);break;default:i=s}kl(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Lm(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Em(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ni(e,c):typeof c=="number"&&ni(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ti.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ue("scroll",e):c!=null&&Wc(e,a,c,o))}switch(n){case"input":$i(e),id(e,s,!1);break;case"textarea":$i(e),od(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Vn(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?qr(e,!!s.multiple,a,!1):s.defaultValue!=null&&qr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Oa)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)e0(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error($(166));if(n=rr(mi.current),rr(qt.current),Yi(t)){if(s=t.stateNode,n=t.memoizedProps,s[zt]=t,(a=s.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:Qi(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qi(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[zt]=t,t.stateNode=s}return Ae(t),null;case 13:if(de(fe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&ot!==null&&t.mode&1&&!(t.flags&128))yf(),us(),t.flags|=98560,a=!1;else if(a=Yi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error($(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error($(317));a[zt]=t}else us(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),a=!1}else Et!==null&&(ac(Et),Et=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?Se===0&&(Se=3):Su())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return hs(),Xl(e,t),e===null&&ci(t.stateNode.containerInfo),Ae(t),null;case 10:return cu(t.type._context),Ae(t),null;case 17:return Ze(t.type)&&Fa(),Ae(t),null;case 19:if(de(fe),a=t.memoizedState,a===null)return Ae(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)Os(a,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ia(e),o!==null){for(t.flags|=128,Os(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(fe,fe.current&1|2),t.child}e=e.sibling}a.tail!==null&&be()>fs&&(t.flags|=128,s=!0,Os(a,!1),t.lanes=4194304)}else{if(!s)if(e=Ia(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Os(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!me)return Ae(t),null}else 2*be()-a.renderingStartTime>fs&&n!==1073741824&&(t.flags|=128,s=!0,Os(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=be(),t.sibling=null,n=fe.current,ce(fe,s?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return ku(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?at&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function Qg(e,t){switch(iu(t),t.tag){case 1:return Ze(t.type)&&Fa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hs(),de(Xe),de(ze),fu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mu(t),null;case 13:if(de(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(fe),null;case 4:return hs(),null;case 10:return cu(t.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var Ji=!1,De=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,W=null;function zr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ye(e,t,s)}else n.current=null}function Zl(e,t,n){try{n()}catch(s){ye(e,t,s)}}var Gd=!1;function Kg(e,t){if(Al=La,e=sf(),ru(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,x=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==a||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)x=h,h=y;for(;;){if(h===e)break t;if(x===n&&++u===i&&(l=o),x===a&&++d===s&&(c=o),(y=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dl={focusedElem:e,selectionRange:n},La=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,k=b.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:Nt(t.type,v),k);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(N){ye(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return b=Gd,Gd=!1,b}function Xs(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Zl(t,n,a)}i=i.next}while(i!==s)}}function mo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function ec(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function t0(e){var t=e.alternate;t!==null&&(e.alternate=null,t0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[di],delete t[zl],delete t[Rg],delete t[Tg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function n0(e){return e.tag===5||e.tag===3||e.tag===4}function Jd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||n0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Oa));else if(s!==4&&(e=e.child,e!==null))for(tc(e,t,n),e=e.sibling;e!==null;)tc(e,t,n),e=e.sibling}function nc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(nc(e,t,n),e=e.sibling;e!==null;)nc(e,t,n),e=e.sibling}var Te=null,St=!1;function hn(e,t,n){for(n=n.child;n!==null;)r0(e,t,n),n=n.sibling}function r0(e,t,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(so,n)}catch{}switch(n.tag){case 5:De||zr(n,t);case 6:var s=Te,i=St;Te=null,hn(e,t,n),Te=s,St=i,Te!==null&&(St?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(St?(e=Te,n=n.stateNode,e.nodeType===8?Go(e.parentNode,n):e.nodeType===1&&Go(e,n),ai(e)):Go(Te,n.stateNode));break;case 4:s=Te,i=St,Te=n.stateNode.containerInfo,St=!0,hn(e,t,n),Te=s,St=i;break;case 0:case 11:case 14:case 15:if(!De&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Zl(n,t,o),i=i.next}while(i!==s)}hn(e,t,n);break;case 1:if(!De&&(zr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){ye(n,t,l)}hn(e,t,n);break;case 21:hn(e,t,n);break;case 22:n.mode&1?(De=(s=De)||n.memoizedState!==null,hn(e,t,n),De=s):hn(e,t,n);break;default:hn(e,t,n)}}function Xd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Yg),t.forEach(function(s){var i=sy.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function jt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Te=l.stateNode,St=!1;break e;case 3:Te=l.stateNode.containerInfo,St=!0;break e;case 4:Te=l.stateNode.containerInfo,St=!0;break e}l=l.return}if(Te===null)throw Error($(160));r0(a,o,i),Te=null,St=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ye(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)s0(t,e),t=t.sibling}function s0(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),Ot(e),s&4){try{Xs(3,e,e.return),mo(3,e)}catch(v){ye(e,e.return,v)}try{Xs(5,e,e.return)}catch(v){ye(e,e.return,v)}}break;case 1:jt(t,e),Ot(e),s&512&&n!==null&&zr(n,n.return);break;case 5:if(jt(t,e),Ot(e),s&512&&n!==null&&zr(n,n.return),e.flags&32){var i=e.stateNode;try{ni(i,"")}catch(v){ye(e,e.return,v)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&km(i,a),Sl(l,o);var u=Sl(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Lm(i,h):d==="dangerouslySetInnerHTML"?Em(i,h):d==="children"?ni(i,h):Wc(i,d,h,u)}switch(l){case"input":wl(i,a);break;case"textarea":Sm(i,a);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?qr(i,!!a.multiple,y,!1):x!==!!a.multiple&&(a.defaultValue!=null?qr(i,!!a.multiple,a.defaultValue,!0):qr(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(v){ye(e,e.return,v)}}break;case 6:if(jt(t,e),Ot(e),s&4){if(e.stateNode===null)throw Error($(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){ye(e,e.return,v)}}break;case 3:if(jt(t,e),Ot(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ai(t.containerInfo)}catch(v){ye(e,e.return,v)}break;case 4:jt(t,e),Ot(e);break;case 13:jt(t,e),Ot(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Nu=be())),s&4&&Xd(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(De=(u=De)||d,jt(t,e),De=u):jt(t,e),Ot(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(h=W=d;W!==null;){switch(x=W,y=x.child,x.tag){case 0:case 11:case 14:case 15:Xs(4,x,x.return);break;case 1:zr(x,x.return);var b=x.stateNode;if(typeof b.componentWillUnmount=="function"){s=x,n=x.return;try{t=s,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){ye(s,n,v)}}break;case 5:zr(x,x.return);break;case 22:if(x.memoizedState!==null){eh(h);continue}}y!==null?(y.return=x,W=y):eh(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Pm("display",o))}catch(v){ye(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ye(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jt(t,e),Ot(e),s&4&&Xd(e);break;case 21:break;default:jt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(n0(n)){var s=n;break e}n=n.return}throw Error($(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(ni(i,""),s.flags&=-33);var a=Jd(e);nc(e,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Jd(e);tc(e,l,o);break;default:throw Error($(161))}}catch(c){ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gg(e,t,n){W=e,i0(e)}function i0(e,t,n){for(var s=(e.mode&1)!==0;W!==null;){var i=W,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Ji;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||De;l=Ji;var u=De;if(Ji=o,(De=c)&&!u)for(W=i;W!==null;)o=W,c=o.child,o.tag===22&&o.memoizedState!==null?th(i):c!==null?(c.return=o,W=c):th(i);for(;a!==null;)W=a,i0(a),a=a.sibling;W=i,Ji=l,De=u}Zd(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,W=a):Zd(e)}}function Zd(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||mo(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!De)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Nt(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Dd(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Dd(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ai(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}De||t.flags&512&&ec(t)}catch(x){ye(t,t.return,x)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function eh(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function th(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{mo(4,t)}catch(c){ye(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(c){ye(t,i,c)}}var a=t.return;try{ec(t)}catch(c){ye(t,a,c)}break;case 5:var o=t.return;try{ec(t)}catch(c){ye(t,o,c)}}}catch(c){ye(t,t.return,c)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var Jg=Math.ceil,Wa=on.ReactCurrentDispatcher,wu=on.ReactCurrentOwner,yt=on.ReactCurrentBatchConfig,re=0,Re=null,je=null,Oe=0,at=0,Ir=Hn(0),Se=0,gi=null,vr=0,fo=0,ju=0,Zs=null,Ge=null,Nu=0,fs=1/0,Ht=null,Ua=!1,rc=null,Dn=null,Xi=!1,Ln=null,Ha=0,ei=0,sc=null,ma=-1,fa=0;function Ue(){return re&6?be():ma!==-1?ma:ma=be()}function Bn(e){return e.mode&1?re&2&&Oe!==0?Oe&-Oe:Fg.transition!==null?(fa===0&&(fa=qm()),fa):(e=ae,e!==0||(e=window.event,e=e===void 0?16:Km(e.type)),e):1}function Lt(e,t,n,s){if(50<ei)throw ei=0,sc=null,Error($(185));Ei(e,n,s),(!(re&2)||e!==Re)&&(e===Re&&(!(re&2)&&(fo|=n),Se===4&&vn(e,Oe)),et(e,s),n===1&&re===0&&!(t.mode&1)&&(fs=be()+500,co&&Qn()))}function et(e,t){var n=e.callbackNode;Fx(e,t);var s=Pa(e,e===Re?Oe:0);if(s===0)n!==null&&ud(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&ud(n),t===1)e.tag===0?Og(nh.bind(null,e)):pf(nh.bind(null,e)),Pg(function(){!(re&6)&&Qn()}),n=null;else{switch(Vm(s)){case 1:n=Kc;break;case 4:n=zm;break;case 16:n=Ea;break;case 536870912:n=Im;break;default:n=Ea}n=m0(n,a0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function a0(e,t){if(ma=-1,fa=0,re&6)throw Error($(327));var n=e.callbackNode;if(Qr()&&e.callbackNode!==n)return null;var s=Pa(e,e===Re?Oe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Qa(e,s);else{t=s;var i=re;re|=2;var a=l0();(Re!==e||Oe!==t)&&(Ht=null,fs=be()+500,mr(e,t));do try{ey();break}catch(l){o0(e,l)}while(!0);lu(),Wa.current=a,re=i,je!==null?t=0:(Re=null,Oe=0,t=Se)}if(t!==0){if(t===2&&(i=Rl(e),i!==0&&(s=i,t=ic(e,i))),t===1)throw n=gi,mr(e,0),vn(e,s),et(e,be()),n;if(t===6)vn(e,s);else{if(i=e.current.alternate,!(s&30)&&!Xg(i)&&(t=Qa(e,s),t===2&&(a=Rl(e),a!==0&&(s=a,t=ic(e,a))),t===1))throw n=gi,mr(e,0),vn(e,s),et(e,be()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error($(345));case 2:Xn(e,Ge,Ht);break;case 3:if(vn(e,s),(s&130023424)===s&&(t=Nu+500-be(),10<t)){if(Pa(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){Ue(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$l(Xn.bind(null,e,Ge,Ht),t);break}Xn(e,Ge,Ht);break;case 4:if(vn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-Pt(s);a=1<<o,o=t[o],o>i&&(i=o),s&=~a}if(s=i,s=be()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Jg(s/1960))-s,10<s){e.timeoutHandle=$l(Xn.bind(null,e,Ge,Ht),s);break}Xn(e,Ge,Ht);break;case 5:Xn(e,Ge,Ht);break;default:throw Error($(329))}}}return et(e,be()),e.callbackNode===n?a0.bind(null,e):null}function ic(e,t){var n=Zs;return e.current.memoizedState.isDehydrated&&(mr(e,t).flags|=256),e=Qa(e,t),e!==2&&(t=Ge,Ge=n,t!==null&&ac(t)),e}function ac(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function Xg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!Rt(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vn(e,t){for(t&=~ju,t&=~fo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pt(t),s=1<<n;e[n]=-1,t&=~s}}function nh(e){if(re&6)throw Error($(327));Qr();var t=Pa(e,0);if(!(t&1))return et(e,be()),null;var n=Qa(e,t);if(e.tag!==0&&n===2){var s=Rl(e);s!==0&&(t=s,n=ic(e,s))}if(n===1)throw n=gi,mr(e,0),vn(e,t),et(e,be()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xn(e,Ge,Ht),et(e,be()),null}function _u(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(fs=be()+500,co&&Qn())}}function br(e){Ln!==null&&Ln.tag===0&&!(re&6)&&Qr();var t=re;re|=1;var n=yt.transition,s=ae;try{if(yt.transition=null,ae=1,e)return e()}finally{ae=s,yt.transition=n,re=t,!(re&6)&&Qn()}}function ku(){at=Ir.current,de(Ir)}function mr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Eg(n)),je!==null)for(n=je.return;n!==null;){var s=n;switch(iu(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Fa();break;case 3:hs(),de(Xe),de(ze),fu();break;case 5:mu(s);break;case 4:hs();break;case 13:de(fe);break;case 19:de(fe);break;case 10:cu(s.type._context);break;case 22:case 23:ku()}n=n.return}if(Re=e,je=e=$n(e.current,null),Oe=at=t,Se=0,gi=null,ju=fo=vr=0,Ge=Zs=null,nr!==null){for(t=0;t<nr.length;t++)if(n=nr[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}nr=null}return e}function o0(e,t){do{var n=je;try{if(lu(),ua.current=Va,qa){for(var s=pe.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}qa=!1}if(yr=0,Le=_e=pe=null,Js=!1,fi=0,wu.current=null,n===null||n.return===null){Se=1,gi=t,je=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Oe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var x=d.alternate;x?(d.updateQueue=x.updateQueue,d.memoizedState=x.memoizedState,d.lanes=x.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Vd(o);if(y!==null){y.flags&=-257,Wd(y,o,l,a,t),y.mode&1&&qd(a,u,t),t=y,c=u;var b=t.updateQueue;if(b===null){var v=new Set;v.add(c),t.updateQueue=v}else b.add(c);break e}else{if(!(t&1)){qd(a,u,t),Su();break e}c=Error($(426))}}else if(me&&l.mode&1){var k=Vd(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Wd(k,o,l,a,t),au(ms(c,l));break e}}a=c=ms(c,l),Se!==4&&(Se=2),Zs===null?Zs=[a]:Zs.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=Wf(a,c,t);Ad(a,p);break e;case 1:l=c;var m=a.type,f=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Dn===null||!Dn.has(f)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=Uf(a,l,t);Ad(a,N);break e}}a=a.return}while(a!==null)}u0(n)}catch(E){t=E,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function l0(){var e=Wa.current;return Wa.current=Va,e===null?Va:e}function Su(){(Se===0||Se===3||Se===2)&&(Se=4),Re===null||!(vr&268435455)&&!(fo&268435455)||vn(Re,Oe)}function Qa(e,t){var n=re;re|=2;var s=l0();(Re!==e||Oe!==t)&&(Ht=null,mr(e,t));do try{Zg();break}catch(i){o0(e,i)}while(!0);if(lu(),re=n,Wa.current=s,je!==null)throw Error($(261));return Re=null,Oe=0,Se}function Zg(){for(;je!==null;)c0(je)}function ey(){for(;je!==null&&!kx();)c0(je)}function c0(e){var t=h0(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?u0(e):je=t,wu.current=null}function u0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Qg(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,je=null;return}}else if(n=Hg(n,t,at),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Se===0&&(Se=5)}function Xn(e,t,n){var s=ae,i=yt.transition;try{yt.transition=null,ae=1,ty(e,t,n,s)}finally{yt.transition=i,ae=s}return null}function ty(e,t,n,s){do Qr();while(Ln!==null);if(re&6)throw Error($(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Mx(e,a),e===Re&&(je=Re=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xi||(Xi=!0,m0(Ea,function(){return Qr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=yt.transition,yt.transition=null;var o=ae;ae=1;var l=re;re|=4,wu.current=null,Kg(e,n),s0(n,e),wg(Dl),La=!!Al,Dl=Al=null,e.current=n,Gg(n),Sx(),re=l,ae=o,yt.transition=a}else e.current=n;if(Xi&&(Xi=!1,Ln=e,Ha=i),a=e.pendingLanes,a===0&&(Dn=null),Px(n.stateNode),et(e,be()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(Ua)throw Ua=!1,e=rc,rc=null,e;return Ha&1&&e.tag!==0&&Qr(),a=e.pendingLanes,a&1?e===sc?ei++:(ei=0,sc=e):ei=0,Qn(),null}function Qr(){if(Ln!==null){var e=Vm(Ha),t=yt.transition,n=ae;try{if(yt.transition=null,ae=16>e?16:e,Ln===null)var s=!1;else{if(e=Ln,Ln=null,Ha=0,re&6)throw Error($(331));var i=re;for(re|=4,W=e.current;W!==null;){var a=W,o=a.child;if(W.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(W=u;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:Xs(8,d,a)}var h=d.child;if(h!==null)h.return=d,W=h;else for(;W!==null;){d=W;var x=d.sibling,y=d.return;if(t0(d),d===u){W=null;break}if(x!==null){x.return=y,W=x;break}W=y}}}var b=a.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var k=v.sibling;v.sibling=null,v=k}while(v!==null)}}W=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,W=o;else e:for(;W!==null;){if(a=W,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Xs(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,W=p;break e}W=a.return}}var m=e.current;for(W=m;W!==null;){o=W;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,W=f;else e:for(o=m;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:mo(9,l)}}catch(E){ye(l,l.return,E)}if(l===o){W=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,W=N;break e}W=l.return}}if(re=i,Qn(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(so,e)}catch{}s=!0}return s}finally{ae=n,yt.transition=t}}return!1}function rh(e,t,n){t=ms(n,t),t=Wf(e,t,1),e=An(e,t,1),t=Ue(),e!==null&&(Ei(e,1,t),et(e,t))}function ye(e,t,n){if(e.tag===3)rh(e,e,n);else for(;t!==null;){if(t.tag===3){rh(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Dn===null||!Dn.has(s))){e=ms(n,e),e=Uf(t,e,1),t=An(t,e,1),e=Ue(),t!==null&&(Ei(t,1,e),et(t,e));break}}t=t.return}}function ny(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&n,Re===e&&(Oe&n)===n&&(Se===4||Se===3&&(Oe&130023424)===Oe&&500>be()-Nu?mr(e,0):ju|=n),et(e,t)}function d0(e,t){t===0&&(e.mode&1?(t=qi,qi<<=1,!(qi&130023424)&&(qi=4194304)):t=1);var n=Ue();e=rn(e,t),e!==null&&(Ei(e,t,n),et(e,n))}function ry(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),d0(e,n)}function sy(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error($(314))}s!==null&&s.delete(t),d0(e,n)}var h0;h0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Je=!1,Ug(e,t,n);Je=!!(e.flags&131072)}else Je=!1,me&&t.flags&1048576&&xf(t,Da,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ha(e,t),e=t.pendingProps;var i=cs(t,ze.current);Hr(t,n),i=xu(null,t,s,e,i,n);var a=gu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(s)?(a=!0,Ma(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,du(t),i.updater=ho,t.stateNode=i,i._reactInternals=t,Hl(t,s,e,n),t=Kl(null,t,s,!0,a,n)):(t.tag=0,me&&a&&su(t),Ve(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(ha(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=ay(s),e=Nt(s,e),i){case 0:t=Yl(null,t,s,e,n);break e;case 1:t=Qd(null,t,s,e,n);break e;case 11:t=Ud(null,t,s,e,n);break e;case 14:t=Hd(null,t,s,Nt(s.type,e),n);break e}throw Error($(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Nt(s,i),Yl(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Nt(s,i),Qd(e,t,s,i,n);case 3:e:{if(Kf(t),e===null)throw Error($(387));s=t.pendingProps,a=t.memoizedState,i=a.element,jf(e,t),za(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ms(Error($(423)),t),t=Yd(e,t,s,n,i);break e}else if(s!==i){i=ms(Error($(424)),t),t=Yd(e,t,s,n,i);break e}else for(ot=Mn(t.stateNode.containerInfo.firstChild),lt=t,me=!0,Et=null,n=bf(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(us(),s===i){t=sn(e,t,n);break e}Ve(e,t,s,n)}t=t.child}return t;case 5:return Nf(t),e===null&&Vl(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Bl(s,i)?o=null:a!==null&&Bl(s,a)&&(t.flags|=32),Yf(e,t),Ve(e,t,o,n),t.child;case 6:return e===null&&Vl(t),null;case 13:return Gf(e,t,n);case 4:return hu(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ds(t,null,s,n):Ve(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Nt(s,i),Ud(e,t,s,i,n);case 7:return Ve(e,t,t.pendingProps,n),t.child;case 8:return Ve(e,t,t.pendingProps.children,n),t.child;case 12:return Ve(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ce(Ba,s._currentValue),s._currentValue=o,a!==null)if(Rt(a.value,o)){if(a.children===i.children&&!Xe.current){t=sn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Zt(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Wl(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error($(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Wl(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ve(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Hr(t,n),i=vt(i),s=s(i),t.flags|=1,Ve(e,t,s,n),t.child;case 14:return s=t.type,i=Nt(s,t.pendingProps),i=Nt(s.type,i),Hd(e,t,s,i,n);case 15:return Hf(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Nt(s,i),ha(e,t),t.tag=1,Ze(s)?(e=!0,Ma(t)):e=!1,Hr(t,n),Vf(t,s,i),Hl(t,s,i,n),Kl(null,t,s,!0,e,n);case 19:return Jf(e,t,n);case 22:return Qf(e,t,n)}throw Error($(156,t.tag))};function m0(e,t){return $m(e,t)}function iy(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,n,s){return new iy(e,t,n,s)}function Cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ay(e){if(typeof e=="function")return Cu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hc)return 11;if(e===Qc)return 14}return 2}function $n(e,t){var n=e.alternate;return n===null?(n=gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pa(e,t,n,s,i,a){var o=2;if(s=e,typeof e=="function")Cu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Rr:return fr(n.children,i,a,t);case Uc:o=8,i|=8;break;case xl:return e=gt(12,n,t,i|2),e.elementType=xl,e.lanes=a,e;case gl:return e=gt(13,n,t,i),e.elementType=gl,e.lanes=a,e;case yl:return e=gt(19,n,t,i),e.elementType=yl,e.lanes=a,e;case jm:return po(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bm:o=10;break e;case wm:o=9;break e;case Hc:o=11;break e;case Qc:o=14;break e;case pn:o=16,s=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=gt(o,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function fr(e,t,n,s){return e=gt(7,e,s,t),e.lanes=n,e}function po(e,t,n,s){return e=gt(22,e,s,t),e.elementType=jm,e.lanes=n,e.stateNode={isHidden:!1},e}function sl(e,t,n){return e=gt(6,e,null,t),e.lanes=n,e}function il(e,t,n){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oy(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$o(0),this.expirationTimes=$o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Eu(e,t,n,s,i,a,o,l,c){return e=new oy(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=gt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},du(a),e}function ly(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function f0(e){if(!e)return Wn;e=e._reactInternals;e:{if(kr(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(Ze(n))return ff(e,n,t)}return t}function p0(e,t,n,s,i,a,o,l,c){return e=Eu(n,s,!0,e,i,a,o,l,c),e.context=f0(null),n=e.current,s=Ue(),i=Bn(n),a=Zt(s,i),a.callback=t??null,An(n,a,i),e.current.lanes=i,Ei(e,i,s),et(e,s),e}function xo(e,t,n,s){var i=t.current,a=Ue(),o=Bn(i);return n=f0(n),t.context===null?t.context=n:t.pendingContext=n,t=Zt(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=An(i,t,o),e!==null&&(Lt(e,i,o,a),ca(e,i,o)),o}function Ya(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pu(e,t){sh(e,t),(e=e.alternate)&&sh(e,t)}function cy(){return null}var x0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lu(e){this._internalRoot=e}go.prototype.render=Lu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));xo(e,t,null,null)};go.prototype.unmount=Lu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;br(function(){xo(null,e,null,null)}),t[nn]=null}};function go(e){this._internalRoot=e}go.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yn.length&&t!==0&&t<yn[n].priority;n++);yn.splice(n,0,e),n===0&&Ym(e)}};function Ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ih(){}function uy(e,t,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var u=Ya(o);a.call(u)}}var o=p0(t,s,e,0,null,!1,!1,"",ih);return e._reactRootContainer=o,e[nn]=o.current,ci(e.nodeType===8?e.parentNode:e),br(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var u=Ya(c);l.call(u)}}var c=Eu(e,0,!1,null,null,!1,!1,"",ih);return e._reactRootContainer=c,e[nn]=c.current,ci(e.nodeType===8?e.parentNode:e),br(function(){xo(t,c,n,s)}),c}function vo(e,t,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Ya(o);l.call(c)}}xo(t,o,e,i)}else o=uy(n,t,e,i,s);return Ya(o)}Wm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qs(t.pendingLanes);n!==0&&(Gc(t,n|1),et(t,be()),!(re&6)&&(fs=be()+500,Qn()))}break;case 13:br(function(){var s=rn(e,1);if(s!==null){var i=Ue();Lt(s,e,1,i)}}),Pu(e,1)}};Jc=function(e){if(e.tag===13){var t=rn(e,134217728);if(t!==null){var n=Ue();Lt(t,e,134217728,n)}Pu(e,134217728)}};Um=function(e){if(e.tag===13){var t=Bn(e),n=rn(e,t);if(n!==null){var s=Ue();Lt(n,e,t,s)}Pu(e,t)}};Hm=function(){return ae};Qm=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};El=function(e,t,n){switch(t){case"input":if(wl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=lo(s);if(!i)throw Error($(90));_m(s),wl(s,i)}}}break;case"textarea":Sm(e,n);break;case"select":t=n.value,t!=null&&qr(e,!!n.multiple,t,!1)}};Om=_u;Fm=br;var dy={usingClientEntryPoint:!1,Events:[Li,Mr,lo,Rm,Tm,_u]},Fs={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hy={bundleType:Fs.bundleType,version:Fs.version,rendererPackageName:Fs.rendererPackageName,rendererConfig:Fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:on.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Dm(e),e===null?null:e.stateNode},findFiberByHostInstance:Fs.findFiberByHostInstance||cy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zi.isDisabled&&Zi.supportsFiber)try{so=Zi.inject(hy),It=Zi}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dy;ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ru(t))throw Error($(200));return ly(e,t,null,n)};ut.createRoot=function(e,t){if(!Ru(e))throw Error($(299));var n=!1,s="",i=x0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Eu(e,1,!1,null,null,n,!1,s,i),e[nn]=t.current,ci(e.nodeType===8?e.parentNode:e),new Lu(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=Dm(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return br(e)};ut.hydrate=function(e,t,n){if(!yo(t))throw Error($(200));return vo(null,e,t,!0,n)};ut.hydrateRoot=function(e,t,n){if(!Ru(e))throw Error($(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=x0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=p0(t,null,e,1,n??null,i,!1,a,o),e[nn]=t.current,ci(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new go(t)};ut.render=function(e,t,n){if(!yo(t))throw Error($(200));return vo(null,e,t,!1,n)};ut.unmountComponentAtNode=function(e){if(!yo(e))throw Error($(40));return e._reactRootContainer?(br(function(){vo(null,null,e,!1,function(){e._reactRootContainer=null,e[nn]=null})}),!0):!1};ut.unstable_batchedUpdates=_u;ut.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!yo(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return vo(e,t,n,!1,s)};ut.version="18.3.1-next-f1338f8080-20240426";function g0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g0)}catch(e){console.error(e)}}g0(),xm.exports=ut;var my=xm.exports,y0,ah=my;y0=ah.createRoot,ah.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yi.apply(this,arguments)}var Rn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rn||(Rn={}));const oh="popstate";function fy(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:o,hash:l}=s.location;return oc("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:Ka(i)}return xy(t,n,null,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function v0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function py(){return Math.random().toString(36).substr(2,8)}function lh(e,t){return{usr:e.state,key:e.key,idx:t}}function oc(e,t,n,s){return n===void 0&&(n=null),yi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ys(t):t,{state:n,key:t&&t.key||s||py()})}function Ka(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function ys(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function xy(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=Rn.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(yi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Rn.Pop;let k=d(),p=k==null?null:k-u;u=k,c&&c({action:l,location:v.location,delta:p})}function x(k,p){l=Rn.Push;let m=oc(v.location,k,p);u=d()+1;let f=lh(m,u),N=v.createHref(m);try{o.pushState(f,"",N)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(N)}a&&c&&c({action:l,location:v.location,delta:1})}function y(k,p){l=Rn.Replace;let m=oc(v.location,k,p);u=d();let f=lh(m,u),N=v.createHref(m);o.replaceState(f,"",N),a&&c&&c({action:l,location:v.location,delta:0})}function b(k){let p=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof k=="string"?k:Ka(k);return m=m.replace(/ $/,"%20"),we(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let v={get action(){return l},get location(){return e(i,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(oh,h),c=k,()=>{i.removeEventListener(oh,h),c=null}},createHref(k){return t(i,k)},createURL:b,encodeLocation(k){let p=b(k);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:x,replace:y,go(k){return o.go(k)}};return v}var ch;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ch||(ch={}));function gy(e,t,n){return n===void 0&&(n="/"),yy(e,t,n)}function yy(e,t,n,s){let i=typeof t=="string"?ys(t):t,a=Tu(i.pathname||"/",n);if(a==null)return null;let o=b0(e);vy(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Ry(a);l=Ey(o[c],u)}return l}function b0(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(we(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=zn([s,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(we(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),b0(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Sy(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of w0(a.path))i(a,o,c)}),t}function w0(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=w0(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function vy(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Cy(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const by=/^:[\w-]+$/,wy=3,jy=2,Ny=1,_y=10,ky=-2,uh=e=>e==="*";function Sy(e,t){let n=e.split("/"),s=n.length;return n.some(uh)&&(s+=ky),t&&(s+=jy),n.filter(i=>!uh(i)).reduce((i,a)=>i+(by.test(a)?wy:a===""?Ny:_y),s)}function Cy(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function Ey(e,t,n){let{routesMeta:s}=e,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=Py({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),x=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:zn([a,h.pathname]),pathnameBase:My(zn([a,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(a=zn([a,h.pathnameBase]))}return o}function Py(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Ly(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:x,isOptional:y}=d;if(x==="*"){let v=l[h]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const b=l[h];return y&&!b?u[x]=void 0:u[x]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Ly(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),v0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function Ry(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return v0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Tu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Ty(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?ys(e):e;return{pathname:n?n.startsWith("/")?n:Oy(n,t):t,search:Ay(s),hash:Dy(i)}}function Oy(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function al(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ou(e,t){let n=Fy(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Fu(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=ys(e):(i=yi({},e),we(!i.pathname||!i.pathname.includes("?"),al("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),al("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),al("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!s&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),h-=1;i.pathname=x.join("/")}l=h>=0?t[h]:"/"}let c=Ty(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const zn=e=>e.join("/").replace(/\/\/+/g,"/"),My=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ay=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Dy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function By(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const j0=["post","put","patch","delete"];new Set(j0);const $y=["get",...j0];new Set($y);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vi.apply(this,arguments)}const Mu=S.createContext(null),zy=S.createContext(null),Yn=S.createContext(null),bo=S.createContext(null),ln=S.createContext({outlet:null,matches:[],isDataRoute:!1}),N0=S.createContext(null);function Iy(e,t){let{relative:n}=t===void 0?{}:t;vs()||we(!1);let{basename:s,navigator:i}=S.useContext(Yn),{hash:a,pathname:o,search:l}=k0(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:zn([s,o])),i.createHref({pathname:c,search:l,hash:a})}function vs(){return S.useContext(bo)!=null}function Sr(){return vs()||we(!1),S.useContext(bo).location}function _0(e){S.useContext(Yn).static||S.useLayoutEffect(e)}function cn(){let{isDataRoute:e}=S.useContext(ln);return e?ev():qy()}function qy(){vs()||we(!1);let e=S.useContext(Mu),{basename:t,future:n,navigator:s}=S.useContext(Yn),{matches:i}=S.useContext(ln),{pathname:a}=Sr(),o=JSON.stringify(Ou(i,n.v7_relativeSplatPath)),l=S.useRef(!1);return _0(()=>{l.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let h=Fu(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:zn([t,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[t,s,o,a,e])}function Au(){let{matches:e}=S.useContext(ln),t=e[e.length-1];return t?t.params:{}}function k0(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=S.useContext(Yn),{matches:i}=S.useContext(ln),{pathname:a}=Sr(),o=JSON.stringify(Ou(i,s.v7_relativeSplatPath));return S.useMemo(()=>Fu(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function Vy(e,t){return Wy(e,t)}function Wy(e,t,n,s){vs()||we(!1);let{navigator:i}=S.useContext(Yn),{matches:a}=S.useContext(ln),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Sr(),d;if(t){var h;let k=typeof t=="string"?ys(t):t;c==="/"||(h=k.pathname)!=null&&h.startsWith(c)||we(!1),d=k}else d=u;let x=d.pathname||"/",y=x;if(c!=="/"){let k=c.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let b=gy(e,{pathname:y}),v=Ky(b&&b.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:zn([c,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:zn([c,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,s);return t&&v?S.createElement(bo.Provider,{value:{location:vi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Rn.Pop}},v):v}function Uy(){let e=Zy(),t=By(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,null)}const Hy=S.createElement(Uy,null);class Qy extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(ln.Provider,{value:this.props.routeContext},S.createElement(N0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Yy(e){let{routeContext:t,match:n,children:s}=e,i=S.useContext(Mu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(ln.Provider,{value:t},s)}function Ky(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||we(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:x,errors:y}=n,b=h.route.loader&&x[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,x)=>{let y,b=!1,v=null,k=null;n&&(y=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||Hy,c&&(u<0&&x===0?(tv("route-fallback"),b=!0,k=null):u===x&&(b=!0,k=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,x+1)),m=()=>{let f;return y?f=v:b?f=k:h.route.Component?f=S.createElement(h.route.Component,null):h.route.element?f=h.route.element:f=d,S.createElement(Yy,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:f})};return n&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?S.createElement(Qy,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var S0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(S0||{}),C0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(C0||{});function Gy(e){let t=S.useContext(Mu);return t||we(!1),t}function Jy(e){let t=S.useContext(zy);return t||we(!1),t}function Xy(e){let t=S.useContext(ln);return t||we(!1),t}function E0(e){let t=Xy(),n=t.matches[t.matches.length-1];return n.route.id||we(!1),n.route.id}function Zy(){var e;let t=S.useContext(N0),n=Jy(),s=E0();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function ev(){let{router:e}=Gy(S0.UseNavigateStable),t=E0(C0.UseNavigateStable),n=S.useRef(!1);return _0(()=>{n.current=!0}),S.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,vi({fromRouteId:t},a)))},[e,t])}const dh={};function tv(e,t,n){dh[e]||(dh[e]=!0)}function nv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function P0(e){let{to:t,replace:n,state:s,relative:i}=e;vs()||we(!1);let{future:a,static:o}=S.useContext(Yn),{matches:l}=S.useContext(ln),{pathname:c}=Sr(),u=cn(),d=Fu(t,Ou(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return S.useEffect(()=>u(JSON.parse(h),{replace:n,state:s,relative:i}),[u,h,i,n,s]),null}function Ee(e){we(!1)}function rv(e){let{basename:t="/",children:n=null,location:s,navigationType:i=Rn.Pop,navigator:a,static:o=!1,future:l}=e;vs()&&we(!1);let c=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:a,static:o,future:vi({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=ys(s));let{pathname:d="/",search:h="",hash:x="",state:y=null,key:b="default"}=s,v=S.useMemo(()=>{let k=Tu(d,c);return k==null?null:{location:{pathname:k,search:h,hash:x,state:y,key:b},navigationType:i}},[c,d,h,x,y,b,i]);return v==null?null:S.createElement(Yn.Provider,{value:u},S.createElement(bo.Provider,{children:n,value:v}))}function sv(e){let{children:t,location:n}=e;return Vy(lc(t),n)}new Promise(()=>{});function lc(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(s,i)=>{if(!S.isValidElement(s))return;let a=[...t,i];if(s.type===S.Fragment){n.push.apply(n,lc(s.props.children,a));return}s.type!==Ee&&we(!1),!s.props.index||!s.props.children||we(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=lc(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cc.apply(this,arguments)}function iv(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function av(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ov(e,t){return e.button===0&&(!t||t==="_self")&&!av(e)}function uc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function lv(e,t){let n=uc(e);return t&&t.forEach((s,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const cv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uv="6";try{window.__reactRouterVersion=uv}catch{}const dv="startTransition",hh=nx[dv];function hv(e){let{basename:t,children:n,future:s,window:i}=e,a=S.useRef();a.current==null&&(a.current=fy({window:i,v5Compat:!0}));let o=a.current,[l,c]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=S.useCallback(h=>{u&&hh?hh(()=>c(h)):c(h)},[c,u]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.useEffect(()=>nv(s),[s]),S.createElement(rv,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const mv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U=S.forwardRef(function(t,n){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,x=iv(t,cv),{basename:y}=S.useContext(Yn),b,v=!1;if(typeof u=="string"&&fv.test(u)&&(b=u,mv))try{let f=new URL(window.location.href),N=u.startsWith("//")?new URL(f.protocol+u):new URL(u),E=Tu(N.pathname,y);N.origin===f.origin&&E!=null?u=E+N.search+N.hash:v=!0}catch{}let k=Iy(u,{relative:i}),p=pv(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function m(f){s&&s(f),f.defaultPrevented||p(f)}return S.createElement("a",cc({},x,{href:b||k,onClick:v||a?s:m,ref:n,target:c}))});var mh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mh||(mh={}));var fh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fh||(fh={}));function pv(e,t){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=cn(),u=Sr(),d=k0(e,{relative:o});return S.useCallback(h=>{if(ov(h,n)){h.preventDefault();let x=s!==void 0?s:Ka(u)===Ka(d);c(e,{replace:x,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,i,n,e,a,o,l])}function bs(e){let t=S.useRef(uc(e)),n=S.useRef(!1),s=Sr(),i=S.useMemo(()=>lv(s.search,n.current?null:t.current),[s.search]),a=cn(),o=S.useCallback((l,c)=>{const u=uc(typeof l=="function"?l(i):l);n.current=!0,a("?"+u,c)},[a,i]);return[i,o]}var ws=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wr=typeof window>"u"||"Deno"in globalThis;function We(){}function xv(e,t){return typeof e=="function"?e(t):e}function dc(e){return typeof e=="number"&&e>=0&&e!==1/0}function L0(e,t){return Math.max(e+(t||0)-Date.now(),0)}function In(e,t){return typeof e=="function"?e(t):e}function mt(e,t){return typeof e=="function"?e(t):e}function ph(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Du(o,t.options))return!1}else if(!bi(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function xh(e,t){const{exact:n,status:s,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(jr(t.options.mutationKey)!==jr(a))return!1}else if(!bi(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function Du(e,t){return((t==null?void 0:t.queryKeyHashFn)||jr)(e)}function jr(e){return JSON.stringify(e,(t,n)=>hc(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function bi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>bi(e[n],t[n])):!1}var gv=Object.prototype.hasOwnProperty;function R0(e,t){if(e===t)return e;const n=gh(e)&&gh(t);if(!n&&!(hc(e)&&hc(t)))return t;const i=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u],h=e[d],x=t[d];if(h===x){l[d]=h,(n?u<i:gv.call(e,d))&&c++;continue}if(h===null||x===null||typeof h!="object"||typeof x!="object"){l[d]=x;continue}const y=R0(h,x);l[d]=y,y===h&&c++}return i===o&&c===i?e:l}function Ga(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function gh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function hc(e){if(!yh(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!yh(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function yh(e){return Object.prototype.toString.call(e)==="[object Object]"}function yv(e){return new Promise(t=>{setTimeout(t,e)})}function mc(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?R0(e,t):t}function vv(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function bv(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var Bu=Symbol();function T0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Bu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function O0(e,t){return typeof e=="function"?e(...t):!!e}var ir,bn,Kr,Kh,wv=(Kh=class extends ws{constructor(){super();Y(this,ir);Y(this,bn);Y(this,Kr);V(this,Kr,t=>{if(!wr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){_(this,bn)||this.setEventListener(_(this,Kr))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,bn))==null||t.call(this),V(this,bn,void 0))}setEventListener(t){var n;V(this,Kr,t),(n=_(this,bn))==null||n.call(this),V(this,bn,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){_(this,ir)!==t&&(V(this,ir,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof _(this,ir)=="boolean"?_(this,ir):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ir=new WeakMap,bn=new WeakMap,Kr=new WeakMap,Kh),$u=new wv,Gr,wn,Jr,Gh,jv=(Gh=class extends ws{constructor(){super();Y(this,Gr,!0);Y(this,wn);Y(this,Jr);V(this,Jr,t=>{if(!wr&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){_(this,wn)||this.setEventListener(_(this,Jr))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,wn))==null||t.call(this),V(this,wn,void 0))}setEventListener(t){var n;V(this,Jr,t),(n=_(this,wn))==null||n.call(this),V(this,wn,t(this.setOnline.bind(this)))}setOnline(t){_(this,Gr)!==t&&(V(this,Gr,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return _(this,Gr)}},Gr=new WeakMap,wn=new WeakMap,Jr=new WeakMap,Gh),Ja=new jv;function fc(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}function Nv(e){return Math.min(1e3*2**e,3e4)}function F0(e){return(e??"online")==="online"?Ja.isOnline():!0}var pc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function M0(e){let t=!1,n=0,s;const i=fc(),a=()=>i.status!=="pending",o=v=>{var k;if(!a()){const p=new pc(v);x(p),(k=e.onCancel)==null||k.call(e,p)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>$u.isFocused()&&(e.networkMode==="always"||Ja.isOnline())&&e.canRun(),d=()=>F0(e.networkMode)&&e.canRun(),h=v=>{a()||(s==null||s(),i.resolve(v))},x=v=>{a()||(s==null||s(),i.reject(v))},y=()=>new Promise(v=>{var k;s=p=>{(a()||u())&&v(p)},(k=e.onPause)==null||k.call(e)}).then(()=>{var v;s=void 0,a()||(v=e.onContinue)==null||v.call(e)}),b=()=>{if(a())return;let v;const k=n===0?e.initialPromise:void 0;try{v=k??e.fn()}catch(p){v=Promise.reject(p)}Promise.resolve(v).then(h).catch(p=>{var w;if(a())return;const m=e.retry??(wr?0:3),f=e.retryDelay??Nv,N=typeof f=="function"?f(n,p):f,E=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,p);if(t||!E){x(p);return}n++,(w=e.onFail)==null||w.call(e,n,p),yv(N).then(()=>u()?void 0:y()).then(()=>{t?x(p):b()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?b():y().then(b),i)}}var _v=e=>setTimeout(e,0);function kv(){let e=[],t=0,n=l=>{l()},s=l=>{l()},i=_v;const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{i=l}}}var ke=kv(),ar,Jh,A0=(Jh=class{constructor(){Y(this,ar)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dc(this.gcTime)&&V(this,ar,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(wr?1/0:5*60*1e3))}clearGcTimeout(){_(this,ar)&&(clearTimeout(_(this,ar)),V(this,ar,void 0))}},ar=new WeakMap,Jh),Xr,Zr,ht,or,Pe,Ni,lr,_t,Ut,Xh,Sv=(Xh=class extends A0{constructor(t){super();Y(this,_t);Y(this,Xr);Y(this,Zr);Y(this,ht);Y(this,or);Y(this,Pe);Y(this,Ni);Y(this,lr);V(this,lr,!1),V(this,Ni,t.defaultOptions),this.setOptions(t.options),this.observers=[],V(this,or,t.client),V(this,ht,_(this,or).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,V(this,Xr,Cv(this.options)),this.state=t.state??_(this,Xr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=_(this,Pe))==null?void 0:t.promise}setOptions(t){this.options={..._(this,Ni),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,ht).remove(this)}setData(t,n){const s=mc(this.state.data,t,this.options);return X(this,_t,Ut).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){X(this,_t,Ut).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,i;const n=(s=_(this,Pe))==null?void 0:s.promise;return(i=_(this,Pe))==null||i.cancel(t),n?n.then(We).catch(We):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,Xr))}isActive(){return this.observers.some(t=>mt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Bu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>In(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!L0(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=_(this,Pe))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=_(this,Pe))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),_(this,ht).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(_(this,Pe)&&(_(this,lr)?_(this,Pe).cancel({revert:!0}):_(this,Pe).cancelRetry()),this.scheduleGc()),_(this,ht).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||X(this,_t,Ut).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,h,x,y,b,v,k,p,m,f;if(this.state.fetchStatus!=="idle"&&((c=_(this,Pe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(_(this,Pe))return _(this,Pe).continueRetry(),_(this,Pe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(E=>E.options.queryFn);N&&this.setOptions(N.options)}const s=new AbortController,i=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(V(this,lr,!0),s.signal)})},a=()=>{const N=T0(this.options,n),w=(()=>{const j={client:_(this,or),queryKey:this.queryKey,meta:this.meta};return i(j),j})();return V(this,lr,!1),this.options.persister?this.options.persister(N,w,this):N(w)},l=(()=>{const N={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:_(this,or),state:this.state,fetchFn:a};return i(N),N})();(u=this.options.behavior)==null||u.onFetch(l,this),V(this,Zr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&X(this,_t,Ut).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),V(this,Pe,M0({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof pc&&N.revert&&this.setState({..._(this,Zr),fetchStatus:"idle"}),s.abort()},onFail:(N,E)=>{X(this,_t,Ut).call(this,{type:"failed",failureCount:N,error:E})},onPause:()=>{X(this,_t,Ut).call(this,{type:"pause"})},onContinue:()=>{X(this,_t,Ut).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await _(this,Pe).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(y=(x=_(this,ht).config).onSuccess)==null||y.call(x,N,this),(v=(b=_(this,ht).config).onSettled)==null||v.call(b,N,this.state.error,this),N}catch(N){if(N instanceof pc){if(N.silent)return _(this,Pe).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw X(this,_t,Ut).call(this,{type:"error",error:N}),(p=(k=_(this,ht).config).onError)==null||p.call(k,N,this),(f=(m=_(this,ht).config).onSettled)==null||f.call(m,this.state.data,N,this),N}finally{this.scheduleGc()}}},Xr=new WeakMap,Zr=new WeakMap,ht=new WeakMap,or=new WeakMap,Pe=new WeakMap,Ni=new WeakMap,lr=new WeakMap,_t=new WeakSet,Ut=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...D0(s.data,this.options),fetchMeta:t.meta??null};case"success":const i={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return V(this,Zr,t.manual?i:void 0),i;case"error":const a=t.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),ke.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),_(this,ht).notify({query:this,type:"updated",action:t})})},Xh);function D0(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:F0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Cv(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Dt,Zh,Ev=(Zh=class extends ws{constructor(t={}){super();Y(this,Dt);this.config=t,V(this,Dt,new Map)}build(t,n,s){const i=n.queryKey,a=n.queryHash??Du(i,n);let o=this.get(a);return o||(o=new Sv({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){_(this,Dt).has(t.queryHash)||(_(this,Dt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=_(this,Dt).get(t.queryHash);n&&(t.destroy(),n===t&&_(this,Dt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ke.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _(this,Dt).get(t)}getAll(){return[..._(this,Dt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>ph(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>ph(t,s)):n}notify(t){ke.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ke.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ke.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Dt=new WeakMap,Zh),Bt,Ie,cr,$t,fn,em,Pv=(em=class extends A0{constructor(t){super();Y(this,$t);Y(this,Bt);Y(this,Ie);Y(this,cr);this.mutationId=t.mutationId,V(this,Ie,t.mutationCache),V(this,Bt,[]),this.state=t.state||B0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_(this,Bt).includes(t)||(_(this,Bt).push(t),this.clearGcTimeout(),_(this,Ie).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){V(this,Bt,_(this,Bt).filter(n=>n!==t)),this.scheduleGc(),_(this,Ie).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_(this,Bt).length||(this.state.status==="pending"?this.scheduleGc():_(this,Ie).remove(this))}continue(){var t;return((t=_(this,cr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,l,c,u,d,h,x,y,b,v,k,p,m,f,N,E,w,j,g;const n=()=>{X(this,$t,fn).call(this,{type:"continue"})};V(this,cr,M0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,D)=>{X(this,$t,fn).call(this,{type:"failed",failureCount:M,error:D})},onPause:()=>{X(this,$t,fn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,Ie).canRun(this)}));const s=this.state.status==="pending",i=!_(this,cr).canStart();try{if(s)n();else{X(this,$t,fn).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(a=_(this,Ie).config).onMutate)==null?void 0:o.call(a,t,this));const D=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));D!==this.state.context&&X(this,$t,fn).call(this,{type:"pending",context:D,variables:t,isPaused:i})}const M=await _(this,cr).start();return await((d=(u=_(this,Ie).config).onSuccess)==null?void 0:d.call(u,M,t,this.state.context,this)),await((x=(h=this.options).onSuccess)==null?void 0:x.call(h,M,t,this.state.context)),await((b=(y=_(this,Ie).config).onSettled)==null?void 0:b.call(y,M,null,this.state.variables,this.state.context,this)),await((k=(v=this.options).onSettled)==null?void 0:k.call(v,M,null,t,this.state.context)),X(this,$t,fn).call(this,{type:"success",data:M}),M}catch(M){try{throw await((m=(p=_(this,Ie).config).onError)==null?void 0:m.call(p,M,t,this.state.context,this)),await((N=(f=this.options).onError)==null?void 0:N.call(f,M,t,this.state.context)),await((w=(E=_(this,Ie).config).onSettled)==null?void 0:w.call(E,void 0,M,this.state.variables,this.state.context,this)),await((g=(j=this.options).onSettled)==null?void 0:g.call(j,void 0,M,t,this.state.context)),M}finally{X(this,$t,fn).call(this,{type:"error",error:M})}}finally{_(this,Ie).runNext(this)}}},Bt=new WeakMap,Ie=new WeakMap,cr=new WeakMap,$t=new WeakSet,fn=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ke.batch(()=>{_(this,Bt).forEach(s=>{s.onMutationUpdate(t)}),_(this,Ie).notify({mutation:this,type:"updated",action:t})})},em);function B0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yt,kt,_i,tm,Lv=(tm=class extends ws{constructor(t={}){super();Y(this,Yt);Y(this,kt);Y(this,_i);this.config=t,V(this,Yt,new Set),V(this,kt,new Map),V(this,_i,0)}build(t,n,s){const i=new Pv({mutationCache:this,mutationId:++Ai(this,_i)._,options:t.defaultMutationOptions(n),state:s});return this.add(i),i}add(t){_(this,Yt).add(t);const n=ea(t);if(typeof n=="string"){const s=_(this,kt).get(n);s?s.push(t):_(this,kt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(_(this,Yt).delete(t)){const n=ea(t);if(typeof n=="string"){const s=_(this,kt).get(n);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&_(this,kt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=ea(t);if(typeof n=="string"){const s=_(this,kt).get(n),i=s==null?void 0:s.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var s;const n=ea(t);if(typeof n=="string"){const i=(s=_(this,kt).get(n))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ke.batch(()=>{_(this,Yt).forEach(t=>{this.notify({type:"removed",mutation:t})}),_(this,Yt).clear(),_(this,kt).clear()})}getAll(){return Array.from(_(this,Yt))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>xh(n,s))}findAll(t={}){return this.getAll().filter(n=>xh(t,n))}notify(t){ke.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ke.batch(()=>Promise.all(t.map(n=>n.continue().catch(We))))}},Yt=new WeakMap,kt=new WeakMap,_i=new WeakMap,tm);function ea(e){var t;return(t=e.options.scope)==null?void 0:t.id}function vh(e){return{onFetch:(t,n)=>{var d,h,x,y,b;const s=t.options,i=(x=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:x.direction,a=((y=t.state.data)==null?void 0:y.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const k=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},p=T0(t.options,t.fetchOptions),m=async(f,N,E)=>{if(v)return Promise.reject();if(N==null&&f.pages.length)return Promise.resolve(f);const j=(()=>{const K={client:t.client,queryKey:t.queryKey,pageParam:N,direction:E?"backward":"forward",meta:t.options.meta};return k(K),K})(),g=await p(j),{maxPages:M}=t.options,D=E?bv:vv;return{pages:D(f.pages,g,M),pageParams:D(f.pageParams,N,M)}};if(i&&a.length){const f=i==="backward",N=f?Rv:bh,E={pages:a,pageParams:o},w=N(s,E);l=await m(E,w,f)}else{const f=e??a.length;do{const N=c===0?o[0]??s.initialPageParam:bh(s,l);if(c>0&&N==null)break;l=await m(l,N),c++}while(c<f)}return l};t.options.persister?t.fetchFn=()=>{var v,k;return(k=(v=t.options).persister)==null?void 0:k.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function bh(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function Rv(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var ge,jn,Nn,es,ts,_n,ns,rs,nm,Tv=(nm=class{constructor(e={}){Y(this,ge);Y(this,jn);Y(this,Nn);Y(this,es);Y(this,ts);Y(this,_n);Y(this,ns);Y(this,rs);V(this,ge,e.queryCache||new Ev),V(this,jn,e.mutationCache||new Lv),V(this,Nn,e.defaultOptions||{}),V(this,es,new Map),V(this,ts,new Map),V(this,_n,0)}mount(){Ai(this,_n)._++,_(this,_n)===1&&(V(this,ns,$u.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,ge).onFocus())})),V(this,rs,Ja.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,ge).onOnline())})))}unmount(){var e,t;Ai(this,_n)._--,_(this,_n)===0&&((e=_(this,ns))==null||e.call(this),V(this,ns,void 0),(t=_(this,rs))==null||t.call(this),V(this,rs,void 0))}isFetching(e){return _(this,ge).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _(this,jn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=_(this,ge).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=_(this,ge).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(In(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return _(this,ge).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=_(this,ge).get(s.queryHash),a=i==null?void 0:i.state.data,o=xv(t,a);if(o!==void 0)return _(this,ge).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return ke.batch(()=>_(this,ge).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=_(this,ge).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=_(this,ge);ke.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=_(this,ge);return ke.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=ke.batch(()=>_(this,ge).findAll(e).map(i=>i.cancel(n)));return Promise.all(s).then(We).catch(We)}invalidateQueries(e,t={}){return ke.batch(()=>(_(this,ge).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=ke.batch(()=>_(this,ge).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(We)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(We)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=_(this,ge).build(this,t);return n.isStaleByTime(In(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(We).catch(We)}fetchInfiniteQuery(e){return e.behavior=vh(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(We).catch(We)}ensureInfiniteQueryData(e){return e.behavior=vh(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ja.isOnline()?_(this,jn).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,ge)}getMutationCache(){return _(this,jn)}getDefaultOptions(){return _(this,Nn)}setDefaultOptions(e){V(this,Nn,e)}setQueryDefaults(e,t){_(this,es).set(jr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._(this,es).values()],n={};return t.forEach(s=>{bi(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){_(this,ts).set(jr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._(this,ts).values()],n={};return t.forEach(s=>{bi(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._(this,Nn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Du(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Bu&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._(this,Nn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_(this,ge).clear(),_(this,jn).clear()}},ge=new WeakMap,jn=new WeakMap,Nn=new WeakMap,es=new WeakMap,ts=new WeakMap,_n=new WeakMap,ns=new WeakMap,rs=new WeakMap,nm),Ye,ee,ki,qe,ur,ss,Kt,kn,Si,is,as,dr,hr,Sn,os,se,Ws,xc,gc,yc,vc,bc,wc,jc,$0,rm,Ov=(rm=class extends ws{constructor(t,n){super();Y(this,se);Y(this,Ye);Y(this,ee);Y(this,ki);Y(this,qe);Y(this,ur);Y(this,ss);Y(this,Kt);Y(this,kn);Y(this,Si);Y(this,is);Y(this,as);Y(this,dr);Y(this,hr);Y(this,Sn);Y(this,os,new Set);this.options=n,V(this,Ye,t),V(this,kn,null),V(this,Kt,fc()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,ee).addObserver(this),wh(_(this,ee),this.options)?X(this,se,Ws).call(this):this.updateResult(),X(this,se,vc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Nc(_(this,ee),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Nc(_(this,ee),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,X(this,se,bc).call(this),X(this,se,wc).call(this),_(this,ee).removeObserver(this)}setOptions(t){const n=this.options,s=_(this,ee);if(this.options=_(this,Ye).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mt(this.options.enabled,_(this,ee))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");X(this,se,jc).call(this),_(this,ee).setOptions(this.options),n._defaulted&&!Ga(this.options,n)&&_(this,Ye).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,ee),observer:this});const i=this.hasListeners();i&&jh(_(this,ee),s,this.options,n)&&X(this,se,Ws).call(this),this.updateResult(),i&&(_(this,ee)!==s||mt(this.options.enabled,_(this,ee))!==mt(n.enabled,_(this,ee))||In(this.options.staleTime,_(this,ee))!==In(n.staleTime,_(this,ee)))&&X(this,se,xc).call(this);const a=X(this,se,gc).call(this);i&&(_(this,ee)!==s||mt(this.options.enabled,_(this,ee))!==mt(n.enabled,_(this,ee))||a!==_(this,Sn))&&X(this,se,yc).call(this,a)}getOptimisticResult(t){const n=_(this,Ye).getQueryCache().build(_(this,Ye),t),s=this.createResult(n,t);return Mv(this,s)&&(V(this,qe,s),V(this,ss,this.options),V(this,ur,_(this,ee).state)),s}getCurrentResult(){return _(this,qe)}trackResult(t,n){return new Proxy(t,{get:(s,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&!this.options.experimental_prefetchInRender&&_(this,Kt).status==="pending"&&_(this,Kt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,i))})}trackProp(t){_(this,os).add(t)}getCurrentQuery(){return _(this,ee)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=_(this,Ye).defaultQueryOptions(t),s=_(this,Ye).getQueryCache().build(_(this,Ye),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return X(this,se,Ws).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,qe)))}createResult(t,n){var M;const s=_(this,ee),i=this.options,a=_(this,qe),o=_(this,ur),l=_(this,ss),u=t!==s?t.state:_(this,ki),{state:d}=t;let h={...d},x=!1,y;if(n._optimisticResults){const D=this.hasListeners(),K=!D&&wh(t,n),F=D&&jh(t,s,n,i);(K||F)&&(h={...h,...D0(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:v,status:k}=h;y=h.data;let p=!1;if(n.placeholderData!==void 0&&y===void 0&&k==="pending"){let D;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(D=a.data,p=!0):D=typeof n.placeholderData=="function"?n.placeholderData((M=_(this,as))==null?void 0:M.state.data,_(this,as)):n.placeholderData,D!==void 0&&(k="success",y=mc(a==null?void 0:a.data,D,n),x=!0)}if(n.select&&y!==void 0&&!p)if(a&&y===(o==null?void 0:o.data)&&n.select===_(this,Si))y=_(this,is);else try{V(this,Si,n.select),y=n.select(y),y=mc(a==null?void 0:a.data,y,n),V(this,is,y),V(this,kn,null)}catch(D){V(this,kn,D)}_(this,kn)&&(b=_(this,kn),y=_(this,is),v=Date.now(),k="error");const m=h.fetchStatus==="fetching",f=k==="pending",N=k==="error",E=f&&m,w=y!==void 0,g={status:k,fetchStatus:h.fetchStatus,isPending:f,isSuccess:k==="success",isError:N,isInitialLoading:E,isLoading:E,data:y,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!f,isLoadingError:N&&!w,isPaused:h.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:N&&w,isStale:zu(t,n),refetch:this.refetch,promise:_(this,Kt),isEnabled:mt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=L=>{g.status==="error"?L.reject(g.error):g.data!==void 0&&L.resolve(g.data)},K=()=>{const L=V(this,Kt,g.promise=fc());D(L)},F=_(this,Kt);switch(F.status){case"pending":t.queryHash===s.queryHash&&D(F);break;case"fulfilled":(g.status==="error"||g.data!==F.value)&&K();break;case"rejected":(g.status!=="error"||g.error!==F.reason)&&K();break}}return g}updateResult(){const t=_(this,qe),n=this.createResult(_(this,ee),this.options);if(V(this,ur,_(this,ee).state),V(this,ss,this.options),_(this,ur).data!==void 0&&V(this,as,_(this,ee)),Ga(n,t))return;V(this,qe,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!_(this,os).size)return!0;const o=new Set(a??_(this,os));return this.options.throwOnError&&o.add("error"),Object.keys(_(this,qe)).some(l=>{const c=l;return _(this,qe)[c]!==t[c]&&o.has(c)})};X(this,se,$0).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&X(this,se,vc).call(this)}},Ye=new WeakMap,ee=new WeakMap,ki=new WeakMap,qe=new WeakMap,ur=new WeakMap,ss=new WeakMap,Kt=new WeakMap,kn=new WeakMap,Si=new WeakMap,is=new WeakMap,as=new WeakMap,dr=new WeakMap,hr=new WeakMap,Sn=new WeakMap,os=new WeakMap,se=new WeakSet,Ws=function(t){X(this,se,jc).call(this);let n=_(this,ee).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(We)),n},xc=function(){X(this,se,bc).call(this);const t=In(this.options.staleTime,_(this,ee));if(wr||_(this,qe).isStale||!dc(t))return;const s=L0(_(this,qe).dataUpdatedAt,t)+1;V(this,dr,setTimeout(()=>{_(this,qe).isStale||this.updateResult()},s))},gc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,ee)):this.options.refetchInterval)??!1},yc=function(t){X(this,se,wc).call(this),V(this,Sn,t),!(wr||mt(this.options.enabled,_(this,ee))===!1||!dc(_(this,Sn))||_(this,Sn)===0)&&V(this,hr,setInterval(()=>{(this.options.refetchIntervalInBackground||$u.isFocused())&&X(this,se,Ws).call(this)},_(this,Sn)))},vc=function(){X(this,se,xc).call(this),X(this,se,yc).call(this,X(this,se,gc).call(this))},bc=function(){_(this,dr)&&(clearTimeout(_(this,dr)),V(this,dr,void 0))},wc=function(){_(this,hr)&&(clearInterval(_(this,hr)),V(this,hr,void 0))},jc=function(){const t=_(this,Ye).getQueryCache().build(_(this,Ye),this.options);if(t===_(this,ee))return;const n=_(this,ee);V(this,ee,t),V(this,ki,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},$0=function(t){ke.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(_(this,qe))}),_(this,Ye).getQueryCache().notify({query:_(this,ee),type:"observerResultsUpdated"})})},rm);function Fv(e,t){return mt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function wh(e,t){return Fv(e,t)||e.state.data!==void 0&&Nc(e,t,t.refetchOnMount)}function Nc(e,t,n){if(mt(t.enabled,e)!==!1&&In(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&zu(e,t)}return!1}function jh(e,t,n,s){return(e!==t||mt(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&zu(e,n)}function zu(e,t){return mt(t.enabled,e)!==!1&&e.isStaleByTime(In(t.staleTime,e))}function Mv(e,t){return!Ga(e.getCurrentResult(),t)}var Cn,En,Ke,Gt,en,xa,_c,sm,Av=(sm=class extends ws{constructor(n,s){super();Y(this,en);Y(this,Cn);Y(this,En);Y(this,Ke);Y(this,Gt);V(this,Cn,n),this.setOptions(s),this.bindMethods(),X(this,en,xa).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const s=this.options;this.options=_(this,Cn).defaultMutationOptions(n),Ga(this.options,s)||_(this,Cn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,Ke),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&jr(s.mutationKey)!==jr(this.options.mutationKey)?this.reset():((i=_(this,Ke))==null?void 0:i.state.status)==="pending"&&_(this,Ke).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=_(this,Ke))==null||n.removeObserver(this)}onMutationUpdate(n){X(this,en,xa).call(this),X(this,en,_c).call(this,n)}getCurrentResult(){return _(this,En)}reset(){var n;(n=_(this,Ke))==null||n.removeObserver(this),V(this,Ke,void 0),X(this,en,xa).call(this),X(this,en,_c).call(this)}mutate(n,s){var i;return V(this,Gt,s),(i=_(this,Ke))==null||i.removeObserver(this),V(this,Ke,_(this,Cn).getMutationCache().build(_(this,Cn),this.options)),_(this,Ke).addObserver(this),_(this,Ke).execute(n)}},Cn=new WeakMap,En=new WeakMap,Ke=new WeakMap,Gt=new WeakMap,en=new WeakSet,xa=function(){var s;const n=((s=_(this,Ke))==null?void 0:s.state)??B0();V(this,En,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},_c=function(n){ke.batch(()=>{var s,i,a,o,l,c,u,d;if(_(this,Gt)&&this.hasListeners()){const h=_(this,En).variables,x=_(this,En).context;(n==null?void 0:n.type)==="success"?((i=(s=_(this,Gt)).onSuccess)==null||i.call(s,n.data,h,x),(o=(a=_(this,Gt)).onSettled)==null||o.call(a,n.data,null,h,x)):(n==null?void 0:n.type)==="error"&&((c=(l=_(this,Gt)).onError)==null||c.call(l,n.error,h,x),(d=(u=_(this,Gt)).onSettled)==null||d.call(u,void 0,n.error,h,x))}this.listeners.forEach(h=>{h(_(this,En))})})},sm),z0=S.createContext(void 0),Kn=e=>{const t=S.useContext(z0);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Dv=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(z0.Provider,{value:e,children:t})),I0=S.createContext(!1),Bv=()=>S.useContext(I0);I0.Provider;function $v(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var zv=S.createContext($v()),Iv=()=>S.useContext(zv),qv=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Vv=e=>{S.useEffect(()=>{e.clearReset()},[e])},Wv=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&e.data===void 0||O0(n,[e.error,s])),Uv=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...i)=>n(s(...i)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Hv=(e,t)=>e.isLoading&&e.isFetching&&!t,Qv=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Nh=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Yv(e,t,n){var h,x,y,b,v;const s=Bv(),i=Iv(),a=Kn(),o=a.defaultQueryOptions(e);(x=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||x.call(h,o),o._optimisticResults=s?"isRestoring":"optimistic",Uv(o),qv(o,i),Vv(i);const l=!a.getQueryCache().get(o.queryHash),[c]=S.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!s&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(k=>{const p=d?c.subscribe(ke.batchCalls(k)):We;return c.updateResult(),p},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),S.useEffect(()=>{c.setOptions(o)},[o,c]),Qv(o,u))throw Nh(o,c,i);if(Wv({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((b=(y=a.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||b.call(y,o,u),o.experimental_prefetchInRender&&!wr&&Hv(u,s)){const k=l?Nh(o,c,i):(v=a.getQueryCache().get(o.queryHash))==null?void 0:v.promise;k==null||k.catch(We).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function oe(e,t){return Yv(e,Ov)}function Be(e,t){const n=Kn(),[s]=S.useState(()=>new Av(n,e));S.useEffect(()=>{s.setOptions(e)},[s,e]);const i=S.useSyncExternalStore(S.useCallback(o=>s.subscribe(ke.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=S.useCallback((o,l)=>{s.mutate(o,l).catch(We)},[s]);if(i.error&&O0(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const _h=e=>{let t;const n=new Set,s=(u,d)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const x=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,x))}},i=()=>t,l={setState:s,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(s,i,l);return l},Kv=e=>e?_h(e):_h,Gv=e=>e;function Jv(e,t=Gv){const n=er.useSyncExternalStore(e.subscribe,er.useCallback(()=>t(e.getState()),[e,t]),er.useCallback(()=>t(e.getInitialState()),[e,t]));return er.useDebugValue(n),n}const Xv=e=>{const t=Kv(e),n=s=>Jv(t,s);return Object.assign(n,t),n},Zv=e=>Xv;function q0(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=c=>c===null?null:JSON.parse(c,void 0),l=(a=n.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const kc=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(s){return kc(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return kc(s)(n)}}}},eb=(e,t)=>(n,s,i)=>{let a={storage:q0(()=>localStorage),partialize:v=>v,version:0,merge:(v,k)=>({...k,...v}),...t},o=!1;const l=new Set,c=new Set;let u=a.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...v)},s,i);const d=()=>{const v=a.partialize({...s()});return u.setItem(a.name,{state:v,version:a.version})},h=i.setState;i.setState=(v,k)=>(h(v,k),d());const x=e((...v)=>(n(...v),d()),s,i);i.getInitialState=()=>x;let y;const b=()=>{var v,k;if(!u)return;o=!1,l.forEach(m=>{var f;return m((f=s())!=null?f:x)});const p=((k=a.onRehydrateStorage)==null?void 0:k.call(a,(v=s())!=null?v:x))||void 0;return kc(u.getItem.bind(u))(a.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==a.version){if(a.migrate){const f=a.migrate(m.state,m.version);return f instanceof Promise?f.then(N=>[!0,N]):[!0,f]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var f;const[N,E]=m;if(y=a.merge(E,(f=s())!=null?f:x),n(y,!0),N)return d()}).then(()=>{p==null||p(y,void 0),y=s(),o=!0,c.forEach(m=>m(y))}).catch(m=>{p==null||p(void 0,m)})};return i.persist={setOptions:v=>{a={...a,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},a.skipHydration||b(),y||x},tb=eb,Vt=Object.create(null);Vt.open="0";Vt.close="1";Vt.ping="2";Vt.pong="3";Vt.message="4";Vt.upgrade="5";Vt.noop="6";const ga=Object.create(null);Object.keys(Vt).forEach(e=>{ga[Vt[e]]=e});const Sc={type:"error",data:"parser error"},V0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",W0=typeof ArrayBuffer=="function",U0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Iu=({type:e,data:t},n,s)=>V0&&t instanceof Blob?n?s(t):kh(t,s):W0&&(t instanceof ArrayBuffer||U0(t))?n?s(t):kh(new Blob([t]),s):s(Vt[e]+(t||"")),kh=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function Sh(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ol;function nb(e,t){if(V0&&e.data instanceof Blob)return e.data.arrayBuffer().then(Sh).then(t);if(W0&&(e.data instanceof ArrayBuffer||U0(e.data)))return t(Sh(e.data));Iu(e,!1,n=>{ol||(ol=new TextEncoder),t(ol.encode(n))})}const Ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Us=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Ch.length;e++)Us[Ch.charCodeAt(e)]=e;const rb=e=>{let t=e.length*.75,n=e.length,s,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(s=0;s<n;s+=4)a=Us[e.charCodeAt(s)],o=Us[e.charCodeAt(s+1)],l=Us[e.charCodeAt(s+2)],c=Us[e.charCodeAt(s+3)],d[i++]=a<<2|o>>4,d[i++]=(o&15)<<4|l>>2,d[i++]=(l&3)<<6|c&63;return u},sb=typeof ArrayBuffer=="function",qu=(e,t)=>{if(typeof e!="string")return{type:"message",data:H0(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:ib(e.substring(1),t)}:ga[n]?e.length>1?{type:ga[n],data:e.substring(1)}:{type:ga[n]}:Sc},ib=(e,t)=>{if(sb){const n=rb(e);return H0(n,t)}else return{base64:!0,data:e}},H0=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Q0="",ab=(e,t)=>{const n=e.length,s=new Array(n);let i=0;e.forEach((a,o)=>{Iu(a,!1,l=>{s[o]=l,++i===n&&t(s.join(Q0))})})},ob=(e,t)=>{const n=e.split(Q0),s=[];for(let i=0;i<n.length;i++){const a=qu(n[i],t);if(s.push(a),a.type==="error")break}return s};function lb(){return new TransformStream({transform(e,t){nb(e,n=>{const s=n.length;let i;if(s<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,s);else if(s<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,s)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let ll;function ta(e){return e.reduce((t,n)=>t+n.length,0)}function na(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let i=0;i<t;i++)n[i]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function cb(e,t){ll||(ll=new TextDecoder);const n=[];let s=0,i=-1,a=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(s===0){if(ta(n)<1)break;const c=na(n,1);a=(c[0]&128)===128,i=c[0]&127,i<126?s=3:i===126?s=1:s=2}else if(s===1){if(ta(n)<2)break;const c=na(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(ta(n)<8)break;const c=na(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(Sc);break}i=d*Math.pow(2,32)+u.getUint32(4),s=3}else{if(ta(n)<i)break;const c=na(n,i);l.enqueue(qu(a?c:ll.decode(c),t)),s=0}if(i===0||i>e){l.enqueue(Sc);break}}}})}const Y0=4;function Ne(e){if(e)return ub(e)}function ub(e){for(var t in Ne.prototype)e[t]=Ne.prototype[t];return e}Ne.prototype.on=Ne.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ne.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Ne.prototype.off=Ne.prototype.removeListener=Ne.prototype.removeAllListeners=Ne.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,i=0;i<n.length;i++)if(s=n[i],s===t||s.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Ne.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,i=n.length;s<i;++s)n[s].apply(this,t)}return this};Ne.prototype.emitReserved=Ne.prototype.emit;Ne.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ne.prototype.hasListeners=function(e){return!!this.listeners(e).length};const wo=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),xt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),db="arraybuffer";function K0(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const hb=xt.setTimeout,mb=xt.clearTimeout;function jo(e,t){t.useNativeTimers?(e.setTimeoutFn=hb.bind(xt),e.clearTimeoutFn=mb.bind(xt)):(e.setTimeoutFn=xt.setTimeout.bind(xt),e.clearTimeoutFn=xt.clearTimeout.bind(xt))}const fb=1.33;function pb(e){return typeof e=="string"?xb(e):Math.ceil((e.byteLength||e.size)*fb)}function xb(e){let t=0,n=0;for(let s=0,i=e.length;s<i;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function G0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function gb(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function yb(e){let t={},n=e.split("&");for(let s=0,i=n.length;s<i;s++){let a=n[s].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class vb extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class Vu extends Ne{constructor(t){super(),this.writable=!1,jo(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,s){return super.emitReserved("error",new vb(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=qu(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=gb(t);return n.length?"?"+n:""}}class bb extends Vu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};ob(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,ab(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=G0()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let J0=!1;try{J0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const wb=J0;function jb(){}class Nb extends bb{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}let Yr=class ya extends Ne{constructor(t,n,s){super(),this.createRequest=t,jo(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var t;const n=K0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&s.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var i;s.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=ya.requestsCount++,ya.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=jb,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ya.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Yr.requestsCount=0;Yr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Eh);else if(typeof addEventListener=="function"){const e="onpagehide"in xt?"pagehide":"unload";addEventListener(e,Eh,!1)}}function Eh(){for(let e in Yr.requests)Yr.requests.hasOwnProperty(e)&&Yr.requests[e].abort()}const _b=function(){const e=X0({xdomain:!1});return e&&e.responseType!==null}();class kb extends Nb{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=_b&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Yr(X0,this.uri(),t)}}function X0(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||wb))return new XMLHttpRequest}catch{}if(!t)try{return new xt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Z0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Sb extends Vu{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,s=Z0?{}:K0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,s)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],i=n===t.length-1;Iu(s,this.supportsBinary,a=>{try{this.doWrite(s,a)}catch{}i&&wo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=G0()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const cl=xt.WebSocket||xt.MozWebSocket;class Cb extends Sb{createSocket(t,n,s){return Z0?new cl(t,n,s):n?new cl(t,n):new cl(t)}doWrite(t,n){this.ws.send(n)}}class Eb extends Vu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=cb(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),i=lb();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{s.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],i=n===t.length-1;this._writer.write(s).then(()=>{i&&wo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Pb={websocket:Cb,webtransport:Eb,polling:kb},Lb=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Rb=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Cc(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let i=Lb.exec(e||""),a={},o=14;for(;o--;)a[Rb[o]]=i[o]||"";return n!=-1&&s!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=Tb(a,a.path),a.queryKey=Ob(a,a.query),a}function Tb(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Ob(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,i,a){i&&(n[i]=a)}),n}const Ec=typeof addEventListener=="function"&&typeof removeEventListener=="function",va=[];Ec&&addEventListener("offline",()=>{va.forEach(e=>e())},!1);class qn extends Ne{constructor(t,n){if(super(),this.binaryType=db,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const s=Cc(t);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=Cc(n.host).host);jo(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const i=s.prototype.name;this.transports.push(i),this._transportsByName[i]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=yb(this.opts.query)),Ec&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},va.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Y0,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&qn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",qn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(n+=pb(i)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,wo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,s){return this._sendPacket("message",t,n,s),this}send(t,n,s){return this._sendPacket("message",t,n,s),this}_sendPacket(t,n,s,i){if(typeof n=="function"&&(i=n,n=void 0),typeof s=="function"&&(i=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const a={type:t,data:n,options:s};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}_onError(t){if(qn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ec&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=va.indexOf(this._offlineEventListener);s!==-1&&va.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}qn.protocol=Y0;class Fb extends qn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),s=!1;qn.priorWebsocketSuccess=!1;const i=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!s)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;qn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=n.name,this.emitReserved("upgradeError",x)}}))};function a(){s||(s=!0,d(),n.close(),n=null)}const o=h=>{const x=new Error("probe error: "+h);x.transport=n.name,a(),this.emitReserved("upgradeError",x)};function l(){o("transport closed")}function c(){o("socket closed")}function u(h){n&&h.name!==n.name&&a()}const d=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};n.once("open",i),n.once("error",o),n.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}}let Mb=class extends Fb{constructor(t,n={}){const s=typeof t=="object"?t:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(i=>Pb[i]).filter(i=>!!i)),super(t,s)}};function Ab(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=Cc(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+t,s.href=s.protocol+"://"+a+(n&&n.port===s.port?"":":"+s.port),s}const Db=typeof ArrayBuffer=="function",Bb=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,ep=Object.prototype.toString,$b=typeof Blob=="function"||typeof Blob<"u"&&ep.call(Blob)==="[object BlobConstructor]",zb=typeof File=="function"||typeof File<"u"&&ep.call(File)==="[object FileConstructor]";function Wu(e){return Db&&(e instanceof ArrayBuffer||Bb(e))||$b&&e instanceof Blob||zb&&e instanceof File}function ba(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(ba(e[n]))return!0;return!1}if(Wu(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ba(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ba(e[n]))return!0;return!1}function Ib(e){const t=[],n=e.data,s=e;return s.data=Pc(n,t),s.attachments=t.length,{packet:s,buffers:t}}function Pc(e,t){if(!e)return e;if(Wu(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=Pc(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Pc(e[s],t));return n}return e}function qb(e,t){return e.data=Lc(e.data,t),delete e.attachments,e}function Lc(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Lc(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Lc(e[n],t));return e}const Vb=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Wb=5;var te;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(te||(te={}));class Ub{constructor(t){this.replacer=t}encode(t){return(t.type===te.EVENT||t.type===te.ACK)&&ba(t)?this.encodeAsBinary({type:t.type===te.EVENT?te.BINARY_EVENT:te.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===te.BINARY_EVENT||t.type===te.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Ib(t),s=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(s),i}}function Ph(e){return Object.prototype.toString.call(e)==="[object Object]"}class Uu extends Ne{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===te.BINARY_EVENT;s||n.type===te.BINARY_ACK?(n.type=s?te.EVENT:te.ACK,this.reconstructor=new Hb(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Wu(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(te[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===te.BINARY_EVENT||s.type===te.BINARY_ACK){const a=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(a,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(o)}if(t.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(a,n)}else s.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const a=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}s.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){const a=this.tryParse(t.substr(n));if(Uu.isPayloadValid(s.type,a))s.data=a;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case te.CONNECT:return Ph(n);case te.DISCONNECT:return n===void 0;case te.CONNECT_ERROR:return typeof n=="string"||Ph(n);case te.EVENT:case te.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Vb.indexOf(n[0])===-1);case te.ACK:case te.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Hb{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=qb(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Qb=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Uu,Encoder:Ub,get PacketType(){return te},protocol:Wb},Symbol.toStringTag,{value:"Module"}));function Ct(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Yb=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class tp extends Ne{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ct(t,"open",this.onopen.bind(this)),Ct(t,"packet",this.onpacket.bind(this)),Ct(t,"error",this.onerror.bind(this)),Ct(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var s,i,a;if(Yb.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:te.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,h=n.pop();this._registerAckCallback(d,h),o.id=d}const l=(i=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var s;const i=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(a),n.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((s,i)=>{const a=(o,l)=>o?i(o):s(l);a.withError=!0,n.push(a),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>s!==this._queue[0]?void 0:(i!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...a)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:te.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case te.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case te.EVENT:case te.BINARY_EVENT:this.onevent(t);break;case te.ACK:case te.BINARY_ACK:this.onack(t);break;case te.DISCONNECT:this.ondisconnect();break;case te.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...i){s||(s=!0,n.packet({type:te.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:te.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function js(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}js.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};js.prototype.reset=function(){this.attempts=0};js.prototype.setMin=function(e){this.ms=e};js.prototype.setMax=function(e){this.max=e};js.prototype.setJitter=function(e){this.jitter=e};class Rc extends Ne{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,jo(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new js({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||Qb;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Mb(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=Ct(n,"open",function(){s.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Ct(n,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ct(t,"ping",this.onping.bind(this)),Ct(t,"data",this.ondata.bind(this)),Ct(t,"error",this.onerror.bind(this)),Ct(t,"close",this.onclose.bind(this)),Ct(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){wo(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new tp(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ms={};function wa(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Ab(e,t.path||"/socket.io"),s=n.source,i=n.id,a=n.path,o=Ms[i]&&a in Ms[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new Rc(s,t):(Ms[i]||(Ms[i]=new Rc(s,t)),c=Ms[i]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(wa,{Manager:Rc,Socket:tp,io:wa,connect:wa});function np(e,t){return function(){return e.apply(t,arguments)}}const{toString:Kb}=Object.prototype,{getPrototypeOf:Hu}=Object,{iterator:No,toStringTag:rp}=Symbol,_o=(e=>t=>{const n=Kb.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Tt=e=>(e=e.toLowerCase(),t=>_o(t)===e),ko=e=>t=>typeof t===e,{isArray:Ns}=Array,wi=ko("undefined");function Ti(e){return e!==null&&!wi(e)&&e.constructor!==null&&!wi(e.constructor)&&tt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const sp=Tt("ArrayBuffer");function Gb(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&sp(e.buffer),t}const Jb=ko("string"),tt=ko("function"),ip=ko("number"),Oi=e=>e!==null&&typeof e=="object",Xb=e=>e===!0||e===!1,ja=e=>{if(_o(e)!=="object")return!1;const t=Hu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(rp in e)&&!(No in e)},Zb=e=>{if(!Oi(e)||Ti(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},e1=Tt("Date"),t1=Tt("File"),n1=Tt("Blob"),r1=Tt("FileList"),s1=e=>Oi(e)&&tt(e.pipe),i1=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||tt(e.append)&&((t=_o(e))==="formdata"||t==="object"&&tt(e.toString)&&e.toString()==="[object FormData]"))},a1=Tt("URLSearchParams"),[o1,l1,c1,u1]=["ReadableStream","Request","Response","Headers"].map(Tt),d1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fi(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,i;if(typeof e!="object"&&(e=[e]),Ns(e))for(s=0,i=e.length;s<i;s++)t.call(null,e[s],s,e);else{if(Ti(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(s=0;s<o;s++)l=a[s],t.call(null,e[l],l,e)}}function ap(e,t){if(Ti(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,i;for(;s-- >0;)if(i=n[s],t===i.toLowerCase())return i;return null}const sr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,op=e=>!wi(e)&&e!==sr;function Tc(){const{caseless:e}=op(this)&&this||{},t={},n=(s,i)=>{const a=e&&ap(t,i)||i;ja(t[a])&&ja(s)?t[a]=Tc(t[a],s):ja(s)?t[a]=Tc({},s):Ns(s)?t[a]=s.slice():t[a]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Fi(arguments[s],n);return t}const h1=(e,t,n,{allOwnKeys:s}={})=>(Fi(t,(i,a)=>{n&&tt(i)?e[a]=np(i,n):e[a]=i},{allOwnKeys:s}),e),m1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),f1=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},p1=(e,t,n,s)=>{let i,a,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&Hu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},x1=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},g1=e=>{if(!e)return null;if(Ns(e))return e;let t=e.length;if(!ip(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},y1=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Hu(Uint8Array)),v1=(e,t)=>{const s=(e&&e[No]).call(e);let i;for(;(i=s.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},b1=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},w1=Tt("HTMLFormElement"),j1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),Lh=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),N1=Tt("RegExp"),lp=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Fi(n,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(s[a]=o||i)}),Object.defineProperties(e,s)},_1=e=>{lp(e,(t,n)=>{if(tt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(tt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},k1=(e,t)=>{const n={},s=i=>{i.forEach(a=>{n[a]=!0})};return Ns(e)?s(e):s(String(e).split(t)),n},S1=()=>{},C1=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function E1(e){return!!(e&&tt(e.append)&&e[rp]==="FormData"&&e[No])}const P1=e=>{const t=new Array(10),n=(s,i)=>{if(Oi(s)){if(t.indexOf(s)>=0)return;if(Ti(s))return s;if(!("toJSON"in s)){t[i]=s;const a=Ns(s)?[]:{};return Fi(s,(o,l)=>{const c=n(o,i+1);!wi(c)&&(a[l]=c)}),t[i]=void 0,a}}return s};return n(e,0)},L1=Tt("AsyncFunction"),R1=e=>e&&(Oi(e)||tt(e))&&tt(e.then)&&tt(e.catch),cp=((e,t)=>e?setImmediate:t?((n,s)=>(sr.addEventListener("message",({source:i,data:a})=>{i===sr&&a===n&&s.length&&s.shift()()},!1),i=>{s.push(i),sr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",tt(sr.postMessage)),T1=typeof queueMicrotask<"u"?queueMicrotask.bind(sr):typeof process<"u"&&process.nextTick||cp,O1=e=>e!=null&&tt(e[No]),O={isArray:Ns,isArrayBuffer:sp,isBuffer:Ti,isFormData:i1,isArrayBufferView:Gb,isString:Jb,isNumber:ip,isBoolean:Xb,isObject:Oi,isPlainObject:ja,isEmptyObject:Zb,isReadableStream:o1,isRequest:l1,isResponse:c1,isHeaders:u1,isUndefined:wi,isDate:e1,isFile:t1,isBlob:n1,isRegExp:N1,isFunction:tt,isStream:s1,isURLSearchParams:a1,isTypedArray:y1,isFileList:r1,forEach:Fi,merge:Tc,extend:h1,trim:d1,stripBOM:m1,inherits:f1,toFlatObject:p1,kindOf:_o,kindOfTest:Tt,endsWith:x1,toArray:g1,forEachEntry:v1,matchAll:b1,isHTMLForm:w1,hasOwnProperty:Lh,hasOwnProp:Lh,reduceDescriptors:lp,freezeMethods:_1,toObjectSet:k1,toCamelCase:j1,noop:S1,toFiniteNumber:C1,findKey:ap,global:sr,isContextDefined:op,isSpecCompliantForm:E1,toJSONObject:P1,isAsyncFn:L1,isThenable:R1,setImmediate:cp,asap:T1,isIterable:O1};function J(e,t,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}O.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const up=J.prototype,dp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{dp[e]={value:e}});Object.defineProperties(J,dp);Object.defineProperty(up,"isAxiosError",{value:!0});J.from=(e,t,n,s,i,a)=>{const o=Object.create(up);return O.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),J.call(o,e.message,t,n,s,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const F1=null;function Oc(e){return O.isPlainObject(e)||O.isArray(e)}function hp(e){return O.endsWith(e,"[]")?e.slice(0,-2):e}function Rh(e,t,n){return e?e.concat(t).map(function(i,a){return i=hp(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function M1(e){return O.isArray(e)&&!e.some(Oc)}const A1=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function So(e,t,n){if(!O.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,k){return!O.isUndefined(k[v])});const s=n.metaTokens,i=n.visitor||d,a=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(i))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(O.isDate(b))return b.toISOString();if(O.isBoolean(b))return b.toString();if(!c&&O.isBlob(b))throw new J("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(b)||O.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function d(b,v,k){let p=b;if(b&&!k&&typeof b=="object"){if(O.endsWith(v,"{}"))v=s?v:v.slice(0,-2),b=JSON.stringify(b);else if(O.isArray(b)&&M1(b)||(O.isFileList(b)||O.endsWith(v,"[]"))&&(p=O.toArray(b)))return v=hp(v),p.forEach(function(f,N){!(O.isUndefined(f)||f===null)&&t.append(o===!0?Rh([v],N,a):o===null?v:v+"[]",u(f))}),!1}return Oc(b)?!0:(t.append(Rh(k,v,a),u(b)),!1)}const h=[],x=Object.assign(A1,{defaultVisitor:d,convertValue:u,isVisitable:Oc});function y(b,v){if(!O.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(b),O.forEach(b,function(p,m){(!(O.isUndefined(p)||p===null)&&i.call(t,p,O.isString(m)?m.trim():m,v,x))===!0&&y(p,v?v.concat(m):[m])}),h.pop()}}if(!O.isObject(e))throw new TypeError("data must be an object");return y(e),t}function Th(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Qu(e,t){this._pairs=[],e&&So(e,this,t)}const mp=Qu.prototype;mp.append=function(t,n){this._pairs.push([t,n])};mp.toString=function(t){const n=t?function(s){return t.call(this,s,Th)}:Th;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function D1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fp(e,t,n){if(!t)return e;const s=n&&n.encode||D1;O.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(t,n):a=O.isURLSearchParams(t)?t.toString():new Qu(t,n).toString(s),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Oh{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(s){s!==null&&t(s)})}}const pp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},B1=typeof URLSearchParams<"u"?URLSearchParams:Qu,$1=typeof FormData<"u"?FormData:null,z1=typeof Blob<"u"?Blob:null,I1={isBrowser:!0,classes:{URLSearchParams:B1,FormData:$1,Blob:z1},protocols:["http","https","file","blob","url","data"]},Yu=typeof window<"u"&&typeof document<"u",Fc=typeof navigator=="object"&&navigator||void 0,q1=Yu&&(!Fc||["ReactNative","NativeScript","NS"].indexOf(Fc.product)<0),V1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",W1=Yu&&window.location.href||"http://localhost",U1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yu,hasStandardBrowserEnv:q1,hasStandardBrowserWebWorkerEnv:V1,navigator:Fc,origin:W1},Symbol.toStringTag,{value:"Module"})),$e={...U1,...I1};function H1(e,t){return So(e,new $e.classes.URLSearchParams,{visitor:function(n,s,i,a){return $e.isNode&&O.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Q1(e){return O.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Y1(e){const t={},n=Object.keys(e);let s;const i=n.length;let a;for(s=0;s<i;s++)a=n[s],t[a]=e[a];return t}function xp(e){function t(n,s,i,a){let o=n[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=n.length;return o=!o&&O.isArray(i)?i.length:o,c?(O.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!l):((!i[o]||!O.isObject(i[o]))&&(i[o]=[]),t(n,s,i[o],a)&&O.isArray(i[o])&&(i[o]=Y1(i[o])),!l)}if(O.isFormData(e)&&O.isFunction(e.entries)){const n={};return O.forEachEntry(e,(s,i)=>{t(Q1(s),i,n,0)}),n}return null}function K1(e,t,n){if(O.isString(e))try{return(t||JSON.parse)(e),O.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Mi={transitional:pp,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,a=O.isObject(t);if(a&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return i?JSON.stringify(xp(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t)||O.isReadableStream(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return H1(t,this.formSerializer).toString();if((l=O.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return So(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),K1(t)):t}],transformResponse:[function(t){const n=this.transitional||Mi.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(O.isResponse(t)||O.isReadableStream(t))return t;if(t&&O.isString(t)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?J.from(l,J.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$e.classes.FormData,Blob:$e.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],e=>{Mi.headers[e]={}});const G1=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),J1=e=>{const t={};let n,s,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||t[n]&&G1[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Fh=Symbol("internals");function As(e){return e&&String(e).trim().toLowerCase()}function Na(e){return e===!1||e==null?e:O.isArray(e)?e.map(Na):String(e)}function X1(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Z1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ul(e,t,n,s,i){if(O.isFunction(s))return s.call(this,t,n);if(i&&(t=n),!!O.isString(t)){if(O.isString(s))return t.indexOf(s)!==-1;if(O.isRegExp(s))return s.test(t)}}function ew(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function tw(e,t){const n=O.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(i,a,o){return this[s].call(this,t,i,a,o)},configurable:!0})})}let nt=class{constructor(t){t&&this.set(t)}set(t,n,s){const i=this;function a(l,c,u){const d=As(c);if(!d)throw new Error("header name must be a non-empty string");const h=O.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=Na(l))}const o=(l,c)=>O.forEach(l,(u,d)=>a(u,d,c));if(O.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(O.isString(t)&&(t=t.trim())&&!Z1(t))o(J1(t),n);else if(O.isObject(t)&&O.isIterable(t)){let l={},c,u;for(const d of t){if(!O.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?O.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,n)}else t!=null&&a(n,t,s);return this}get(t,n){if(t=As(t),t){const s=O.findKey(this,t);if(s){const i=this[s];if(!n)return i;if(n===!0)return X1(i);if(O.isFunction(n))return n.call(this,i,s);if(O.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=As(t),t){const s=O.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||ul(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let i=!1;function a(o){if(o=As(o),o){const l=O.findKey(s,o);l&&(!n||ul(s,s[l],l,n))&&(delete s[l],i=!0)}}return O.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const a=n[s];(!t||ul(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,s={};return O.forEach(this,(i,a)=>{const o=O.findKey(s,a);if(o){n[o]=Na(i),delete n[a];return}const l=t?ew(a):String(a).trim();l!==a&&delete n[a],n[l]=Na(i),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return O.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=t&&O.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(i=>s.set(i)),s}static accessor(t){const s=(this[Fh]=this[Fh]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=As(o);s[l]||(tw(i,o),s[l]=!0)}return O.isArray(t)?t.forEach(a):a(t),this}};nt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(nt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});O.freezeMethods(nt);function dl(e,t){const n=this||Mi,s=t||n,i=nt.from(s.headers);let a=s.data;return O.forEach(e,function(l){a=l.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function gp(e){return!!(e&&e.__CANCEL__)}function _s(e,t,n){J.call(this,e??"canceled",J.ERR_CANCELED,t,n),this.name="CanceledError"}O.inherits(_s,J,{__CANCEL__:!0});function yp(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new J("Request failed with status code "+n.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function nw(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function rw(e,t){e=e||10;const n=new Array(e),s=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=s[a];o||(o=u),n[i]=c,s[i]=u;let h=a,x=0;for(;h!==i;)x+=n[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-o<t)return;const y=d&&u-d;return y?Math.round(x*1e3/y):void 0}}function sw(e,t){let n=0,s=1e3/t,i,a;const o=(u,d=Date.now())=>{n=d,i=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=s?o(u,d):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},s-h)))},()=>i&&o(i)]}const Xa=(e,t,n=3)=>{let s=0;const i=rw(50,250);return sw(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-s,u=i(c),d=o<=l;s=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},Mh=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Ah=e=>(...t)=>O.asap(()=>e(...t)),iw=$e.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,$e.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL($e.origin),$e.navigator&&/(msie|trident)/i.test($e.navigator.userAgent)):()=>!0,aw=$e.hasStandardBrowserEnv?{write(e,t,n,s,i,a){const o=[e+"="+encodeURIComponent(t)];O.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),O.isString(s)&&o.push("path="+s),O.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ow(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function lw(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function vp(e,t,n){let s=!ow(t);return e&&(s||n==!1)?lw(e,t):t}const Dh=e=>e instanceof nt?{...e}:e;function Nr(e,t){t=t||{};const n={};function s(u,d,h,x){return O.isPlainObject(u)&&O.isPlainObject(d)?O.merge.call({caseless:x},u,d):O.isPlainObject(d)?O.merge({},d):O.isArray(d)?d.slice():d}function i(u,d,h,x){if(O.isUndefined(d)){if(!O.isUndefined(u))return s(void 0,u,h,x)}else return s(u,d,h,x)}function a(u,d){if(!O.isUndefined(d))return s(void 0,d)}function o(u,d){if(O.isUndefined(d)){if(!O.isUndefined(u))return s(void 0,u)}else return s(void 0,d)}function l(u,d,h){if(h in t)return s(u,d);if(h in e)return s(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>i(Dh(u),Dh(d),h,!0)};return O.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||i,x=h(e[d],t[d],d);O.isUndefined(x)&&h!==l||(n[d]=x)}),n}const bp=e=>{const t=Nr({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;t.headers=o=nt.from(o),t.url=fp(vp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(O.isFormData(n)){if($e.hasStandardBrowserEnv||$e.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if($e.hasStandardBrowserEnv&&(s&&O.isFunction(s)&&(s=s(t)),s||s!==!1&&iw(t.url))){const u=i&&a&&aw.read(a);u&&o.set(i,u)}return t},cw=typeof XMLHttpRequest<"u",uw=cw&&function(e){return new Promise(function(n,s){const i=bp(e);let a=i.data;const o=nt.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,h,x,y,b;function v(){y&&y(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let k=new XMLHttpRequest;k.open(i.method.toUpperCase(),i.url,!0),k.timeout=i.timeout;function p(){if(!k)return;const f=nt.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:f,config:e,request:k};yp(function(j){n(j),v()},function(j){s(j),v()},E),k=null}"onloadend"in k?k.onloadend=p:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(p)},k.onabort=function(){k&&(s(new J("Request aborted",J.ECONNABORTED,e,k)),k=null)},k.onerror=function(){s(new J("Network Error",J.ERR_NETWORK,e,k)),k=null},k.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||pp;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),s(new J(N,E.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,k)),k=null},a===void 0&&o.setContentType(null),"setRequestHeader"in k&&O.forEach(o.toJSON(),function(N,E){k.setRequestHeader(E,N)}),O.isUndefined(i.withCredentials)||(k.withCredentials=!!i.withCredentials),l&&l!=="json"&&(k.responseType=i.responseType),u&&([x,b]=Xa(u,!0),k.addEventListener("progress",x)),c&&k.upload&&([h,y]=Xa(c),k.upload.addEventListener("progress",h),k.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(d=f=>{k&&(s(!f||f.type?new _s(null,e,k):f),k.abort(),k=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const m=nw(i.url);if(m&&$e.protocols.indexOf(m)===-1){s(new J("Unsupported protocol "+m+":",J.ERR_BAD_REQUEST,e));return}k.send(a||null)})},dw=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,i;const a=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;s.abort(d instanceof J?d:new _s(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new J(`timeout ${t} of ms exceeded`,J.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=s;return c.unsubscribe=()=>O.asap(l),c}},hw=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,i;for(;s<n;)i=s+t,yield e.slice(s,i),s=i},mw=async function*(e,t){for await(const n of fw(e))yield*hw(n,t)},fw=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},Bh=(e,t,n,s)=>{const i=mw(e,t);let a=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let h=d.byteLength;if(n){let x=a+=h;n(x)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Co=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wp=Co&&typeof ReadableStream=="function",pw=Co&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),jp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},xw=wp&&jp(()=>{let e=!1;const t=new Request($e.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),$h=64*1024,Mc=wp&&jp(()=>O.isReadableStream(new Response("").body)),Za={stream:Mc&&(e=>e.body)};Co&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Za[t]&&(Za[t]=O.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new J(`Response type '${t}' is not supported`,J.ERR_NOT_SUPPORT,s)})})})(new Response);const gw=async e=>{if(e==null)return 0;if(O.isBlob(e))return e.size;if(O.isSpecCompliantForm(e))return(await new Request($e.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(O.isArrayBufferView(e)||O.isArrayBuffer(e))return e.byteLength;if(O.isURLSearchParams(e)&&(e=e+""),O.isString(e))return(await pw(e)).byteLength},yw=async(e,t)=>{const n=O.toFiniteNumber(e.getContentLength());return n??gw(t)},vw=Co&&(async e=>{let{url:t,method:n,data:s,signal:i,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:x}=bp(e);u=u?(u+"").toLowerCase():"text";let y=dw([i,a&&a.toAbortSignal()],o),b;const v=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let k;try{if(c&&xw&&n!=="get"&&n!=="head"&&(k=await yw(d,s))!==0){let E=new Request(t,{method:"POST",body:s,duplex:"half"}),w;if(O.isFormData(s)&&(w=E.headers.get("content-type"))&&d.setContentType(w),E.body){const[j,g]=Mh(k,Xa(Ah(c)));s=Bh(E.body,$h,j,g)}}O.isString(h)||(h=h?"include":"omit");const p="credentials"in Request.prototype;b=new Request(t,{...x,signal:y,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:p?h:void 0});let m=await fetch(b,x);const f=Mc&&(u==="stream"||u==="response");if(Mc&&(l||f&&v)){const E={};["status","statusText","headers"].forEach(M=>{E[M]=m[M]});const w=O.toFiniteNumber(m.headers.get("content-length")),[j,g]=l&&Mh(w,Xa(Ah(l),!0))||[];m=new Response(Bh(m.body,$h,j,()=>{g&&g(),v&&v()}),E)}u=u||"text";let N=await Za[O.findKey(Za,u)||"text"](m,e);return!f&&v&&v(),await new Promise((E,w)=>{yp(E,w,{data:N,headers:nt.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:b})})}catch(p){throw v&&v(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,e,b),{cause:p.cause||p}):J.from(p,p&&p.code,e,b)}}),Ac={http:F1,xhr:uw,fetch:vw};O.forEach(Ac,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const zh=e=>`- ${e}`,bw=e=>O.isFunction(e)||e===null||e===!1,Np={getAdapter:e=>{e=O.isArray(e)?e:[e];const{length:t}=e;let n,s;const i={};for(let a=0;a<t;a++){n=e[a];let o;if(s=n,!bw(n)&&(s=Ac[(o=String(n)).toLowerCase()],s===void 0))throw new J(`Unknown adapter '${o}'`);if(s)break;i[o||"#"+a]=s}if(!s){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(zh).join(`
`):" "+zh(a[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Ac};function hl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _s(null,e)}function Ih(e){return hl(e),e.headers=nt.from(e.headers),e.data=dl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Np.getAdapter(e.adapter||Mi.adapter)(e).then(function(s){return hl(e),s.data=dl.call(e,e.transformResponse,s),s.headers=nt.from(s.headers),s},function(s){return gp(s)||(hl(e),s&&s.response&&(s.response.data=dl.call(e,e.transformResponse,s.response),s.response.headers=nt.from(s.response.headers))),Promise.reject(s)})}const _p="1.11.0",Eo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Eo[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const qh={};Eo.transitional=function(t,n,s){function i(a,o){return"[Axios v"+_p+"] Transitional option '"+a+"'"+o+(s?". "+s:"")}return(a,o,l)=>{if(t===!1)throw new J(i(o," has been removed"+(n?" in "+n:"")),J.ERR_DEPRECATED);return n&&!qh[o]&&(qh[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,l):!0}};Eo.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function ww(e,t,n){if(typeof e!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let i=s.length;for(;i-- >0;){const a=s[i],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new J("option "+a+" must be "+c,J.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new J("Unknown option "+a,J.ERR_BAD_OPTION)}}const _a={assertOptions:ww,validators:Eo},Ft=_a.validators;let pr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Oh,response:new Oh}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Nr(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:a}=n;s!==void 0&&_a.assertOptions(s,{silentJSONParsing:Ft.transitional(Ft.boolean),forcedJSONParsing:Ft.transitional(Ft.boolean),clarifyTimeoutError:Ft.transitional(Ft.boolean)},!1),i!=null&&(O.isFunction(i)?n.paramsSerializer={serialize:i}:_a.assertOptions(i,{encode:Ft.function,serialize:Ft.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),_a.assertOptions(n,{baseUrl:Ft.spelling("baseURL"),withXsrfToken:Ft.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&O.merge(a.common,a[n.method]);a&&O.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),n.headers=nt.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,x;if(!c){const b=[Ih.bind(this),void 0];for(b.unshift(...l),b.push(...u),x=b.length,d=Promise.resolve(n);h<x;)d=d.then(b[h++],b[h++]);return d}x=l.length;let y=n;for(h=0;h<x;){const b=l[h++],v=l[h++];try{y=b(y)}catch(k){v.call(this,k);break}}try{d=Ih.call(this,y)}catch(b){return Promise.reject(b)}for(h=0,x=u.length;h<x;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=Nr(this.defaults,t);const n=vp(t.baseURL,t.url,t.allowAbsoluteUrls);return fp(n,t.params,t.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(t){pr.prototype[t]=function(n,s){return this.request(Nr(s||{},{method:t,url:n,data:(s||{}).data}))}});O.forEach(["post","put","patch"],function(t){function n(s){return function(a,o,l){return this.request(Nr(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}pr.prototype[t]=n(),pr.prototype[t+"Form"]=n(!0)});let jw=class kp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(i=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](i);s._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{s.subscribe(l),a=l}).then(i);return o.cancel=function(){s.unsubscribe(a)},o},t(function(a,o,l){s.reason||(s.reason=new _s(a,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new kp(function(i){t=i}),cancel:t}}};function Nw(e){return function(n){return e.apply(null,n)}}function _w(e){return O.isObject(e)&&e.isAxiosError===!0}const Dc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dc).forEach(([e,t])=>{Dc[t]=e});function Sp(e){const t=new pr(e),n=np(pr.prototype.request,t);return O.extend(n,pr.prototype,t,{allOwnKeys:!0}),O.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return Sp(Nr(e,i))},n}const q=Sp(Mi);q.Axios=pr;q.CanceledError=_s;q.CancelToken=jw;q.isCancel=gp;q.VERSION=_p;q.toFormData=So;q.AxiosError=J;q.Cancel=q.CanceledError;q.all=function(t){return Promise.all(t)};q.spread=Nw;q.isAxiosError=_w;q.mergeConfig=Nr;q.AxiosHeaders=nt;q.formToJSON=e=>xp(O.isHTMLForm(e)?new FormData(e):e);q.getAdapter=Np.getAdapter;q.HttpStatusCode=Dc;q.default=q;const{Axios:kj,AxiosError:Sj,CanceledError:Cj,isCancel:Ej,CancelToken:Pj,VERSION:Lj,all:Rj,Cancel:Tj,isAxiosError:Oj,spread:Fj,toFormData:Mj,AxiosHeaders:Aj,HttpStatusCode:Dj,formToJSON:Bj,getAdapter:$j,mergeConfig:zj}=q,G=Zv()(tb((e,t)=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null},search_filters:{location:null,check_in:null,check_out:null,guest_count:null,price_min:null,price_max:null,property_types:[],amenities:[],sort_by:"recommended"},booking_cart:{listing_id:null,check_in:null,check_out:null,guest_count:null,special_requests:null},user_role:{role:null},notification_count:{unread_count:0},websocket_connection:null,websocket_connected:!1,currentLanguage:"ar",currentCurrency:"LYD",login_user:async(n,s)=>{var i,a;e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null}}));try{const o=await q.post("http://localhost:3000/api/auth/login",{email:n,password:s},{headers:{"Content-Type":"application/json"}}),{user:l,token:c}=o.data;e(()=>({authentication_state:{current_user:l,auth_token:c,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null},user_role:{role:l.role}})),t().connect_websocket(c)}catch(o){const l=((a=(i=o.response)==null?void 0:i.data)==null?void 0:a.message)||o.message||"Login failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:l}})),new Error(l)}},logout_user:()=>{t().disconnect_websocket(),e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null},user_role:{role:null}}))},register_user:async n=>{var s,i;e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null}}));try{const a=await q.post("http://localhost:3000/api/auth/register",n,{headers:{"Content-Type":"application/json"}}),{user:o,token:l}=a.data;e(()=>({authentication_state:{current_user:o,auth_token:l,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null},user_role:{role:o.role}})),t().connect_websocket(l)}catch(a){const o=((i=(s=a.response)==null?void 0:s.data)==null?void 0:i.message)||a.message||"Registration failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:o}})),new Error(o)}},initialize_auth:async()=>{const{auth_token:n}=t().authentication_state;if(!n){e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null}}));return}try{const s=await q.get("http://localhost:3000/api/auth/verify",{headers:{Authorization:`Bearer ${n}`}}),{user:i}=s.data;e(()=>({authentication_state:{current_user:i,auth_token:n,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null},user_role:{role:i.role}})),t().connect_websocket(n)}catch{e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null},user_role:{role:null}}))}},clear_auth_error:()=>{e(n=>({authentication_state:{...n.authentication_state,error_message:null}}))},update_search_filters:n=>{e(s=>({search_filters:{...s.search_filters,...n}}))},reset_search_filters:()=>{e(()=>({search_filters:{location:null,check_in:null,check_out:null,guest_count:null,price_min:null,price_max:null,property_types:[],amenities:[],sort_by:"recommended"}}))},update_booking_cart:n=>{e(s=>({booking_cart:{...s.booking_cart,...n}}))},clear_booking_cart:()=>{e(()=>({booking_cart:{listing_id:null,check_in:null,check_out:null,guest_count:null,special_requests:null}}))},update_user_role:n=>{e(()=>({user_role:{role:n}}))},update_notification_count:n=>{e(()=>({notification_count:{unread_count:n}}))},increment_notification_count:()=>{e(n=>({notification_count:{unread_count:n.notification_count.unread_count+1}}))},decrement_notification_count:()=>{e(n=>({notification_count:{unread_count:Math.max(0,n.notification_count.unread_count-1)}}))},setLanguage:n=>{e(()=>({currentLanguage:n}))},connect_websocket:n=>{t().websocket_connection&&t().disconnect_websocket();const s=wa("http://localhost:3000",{auth:{token:`Bearer ${n}`}});s.on("connect",()=>{e(()=>({websocket_connected:!0}))}),s.on("disconnect",()=>{e(()=>({websocket_connected:!1}))}),e(()=>({websocket_connection:s})),t().subscribe_to_events()},disconnect_websocket:()=>{const n=t().websocket_connection;n&&(n.disconnect(),e(()=>({websocket_connection:null,websocket_connected:!1})))},subscribe_to_events:()=>{const n=t().websocket_connection;n&&(n.on("message:new",()=>{t().increment_notification_count()}),n.on("booking:request",()=>{t().increment_notification_count()}),n.on("booking:confirmed",()=>{t().increment_notification_count()}),n.on("booking:declined",()=>{t().increment_notification_count()}),n.on("booking:cancelled",()=>{t().increment_notification_count()}))}}),{name:"libyastay-storage",storage:q0(()=>localStorage),partialize:e=>({authentication_state:{current_user:e.authentication_state.current_user,auth_token:e.authentication_state.auth_token,authentication_status:{is_authenticated:e.authentication_state.authentication_status.is_authenticated,is_loading:!1},error_message:null},search_filters:e.search_filters,booking_cart:e.booking_cart,user_role:e.user_role,notification_count:e.notification_count})})),kw=()=>{const[e,t]=S.useState(!1),[n,s]=S.useState(!1),i=G(b=>b.authentication_state.current_user),a=G(b=>b.authentication_state.authentication_status.is_authenticated),o=G(b=>b.notification_count.unread_count),l=G(b=>b.logout_user),c=Sr(),u=()=>{l(),s(!1)},d=()=>{t(!e)},h=()=>{t(!1)},x=()=>{s(!n)},y=()=>{s(!1)};return er.useEffect(()=>{const b=()=>{n&&y()};return document.addEventListener("click",b),()=>{document.removeEventListener("click",b)}},[n]),er.useEffect(()=>{h()},[c]),r.jsx(r.Fragment,{children:r.jsxs("nav",{className:"bg-white shadow-md sticky top-0 z-50",children:[r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between h-16",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(U,{to:"/",className:"flex-shrink-0 flex items-center",onClick:h,children:r.jsx("div",{className:"bg-red-600 text-white font-bold text-xl px-3 py-1 rounded",children:"LibyaStay"})}),r.jsxs("div",{className:"hidden md:ml-6 md:flex md:space-x-8",children:[r.jsx(U,{to:"/",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${c.pathname==="/"?"border-red-600 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,onClick:h,children:"Home"}),r.jsx(U,{to:"/search",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${c.pathname==="/search"?"border-red-600 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,onClick:h,children:"Search"}),a&&(i==null?void 0:i.role)==="host"&&r.jsx(U,{to:"/dashboard/listings",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${c.pathname==="/dashboard/listings"?"border-red-600 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,onClick:h,children:"Listings"}),a&&r.jsx(U,{to:"/messages",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${c.pathname==="/messages"?"border-red-600 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,onClick:h,children:"Messages"})]})]}),r.jsxs("div",{className:"flex items-center",children:[a?r.jsxs("div",{className:"flex items-center",children:[r.jsxs(U,{to:"/notifications",className:"p-1 rounded-full text-gray-600 hover:text-gray-900 focus:outline-none relative",onClick:h,children:[r.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),o>0&&r.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:o})]}),r.jsxs("div",{className:"ml-3 relative",children:[r.jsx("div",{children:r.jsx("button",{onClick:x,className:"flex text-sm rounded-full focus:outline-none","aria-expanded":n,"aria-haspopup":"true",children:r.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:i!=null&&i.profile_picture_url?r.jsx("img",{className:"h-8 w-8 rounded-full",src:i.profile_picture_url,alt:i.name}):r.jsx("span",{className:"text-gray-700 font-medium",children:i==null?void 0:i.name.charAt(0)})})})}),n&&r.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:[r.jsxs("div",{className:"px-4 py-2 border-b border-gray-200",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:i==null?void 0:i.name}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:i==null?void 0:i.email})]}),r.jsx(U,{to:"/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:y,children:"Dashboard"}),r.jsx(U,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:y,children:"Settings"}),(i==null?void 0:i.emergency_contact_name)&&r.jsxs("div",{className:"px-4 py-2 text-xs text-red-600 bg-red-50",children:[r.jsx("span",{className:"font-medium",children:"Emergency:"})," ",i.emergency_contact_name]}),r.jsx("button",{onClick:u,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Sign out"})]})]})]}):r.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[r.jsx(U,{to:"/login",className:"text-gray-700 hover:text-gray-900 text-sm font-medium",onClick:h,children:"Login"}),r.jsx(U,{to:"/register",className:"bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700",onClick:h,children:"Register"})]}),r.jsx("div",{className:"md:hidden flex items-center ml-4",children:r.jsxs("button",{onClick:d,className:"inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none","aria-expanded":"false",children:[r.jsx("span",{className:"sr-only",children:"Open main menu"}),e?r.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):r.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})]})}),e&&r.jsx("div",{className:"md:hidden",children:r.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[r.jsx(U,{to:"/",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${c.pathname==="/"?"bg-red-50 border-red-600 text-red-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:h,children:"Home"}),r.jsx(U,{to:"/search",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${c.pathname==="/search"?"bg-red-50 border-red-600 text-red-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:h,children:"Search"}),a&&(i==null?void 0:i.role)==="host"&&r.jsx(U,{to:"/dashboard/listings",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${c.pathname==="/dashboard/listings"?"bg-red-50 border-red-600 text-red-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:h,children:"Listings"}),a&&r.jsx(U,{to:"/messages",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${c.pathname==="/messages"?"bg-red-50 border-red-600 text-red-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:h,children:"Messages"}),a?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"border-t border-gray-200 pt-4 pb-3",children:[r.jsxs("div",{className:"flex items-center px-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:i!=null&&i.profile_picture_url?r.jsx("img",{className:"h-10 w-10 rounded-full",src:i.profile_picture_url,alt:i.name}):r.jsx("span",{className:"text-gray-700 font-medium",children:i==null?void 0:i.name.charAt(0)})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("div",{className:"text-base font-medium text-gray-800",children:i==null?void 0:i.name}),r.jsx("div",{className:"text-sm font-medium text-gray-500",children:i==null?void 0:i.email}),(i==null?void 0:i.emergency_contact_name)&&r.jsxs("div",{className:"text-xs text-red-600 mt-1",children:[r.jsx("span",{className:"font-medium",children:"Emergency:"})," ",i.emergency_contact_name]})]})]}),r.jsxs("div",{className:"mt-3 space-y-1",children:[r.jsx(U,{to:"/dashboard",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",onClick:h,children:"Dashboard"}),r.jsx(U,{to:"/settings",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",onClick:h,children:"Settings"}),r.jsx("button",{onClick:()=>{u(),h()},className:"block w-full text-left px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:"Sign out"})]})]})}):r.jsxs(r.Fragment,{children:[r.jsx(U,{to:"/login",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800",onClick:h,children:"Login"}),r.jsx(U,{to:"/register",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800",onClick:h,children:"Register"})]})]})})]})})},Sw=()=>{const e=G(s=>s.currentLanguage||"ar"),t=G(s=>s.setLanguage),n=s=>{t(s)};return r.jsx(r.Fragment,{children:r.jsx("footer",{className:"bg-gray-900 text-gray-300 mt-auto","aria-label":"Site footer",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-bold text-white",lang:"ar",children:"ليبيا ستاي"}),r.jsx("p",{className:"text-sm",children:e==="ar"?"منصة حجز أماكن الإقامة في ليبيا، مكرسة لربط المسافرين بمضيفي المواقع المحلية لتجربة تراثية حقيقية.":"LibyaStay connects travelers with local hosts for authentic Libyan accommodation experiences."}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-semibold text-white",children:"Contact Us"}),r.jsx("p",{children:"123 Tripoli Street"}),r.jsx("p",{children:"Tripoli, Libya"}),r.jsx("p",{children:"+218 91 234 5678"}),r.jsx("p",{children:"support@libyastay.com"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:e==="ar"?"الروابط القانونية والدعم":"Legal & Support"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsx(U,{to:"/terms",className:"hover:text-white transition-colors",children:e==="ar"?"شروط الخدمة":"Terms of Service"})}),r.jsx("li",{children:r.jsx(U,{to:"/privacy",className:"hover:text-white transition-colors",children:e==="ar"?"سياسة الخصوصية":"Privacy Policy"})}),r.jsx("li",{children:r.jsx(U,{to:"/help",className:"hover:text-white transition-colors",children:e==="ar"?"مركز المساعدة":"Help Center"})}),r.jsx("li",{children:r.jsx(U,{to:"/safety",className:"hover:text-white transition-colors",children:e==="ar"?"إرشادات السلامة":"Safety Guidelines"})}),r.jsx("li",{children:r.jsx(U,{to:"/contact",className:"hover:text-white transition-colors",children:e==="ar"?"الإبلاغ عن إساءة":"Report Abuse"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:e==="ar"?"تابعنا":"Follow Us"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Facebook",children:[r.jsx("span",{className:"sr-only",children:"Facebook"}),r.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),r.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Instagram",children:[r.jsx("span",{className:"sr-only",children:"Instagram"}),r.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),r.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Twitter",children:[r.jsx("span",{className:"sr-only",children:"Twitter"}),r.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]}),r.jsxs("div",{className:"text-sm mt-4",children:[r.jsx("p",{className:"font-semibold text-white",children:e==="ar"?"الشراكات":"Partnerships"}),r.jsx("p",{children:e==="ar"?"في تعاون مع المؤسسات المحلية":"In partnership with local institutions"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:e==="ar"?"الإعدادات":"Settings"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"language-select",className:"block text-sm font-medium text-gray-400 mb-1",children:e==="ar"?"اللغة":"Language"}),r.jsxs("select",{id:"language-select",value:e,onChange:s=>n(s.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-700 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md bg-gray-800 text-white",children:[r.jsx("option",{value:"ar",children:"العربية"}),r.jsx("option",{value:"en",children:"English"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:e==="ar"?"العملة":"Currency"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-2",children:"LYD"}),r.jsxs("svg",{className:"h-4 w-6",viewBox:"0 0 30 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("rect",{width:"30",height:"20",fill:"#CE1126"}),r.jsx("rect",{y:"6.66663",width:"30",height:"6.66667",fill:"black"}),r.jsx("rect",{y:"13.3334",width:"30",height:"6.66667",fill:"#007A3D"})]})]})]})]})]})]}),r.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-800 text-center text-sm",children:[r.jsxs("p",{children:["© ",new Date().getFullYear()," LibyaStay. ",e==="ar"?"جميع الحقوق محفوظة.":"All rights reserved."]}),r.jsx("div",{className:"mt-2 flex justify-center space-x-6",children:r.jsx("span",{children:e==="ar"?"منصة Libyan Market":"Libyan Market Platform"})})]})]})})})},Cw=()=>{const e=cn(),t=G(y=>y.update_search_filters),n=G(y=>y.authentication_state.authentication_status.is_authenticated),[s,i]=S.useState({location:"",check_in:"",check_out:"",guest_count:1}),{data:a,isLoading:o,error:l}=oe({queryKey:["featuredProperties"],queryFn:async()=>(await q.get("http://localhost:3000/api/properties",{params:{limit:6,sort_by:"created_at"}})).data.properties,staleTime:5*60*1e3,retry:1}),{data:c,isLoading:u,error:d}=oe({queryKey:["testimonials"],queryFn:async()=>(await q.get("http://localhost:3000/api/reviews",{params:{limit:3,sort_by:"created_at"}})).data,staleTime:10*60*1e3,retry:1}),h=y=>{y.preventDefault(),t({location:s.location||null,check_in:s.check_in||null,check_out:s.check_out||null,guest_count:s.guest_count||null}),e("/search")},x=(y,b)=>{i(v=>({...v,[y]:b}))};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative bg-gradient-to-r from-green-700 to-red-700 text-white",children:[r.jsx("div",{className:"absolute inset-0 bg-black opacity-30"}),r.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-24 sm:py-32 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("h1",{className:"text-4xl font-extrabold tracking-tight sm:text-5xl md:text-6xl",children:[r.jsx("span",{className:"block",children:" Libyan Stays, "}),r.jsx("span",{className:"block text-green-300",children:" Local Experiences "})]}),r.jsx("p",{className:"mt-6 max-w-lg mx-auto text-xl text-gray-200",children:"Discover unique accommodations across Libya with LibyaStay - your home away from home."})]}),r.jsx("div",{className:"mt-10 max-w-4xl mx-auto",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6",children:r.jsxs("form",{onSubmit:h,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Where to?"}),r.jsx("input",{type:"text",id:"location",placeholder:"Tripoli, Benghazi, Misrata...",value:s.location,onChange:y=>x("location",y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"check_in",className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in"}),r.jsx("input",{type:"date",id:"check_in",value:s.check_in,onChange:y=>x("check_in",y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"check_out",className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out"}),r.jsx("input",{type:"date",id:"check_out",value:s.check_out,onChange:y=>x("check_out",y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"guests",className:"block text-sm font-medium text-gray-700 mb-1",children:"Guests"}),r.jsx("select",{id:"guests",value:s.guest_count,onChange:y=>x("guest_count",parseInt(y.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[1,2,3,4,5,6,7,8].map(y=>r.jsxs("option",{value:y,children:[y," ",y===1?"Guest":"Guests"]},y))})]}),r.jsx("div",{className:"md:col-span-4",children:r.jsx("button",{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-md transition duration-300",children:"Search Accommodations"})})]})})})]})]}),r.jsx("div",{className:"py-16 bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Featured Destinations"}),r.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Discover amazing places to stay across Libya"})]}),o?r.jsx("div",{className:"flex justify-center mt-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-600"})}):l?r.jsx("div",{className:"text-center mt-12 text-red-600",children:"Failed to load featured destinations. Please try again later."}):r.jsx("div",{className:"mt-12 grid gap-5 max-w-lg mx-auto lg:grid-cols-3 lg:max-w-none",children:a==null?void 0:a.map(y=>r.jsxs("div",{className:"flex flex-col rounded-lg shadow-lg overflow-hidden",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-48 w-full bg-gray-300 flex items-center justify-center",children:r.jsx("span",{className:"text-gray-500",children:"Property Image"})})}),r.jsxs("div",{className:"flex-1 bg-white p-6 flex flex-col justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-sm font-medium text-green-600",children:[y.city,y.neighborhood?`, ${y.neighborhood}`:""]}),r.jsxs(U,{to:`/properties/${y.property_id}`,className:"block mt-2",children:[r.jsx("p",{className:"text-xl font-semibold text-gray-900",children:y.title}),r.jsx("p",{className:"mt-3 text-base text-gray-500 line-clamp-3",children:y.description})]})]}),r.jsxs("div",{className:"mt-6 flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsxs("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[y.guest_capacity," guests"]})}),r.jsx("div",{className:"ml-3",children:r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[y.base_price_per_night," LYD",r.jsx("span",{className:"text-gray-500",children:"/night"})]})})]})]})]},y.property_id))})]})}),r.jsx("div",{className:"py-16 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"lg:text-center",children:[r.jsx("h2",{className:"text-base text-green-600 font-semibold tracking-wide uppercase",children:"How It Works"}),r.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"For Travelers & Hosts"})]}),r.jsx("div",{className:"mt-16",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"For Travelers"}),r.jsx("div",{className:"space-y-10",children:[{title:"Search & Discover",description:"Browse our extensive collection of accommodations in Libyan cities."},{title:"Book Your Stay",description:"Secure your accommodation with our simple booking process."},{title:"Enjoy Your Trip",description:"Experience authentic Libyan hospitality and culture."}].map((y,b)=>r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-green-500 text-white font-bold",children:b+1})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h4",{className:"text-lg leading-6 font-medium text-gray-900",children:y.title}),r.jsx("p",{className:"mt-2 text-base text-gray-500",children:y.description})]})]},b))}),r.jsx("div",{className:"mt-8",children:r.jsx(U,{to:"/search",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700",children:"Find Your Stay"})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"For Hosts"}),r.jsx("div",{className:"space-y-10",children:[{title:"List Your Property",description:"Create a detailed listing of your space with photos and amenities."},{title:"Receive Booking Requests",description:"Get notified when travelers want to book your property."},{title:"Earn Income",description:"Welcome guests and earn money from your listing."}].map((y,b)=>r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-red-500 text-white font-bold",children:b+1})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h4",{className:"text-lg leading-6 font-medium text-gray-900",children:y.title}),r.jsx("p",{className:"mt-2 text-base text-gray-500",children:y.description})]})]},b))}),r.jsx("div",{className:"mt-8",children:n?r.jsx(U,{to:"/listings/create",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:"Add Your Property"}):r.jsx(U,{to:"/register",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:"Become a Host"})})]})]})})]})}),r.jsx("div",{className:"py-16 bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Your Safety is Our Priority"}),r.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"We ensure secure and trustworthy experiences for all users"})]}),r.jsx("div",{className:"mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Verified Listings",description:"All properties are verified for accuracy and safety"},{title:"Secure Payments",description:"Safe and transparent payment processing"},{title:"24/7 Support",description:"Round-the-clock assistance for all your needs"},{title:"Local Community",description:"Authentic experiences with Libyan hosts"}].map((y,b)=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-green-500 text-white",children:r.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),r.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:y.title}),r.jsx("p",{className:"mt-2 text-base text-gray-500",children:y.description})]},b))})]})}),r.jsx("div",{className:"py-16 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"What Our Guests Say"}),r.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Hear from travelers who've experienced Libya through LibyaStay"})]}),u?r.jsx("div",{className:"flex justify-center mt-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-600"})}):d?r.jsx("div",{className:"text-center mt-12 text-red-600",children:"Failed to load testimonials. Please try again later."}):r.jsx("div",{className:"mt-12 grid gap-8 lg:grid-cols-3",children:c==null?void 0:c.map(y=>r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[r.jsx("div",{className:"flex items-center",children:[...Array(5)].map((b,v)=>r.jsx("svg",{className:`h-5 w-5 ${v<y.overall_rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},v))}),r.jsx("blockquote",{className:"mt-4",children:r.jsx("p",{className:"text-base text-gray-700",children:y.comment||"This was an amazing experience. The host was very welcoming and the place was exactly as described."})}),r.jsxs("div",{className:"mt-6 flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:r.jsx("span",{className:"text-gray-600 font-bold",children:"U"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Anonymous Traveler"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Verified Guest"})]})]})]},y.review_id))})]})}),r.jsx("div",{className:"py-16 bg-gradient-to-r from-green-700 to-red-700",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-3xl font-extrabold text-white",children:"Ready to Experience Libya?"}),r.jsx("p",{className:"mt-4 text-lg text-green-100",children:"Join thousands of travelers and hosts on LibyaStay"}),r.jsxs("div",{className:"mt-10 flex justify-center space-x-4",children:[r.jsx(U,{to:"/search",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-green-700 bg-white hover:bg-green-50",children:"Find Your Stay"}),n?r.jsx(U,{to:"/listings/create",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:"Add Your Property"}):r.jsx(U,{to:"/register",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:"Become a Host"})]})]})})})]})},Ew=()=>{var E;const[e,t]=bs(),n=G(w=>w.update_search_filters),[s,i]=S.useState(!1),[a,o]=S.useState(1),[l,c]=S.useState({location:e.get("location")||"",check_in:e.get("check_in")||"",check_out:e.get("check_out")||"",guest_count:e.get("guests")?parseInt(e.get("guests")||"1"):null,price_min:e.get("price_min")?parseFloat(e.get("price_min")||"0"):null,price_max:e.get("price_max")?parseFloat(e.get("price_max")||"0"):null,property_type:e.get("property_type")||"",amenities:e.get("amenities")?((E=e.get("amenities"))==null?void 0:E.split(","))||[]:[],instant_book:null,sort_by:e.get("sort_by")||"created_at"});S.useEffect(()=>{const w=e.get("amenities");w&&c(j=>({...j,amenities:w.split(",")}))},[]),S.useEffect(()=>{n({location:l.location||null,check_in:l.check_in||null,check_out:l.check_out||null,guest_count:l.guest_count,price_min:l.price_min,price_max:l.price_max,property_types:l.property_type?[l.property_type]:[],amenities:l.amenities,sort_by:l.sort_by})},[l,n]);const u=async()=>{const w={limit:10,offset:(a-1)*10};return l.location&&(w.location=l.location),l.check_in&&(w.check_in=l.check_in),l.check_out&&(w.check_out=l.check_out),l.guest_count&&(w.guests=l.guest_count.toString()),l.price_min&&(w.price_min=l.price_min),l.price_max&&(w.price_max=l.price_max),l.property_type&&(w.property_type=l.property_type),l.amenities.length>0&&(w.amenities=l.amenities.join(",")),l.instant_book!==null&&(w.instant_book=l.instant_book.toString()),l.sort_by&&(w.sort_by=l.sort_by),(await q.get("http://localhost:3000/api/properties",{params:w})).data},{data:d,isLoading:h,error:x,refetch:y}=oe({queryKey:["properties",l,a],queryFn:u,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),b=(w,j)=>{c(M=>({...M,[w]:j})),o(1);const g=new URLSearchParams(e.toString());j!==null&&j!==""?w==="amenities"?g.set("amenities",j.join(",")):g.set(w,j.toString()):g.delete(w),t(g)},v=w=>{const j=l.amenities.includes(w)?l.amenities.filter(g=>g!==w):[...l.amenities,w];b("amenities",j)},k=w=>{b("property_type",l.property_type===w?"":w)},p=()=>{c({location:"",check_in:"",check_out:"",guest_count:null,price_min:null,price_max:null,property_type:"",amenities:[],instant_book:null,sort_by:"created_at"}),t({}),o(1)},m=d?Math.ceil(d.total_count/10):1,f=a<m,N=a>1;return r.jsx(r.Fragment,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Find Your Stay in Libya"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:d?`${d.total_count} properties found`:"Searching properties..."})]}),r.jsx("div",{className:"mt-4 flex md:mt-0",children:r.jsx("button",{onClick:()=>i(!s),className:"ml-3 inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s?"List View":"Map View"})})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[r.jsx("div",{className:"w-full lg:w-1/4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Filters"}),r.jsx("button",{onClick:p,className:"text-sm text-blue-600 hover:text-blue-800",children:"Reset all"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("input",{type:"text",id:"location",value:l.location,onChange:w=>b("location",w.target.value),placeholder:"City or neighborhood",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guests"}),r.jsxs("select",{value:l.guest_count||"",onChange:w=>b("guest_count",w.target.value?parseInt(w.target.value):null),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[r.jsx("option",{value:"",children:"Any number"}),[1,2,3,4,5,6,7,8].map(w=>r.jsxs("option",{value:w,children:[w," guest",w>1?"s":""]},w))]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price per night (LYD)"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("div",{children:r.jsx("input",{type:"number",placeholder:"Min",value:l.price_min||"",onChange:w=>b("price_min",w.target.value?parseFloat(w.target.value):null),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})}),r.jsx("div",{children:r.jsx("input",{type:"number",placeholder:"Max",value:l.price_max||"",onChange:w=>b("price_max",w.target.value?parseFloat(w.target.value):null),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property type"}),r.jsx("div",{className:"space-y-2",children:["entire_place","private_room","shared_room"].map(w=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:`type-${w}`,name:"property-type",type:"checkbox",checked:l.property_type===w,onChange:()=>k(w),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:`type-${w}`,className:"ml-3 text-sm text-gray-700 capitalize",children:w.replace("_"," ")})]},w))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amenities"}),r.jsx("div",{className:"space-y-2",children:["wifi","ac","kitchen","parking","laundry","tv","pool","gym","generator_power_backup","water_tank"].map(w=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:`amenity-${w}`,name:`amenity-${w}`,type:"checkbox",checked:l.amenities.includes(w),onChange:()=>v(w),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:`amenity-${w}`,className:"ml-3 text-sm text-gray-700 capitalize",children:w.replace(/_/g," ")})]},w))})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"instant-book",name:"instant-book",type:"checkbox",checked:l.instant_book===!0,onChange:w=>b("instant_book",w.target.checked?!0:null),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"instant-book",className:"ml-3 text-sm text-gray-700",children:"Instant book"})]})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"sort-by",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort by"}),r.jsxs("select",{id:"sort-by",value:l.sort_by,onChange:w=>b("sort_by",w.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[r.jsx("option",{value:"created_at",children:"Newest"}),r.jsx("option",{value:"price_low_to_high",children:"Price: Low to High"}),r.jsx("option",{value:"price_high_to_low",children:"Price: High to Low"}),r.jsx("option",{value:"rating_high_to_low",children:"Rating"})]})]})]})}),r.jsx("div",{className:"w-full lg:w-3/4",children:h?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):x?r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading properties"}),r.jsx("div",{className:"mt-2 text-sm text-red-700",children:r.jsx("p",{children:x instanceof Error?x.message:"An error occurred while loading properties"})}),r.jsx("div",{className:"mt-4",children:r.jsx("button",{type:"button",onClick:()=>y(),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Try again"})})]})]})}):s?r.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),r.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Map View Coming Soon"}),r.jsx("p",{className:"mt-1 text-gray-500",children:"Interactive map view with property markers will be available in a future update."}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{onClick:()=>i(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to List View"})})]}):r.jsxs(r.Fragment,{children:[d&&d.properties.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.properties.map(w=>r.jsxs(U,{to:`/properties/${w.property_id}`,className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-md transition-shadow duration-300",children:[r.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-t-lg w-full h-48 flex items-center justify-center",children:r.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:w.title}),r.jsxs("p",{className:"text-sm text-gray-500",children:[w.city,w.neighborhood?`, ${w.neighborhood}`:""]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),r.jsx("span",{className:"ml-1 text-sm font-medium text-gray-900",children:"4.85"})]})]}),r.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[r.jsxs("span",{children:[w.guest_capacity," guests"]}),r.jsx("span",{className:"mx-2",children:"•"}),r.jsxs("span",{children:[w.bedrooms," bedroom",w.bedrooms!==1?"s":""]}),r.jsx("span",{className:"mx-2",children:"•"}),r.jsxs("span",{children:[w.bathrooms," bath"]})]}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[w.has_power_backup&&r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Power Backup"}),w.has_water_tank&&r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Water Tank"}),w.instant_book&&r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Instant Book"})]}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[w.base_price_per_night," LYD ",r.jsx("span",{className:"text-sm font-normal text-gray-500",children:"night"})]})}),r.jsx("button",{className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Details"})]})]})]},w.property_id))}):r.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No properties found"}),r.jsx("p",{className:"mt-1 text-gray-500",children:"Try adjusting your search filters to find more properties."}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{onClick:p,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Reset all filters"})})]}),d&&d.total_count>10&&r.jsxs("div",{className:"mt-8 flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 rounded-lg shadow",children:[r.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[r.jsx("button",{onClick:()=>o(w=>Math.max(1,w-1)),disabled:!N,className:`relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${N?"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-300 bg-gray-100 border border-gray-200 cursor-not-allowed"}`,children:"Previous"}),r.jsx("button",{onClick:()=>o(w=>Math.min(m,w+1)),disabled:!f,className:`relative ml-3 inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${f?"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-300 bg-gray-100 border border-gray-200 cursor-not-allowed"}`,children:"Next"})]}),r.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",r.jsx("span",{className:"font-medium",children:(a-1)*10+1})," to"," ",r.jsx("span",{className:"font-medium",children:Math.min(a*10,d.total_count)})," ","of ",r.jsx("span",{className:"font-medium",children:d.total_count})," results"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[r.jsxs("button",{onClick:()=>o(w=>Math.max(1,w-1)),disabled:!N,className:`relative inline-flex items-center rounded-l-md px-2 py-2 ${N?"text-gray-400 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-200 bg-gray-100 border border-gray-200 cursor-not-allowed"}`,children:[r.jsx("span",{className:"sr-only",children:"Previous"}),r.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:Math.min(5,m)},(w,j)=>{let g;return m<=5||a<=3?g=j+1:a>=m-2?g=m-4+j:g=a-2+j,r.jsx("button",{onClick:()=>o(g),"aria-current":g===a?"page":void 0,className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${g===a?"z-10 bg-blue-600 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:outline-offset-0"}`,children:g},g)}),r.jsxs("button",{onClick:()=>o(w=>Math.min(m,w+1)),disabled:!f,className:`relative inline-flex items-center rounded-r-md px-2 py-2 ${f?"text-gray-400 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-200 bg-gray-100 border border-gray-200 cursor-not-allowed"}`,children:[r.jsx("span",{className:"sr-only",children:"Next"}),r.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})})]})})]})})};function rt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function an(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Pw(e,t){const n=rt(e);return isNaN(t)?an(e,NaN):(n.setDate(n.getDate()+t),n)}const Cp=6048e5,Lw=864e5,Ep=6e4,Pp=36e5;let Rw={};function Po(){return Rw}function ji(e,t){var l,c,u,d;const n=Po(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=rt(e),a=i.getDay(),o=(a<s?7:0)+a-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function eo(e){return ji(e,{weekStartsOn:1})}function Lp(e){const t=rt(e),n=t.getFullYear(),s=an(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=eo(s),a=an(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=eo(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function to(e){const t=rt(e);return t.setHours(0,0,0,0),t}function Vh(e){const t=rt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Tw(e,t){const n=to(e),s=to(t),i=+n-Vh(n),a=+s-Vh(s);return Math.round((i-a)/Lw)}function Ow(e){const t=Lp(e),n=an(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),eo(n)}function Rp(e){return an(e,Date.now())}function no(e,t){const n=to(e),s=to(t);return+n==+s}function Fw(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Mw(e){if(!Fw(e)&&typeof e!="number")return!1;const t=rt(e);return!isNaN(Number(t))}function Aw(e){const t=rt(e),n=an(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Dw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bw=(e,t,n)=>{let s;const i=Dw[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function ml(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const $w={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Iw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qw={date:ml({formats:$w,defaultWidth:"full"}),time:ml({formats:zw,defaultWidth:"full"}),dateTime:ml({formats:Iw,defaultWidth:"full"})},Vw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ww=(e,t,n,s)=>Vw[e];function Ds(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Uw={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yw={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jw=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Xw={ordinalNumber:Jw,era:Ds({values:Uw,defaultWidth:"wide"}),quarter:Ds({values:Hw,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ds({values:Qw,defaultWidth:"wide"}),day:Ds({values:Yw,defaultWidth:"wide"}),dayPeriod:Ds({values:Kw,defaultWidth:"wide",formattingValues:Gw,defaultFormattingWidth:"wide"})};function Bs(e){return(t,n={})=>{const s=n.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?e2(l,h=>h.test(o)):Zw(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Zw(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function e2(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function t2(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const i=s[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const n2=/^(\d+)(th|st|nd|rd)?/i,r2=/\d+/i,s2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},i2={any:[/^b/i,/^(a|c)/i]},a2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},o2={any:[/1/i,/2/i,/3/i,/4/i]},l2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},c2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},u2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},d2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},h2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},m2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},f2={ordinalNumber:t2({matchPattern:n2,parsePattern:r2,valueCallback:e=>parseInt(e,10)}),era:Bs({matchPatterns:s2,defaultMatchWidth:"wide",parsePatterns:i2,defaultParseWidth:"any"}),quarter:Bs({matchPatterns:a2,defaultMatchWidth:"wide",parsePatterns:o2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bs({matchPatterns:l2,defaultMatchWidth:"wide",parsePatterns:c2,defaultParseWidth:"any"}),day:Bs({matchPatterns:u2,defaultMatchWidth:"wide",parsePatterns:d2,defaultParseWidth:"any"}),dayPeriod:Bs({matchPatterns:h2,defaultMatchWidth:"any",parsePatterns:m2,defaultParseWidth:"any"})},p2={code:"en-US",formatDistance:Bw,formatLong:qw,formatRelative:Ww,localize:Xw,match:f2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function x2(e){const t=rt(e);return Tw(t,Aw(t))+1}function g2(e){const t=rt(e),n=+eo(t)-+Ow(t);return Math.round(n/Cp)+1}function Tp(e,t){var d,h,x,y;const n=rt(e),s=n.getFullYear(),i=Po(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(x=i.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,o=an(e,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const l=ji(o,t),c=an(e,0);c.setFullYear(s,0,a),c.setHours(0,0,0,0);const u=ji(c,t);return n.getTime()>=l.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function y2(e,t){var l,c,u,d;const n=Po(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=Tp(e,t),a=an(e,0);return a.setFullYear(i,0,s),a.setHours(0,0,0,0),ji(a,t)}function v2(e,t){const n=rt(e),s=+ji(n,t)-+y2(n,t);return Math.round(s/Cp)+1}function ie(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const mn={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return ie(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ie(n+1,2)},d(e,t){return ie(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ie(e.getHours()%12||12,t.length)},H(e,t){return ie(e.getHours(),t.length)},m(e,t){return ie(e.getMinutes(),t.length)},s(e,t){return ie(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return ie(i,t.length)}},Pr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Wh={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return mn.y(e,t)},Y:function(e,t,n,s){const i=Tp(e,s),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return ie(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):ie(a,t.length)},R:function(e,t){const n=Lp(e);return ie(n,t.length)},u:function(e,t){const n=e.getFullYear();return ie(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return ie(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return ie(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return mn.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return ie(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const i=v2(e,s);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):ie(i,t.length)},I:function(e,t,n){const s=g2(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):ie(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):mn.d(e,t)},D:function(e,t,n){const s=x2(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):ie(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ie(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ie(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return ie(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let i;switch(s===12?i=Pr.noon:s===0?i=Pr.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let i;switch(s>=17?i=Pr.evening:s>=12?i=Pr.afternoon:s>=4?i=Pr.morning:i=Pr.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return mn.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):mn.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):ie(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):ie(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):mn.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):mn.s(e,t)},S:function(e,t){return mn.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return Hh(s);case"XXXX":case"XX":return Zn(s);case"XXXXX":case"XXX":default:return Zn(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return Hh(s);case"xxxx":case"xx":return Zn(s);case"xxxxx":case"xxx":default:return Zn(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Uh(s,":");case"OOOO":default:return"GMT"+Zn(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Uh(s,":");case"zzzz":default:return"GMT"+Zn(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return ie(s,t.length)},T:function(e,t,n){const s=e.getTime();return ie(s,t.length)}};function Uh(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),a=s%60;return a===0?n+String(i):n+String(i)+t+ie(a,2)}function Hh(e,t){return e%60===0?(e>0?"-":"+")+ie(Math.abs(e)/60,2):Zn(e,t)}function Zn(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=ie(Math.trunc(s/60),2),a=ie(s%60,2);return n+i+t+a}const Qh=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Op=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},b2=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return Qh(e,t);let a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Qh(s,t)).replace("{{time}}",Op(i,t))},w2={p:Op,P:b2},j2=/^D+$/,N2=/^Y+$/,_2=["D","DD","YY","YYYY"];function k2(e){return j2.test(e)}function S2(e){return N2.test(e)}function C2(e,t,n){const s=E2(e,t,n);if(console.warn(s),_2.includes(e))throw new RangeError(s)}function E2(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const P2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,L2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,R2=/^'([^]*?)'?$/,T2=/''/g,O2=/[a-zA-Z]/;function gn(e,t,n){var d,h,x,y;const s=Po(),i=s.locale??p2,a=s.firstWeekContainsDate??((h=(d=s.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=s.weekStartsOn??((y=(x=s.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,l=rt(e);if(!Mw(l))throw new RangeError("Invalid time value");let c=t.match(L2).map(b=>{const v=b[0];if(v==="p"||v==="P"){const k=w2[v];return k(b,i.formatLong)}return b}).join("").match(P2).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const v=b[0];if(v==="'")return{isToken:!1,value:F2(b)};if(Wh[v])return{isToken:!0,value:b};if(v.match(O2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(b=>{if(!b.isToken)return b.value;const v=b.value;(S2(v)||k2(v))&&C2(v,t,String(e));const k=Wh[v[0]];return k(l,v,i.localize,u)}).join("")}function F2(e){const t=e.match(R2);return t?t[1].replace(T2,"'"):e}function M2(e,t){const n=rt(e),s=rt(t);return+n<+s}function A2(e){return no(e,Rp(e))}function D2(e,t){return Pw(e,-1)}function B2(e){return no(e,D2(Rp(e)))}function $2(e,t){const s=V2(e);let i;if(s.date){const c=W2(s.date,2);i=U2(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let o=0,l;if(s.time&&(o=H2(s.time),isNaN(o)))return new Date(NaN);if(s.timezone){if(l=Q2(s.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+o+l)}const ra={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},z2=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,I2=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,q2=/^([+-])(\d{2})(?::?(\d{2}))?$/;function V2(e){const t={},n=e.split(ra.dateTimeDelimiter);let s;if(n.length>2)return t;if(/:/.test(n[0])?s=n[0]:(t.date=n[0],s=n[1],ra.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ra.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){const i=ra.timezone.exec(s);i?(t.time=s.replace(i[1],""),t.timezone=i[1]):t.time=s}return t}function W2(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(n);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,a=s[2]?parseInt(s[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((s[1]||s[2]).length)}}function U2(e,t){if(t===null)return new Date(NaN);const n=e.match(z2);if(!n)return new Date(NaN);const s=!!n[4],i=$s(n[1]),a=$s(n[2])-1,o=$s(n[3]),l=$s(n[4]),c=$s(n[5])-1;if(s)return X2(t,l,c)?Y2(t,l,c):new Date(NaN);{const u=new Date(0);return!G2(t,a,o)||!J2(t,i)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(i,o)),u)}}function $s(e){return e?parseInt(e):1}function H2(e){const t=e.match(I2);if(!t)return NaN;const n=fl(t[1]),s=fl(t[2]),i=fl(t[3]);return Z2(n,s,i)?n*Pp+s*Ep+i*1e3:NaN}function fl(e){return e&&parseFloat(e.replace(",","."))||0}function Q2(e){if(e==="Z")return 0;const t=e.match(q2);if(!t)return 0;const n=t[1]==="+"?-1:1,s=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return ej(s,i)?n*(s*Pp+i*Ep):NaN}function Y2(e,t,n){const s=new Date(0);s.setUTCFullYear(e,0,4);const i=s.getUTCDay()||7,a=(t-1)*7+n+1-i;return s.setUTCDate(s.getUTCDate()+a),s}const K2=[31,null,31,30,31,30,31,31,30,31,30,31];function Fp(e){return e%400===0||e%4===0&&e%100!==0}function G2(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(K2[t]||(Fp(e)?29:28))}function J2(e,t){return t>=1&&t<=(Fp(e)?366:365)}function X2(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Z2(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function ej(e,t){return t>=0&&t<=59}const tj=()=>{var Ku,Gu;const{property_id:e}=Au(),[t]=bs(),n=G(B=>B.authentication_state.authentication_status.is_authenticated),s=G(B=>B.authentication_state.current_user),i=G(B=>B.authentication_state.auth_token),a=G(B=>B.booking_cart),[o,l]=S.useState(0),[c,u]=S.useState(!1),[d,h]=S.useState(t.get("check_in")||a.check_in),[x,y]=S.useState(t.get("check_out")||a.check_out),[b,v]=S.useState(t.get("guests")?parseInt(t.get("guests")):a.guest_count||1),[k,p]=S.useState(""),[m,f]=S.useState(!1),[N,E]=S.useState(!1),[w,j]=S.useState({start:null,end:null}),{data:g,isLoading:M,error:D}=oe({queryKey:["property",e],queryFn:async()=>(await q.get(`http://localhost:3000/api/properties/${e}`)).data,enabled:!!e}),{data:K=[]}=oe({queryKey:["property-photos",e],queryFn:async()=>(await q.get(`http://localhost:3000/api/properties/${e}/photos`)).data,enabled:!!e}),{data:F}=oe({queryKey:["host",g==null?void 0:g.host_id],queryFn:async()=>(await q.get(`http://localhost:3000/api/users/${g==null?void 0:g.host_id}`)).data,enabled:!!(g!=null&&g.host_id)}),{data:L=[]}=oe({queryKey:["property-reviews",e],queryFn:async()=>(await q.get(`http://localhost:3000/api/properties/${e}/reviews`)).data,enabled:!!e}),{data:C=[],refetch:P}=oe({queryKey:["property-availability",e,w.start,w.end],queryFn:async()=>{const B=new URLSearchParams;return w.start&&B.append("start_date",w.start),w.end&&B.append("end_date",w.end),(await q.get(`http://localhost:3000/api/properties/${e}/availability?${B}`)).data},enabled:!!e&&!!w.start&&!!w.end}),A=g!=null&&g.amenities?g.amenities.split(",").map(B=>B.trim()):[],Q=d&&x?Math.max(0,Math.ceil((new Date(x).getTime()-new Date(d).getTime())/(1e3*60*60*24))):0,I=g&&Q>0?g.base_price_per_night*Q:0,T=I*.1,z=I+T,H=()=>{if(!d||!x)return!1;const B=new Date(d),ne=new Date(x);for(let Ce=new Date(B);Ce<ne;Ce.setDate(Ce.getDate()+1)){const st=gn(Ce,"yyyy-MM-dd"),it=C.find(ks=>ks.date===st);if(!it||!it.is_available)return!1}return!0},R=B=>{l(B),u(!0)},le=()=>{u(!1)};S.useEffect(()=>{if(d&&x){const B=new Date(d),ne=new Date(x),Ce=new Date(B);Ce.setMonth(Ce.getMonth()-1);const st=new Date(ne);st.setMonth(st.getMonth()+1),j({start:gn(Ce,"yyyy-MM-dd"),end:gn(st,"yyyy-MM-dd")})}},[d,x]),S.useEffect(()=>{w.start&&w.end&&P()},[w,P]);const ve=async()=>{if(!(!g||!s||!i))try{const B={property_id:g.property_id,guest_id:s.user_id,host_id:g.host_id,check_in:d,check_out:x,guest_count:b,total_price:z,service_fee:T,special_requests:k,status:"pending"};await q.post("http://localhost:3000/api/bookings",B,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}}),h(null),y(null),v(1),p(""),f(!1),alert("Booking request submitted successfully!")}catch(B){console.error("Booking error:",B),alert("Failed to submit booking request. Please try again.")}},Gn=async()=>{if(!g||!s||!i){alert("You need to be logged in to contact the host.");return}try{const B={guest_id:s.user_id,host_id:g.host_id};await q.post("http://localhost:3000/api/conversations",B,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}}),alert("Messaging initiated! You can now communicate with the host.")}catch(B){console.error("Messaging error:",B),alert("Failed to initiate messaging. Please try again.")}},he=(()=>{if(L.length===0)return null;const B={cleanliness:0,accuracy:0,communication:0,location:0,check_in:0,value:0,overall:0};return L.forEach(ne=>{B.cleanliness+=ne.cleanliness_rating,B.accuracy+=ne.accuracy_rating,B.communication+=ne.communication_rating,B.location+=ne.location_rating,B.check_in+=ne.check_in_rating,B.value+=ne.value_rating,B.overall+=ne.overall_rating}),{cleanliness:B.cleanliness/L.length,accuracy:B.accuracy/L.length,communication:B.communication/L.length,location:B.location/L.length,check_in:B.check_in/L.length,value:B.value/L.length,overall:B.overall/L.length}})(),Lo=B=>r.jsxs("div",{className:"flex",children:[[...Array(5)].map((ne,Ce)=>r.jsx("svg",{className:`w-5 h-5 ${Ce<Math.floor(B)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Ce)),r.jsx("span",{className:"ml-1 text-sm text-gray-600",children:B.toFixed(1)})]}),Ap=B=>{switch(B.toLowerCase()){case"wifi":return r.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})});case"ac":case"air conditioning":return r.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15c0-2.8 2.2-5 5-5h11c1.7 0 3 1.3 3 3 0 .4-.1.8-.3 1.1l-4.4 7.9c-.6 1-1.7 1.6-2.9 1.6H8c-2.8 0-5-2.2-5-5z"})});case"kitchen":return r.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})});case"parking":return r.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})});case"generator":return r.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})});case"water tank":return r.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})});default:return r.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}},Ro=B=>{const ne=gn(B,"yyyy-MM-dd"),Ce=C.find(Cr=>Cr.date===ne);let st=!0,it=!1;if(d&&x){const Cr=new Date(d),To=new Date(x);(no(B,Cr)||no(B,To)||B>Cr&&B<To)&&(it=!0)}Ce&&(st=Ce.is_available);const dn=M2(B,new Date);let Ss="bg-white";return it?Ss="bg-blue-100":(!st||dn)&&(Ss="bg-gray-100"),r.jsx("button",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm ${Ss} ${st&&!dn&&!it?"hover:bg-blue-50 cursor-pointer":"cursor-not-allowed"}`,onClick:()=>{!st||dn||it||(d?x?(h(ne),y(null)):new Date(ne)>new Date(d)?y(ne):(y(d),h(ne)):h(ne))},disabled:!st||dn||it,children:gn(B,"d")},ne)},Dp=()=>{const B=[],ne=new Date,Ce=new Date(ne.getFullYear(),ne.getMonth(),1),st=new Date(ne.getFullYear(),ne.getMonth()+2,0),it=new Date(Ce);it.setMonth(it.getMonth()-1);const ks=new Date(it.getFullYear(),it.getMonth()+1,0),dn=new Date(Ce);dn.setMonth(dn.getMonth()+1);const Ss=ks.getDay();for(let wt=Ss;wt>0;wt--){const Wt=new Date(ks);Wt.setDate(Wt.getDate()-wt+1),B.push(Ro(Wt))}const Cr=st.getDate();for(let wt=1;wt<=Cr;wt++){const Wt=new Date(Ce);Wt.setDate(wt),B.push(Ro(Wt))}const Bp=42-B.length;for(let wt=1;wt<=Bp;wt++){const Wt=new Date(dn);Wt.setDate(wt),B.push(Ro(Wt))}return B};return M?r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):D?r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Property Not Found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find the property you're looking for."}),r.jsx(U,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Browse Properties"})]})})}):r.jsx(r.Fragment,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c&&r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:[r.jsx("button",{onClick:le,className:"absolute top-4 right-4 text-white text-3xl",children:"×"}),r.jsx("button",{onClick:()=>l(B=>B>0?B-1:K.length-1),className:"absolute left-4 text-white text-4xl",disabled:K.length<=1,children:"‹"}),r.jsx("button",{onClick:()=>l(B=>B<K.length-1?B+1:0),className:"absolute right-4 text-white text-4xl",disabled:K.length<=1,children:"›"}),r.jsx("img",{src:(Ku=K[o])==null?void 0:Ku.photo_url,alt:"Property",className:"max-h-full max-w-full object-contain"})]}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("div",{className:"md:col-span-2",children:K.length>0?r.jsx("img",{src:(Gu=K[0])==null?void 0:Gu.photo_url,alt:"Property",className:"w-full h-96 object-cover rounded-lg cursor-pointer",onClick:()=>R(0)}):r.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-full h-96 flex items-center justify-center",children:r.jsx("span",{className:"text-gray-500",children:"No photos available"})})}),K.slice(1,5).map((B,ne)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:B.photo_url,alt:"Property",className:"w-full h-48 object-cover rounded-lg cursor-pointer",onClick:()=>R(ne+1)}),ne===3&&K.length>5&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center cursor-pointer",onClick:()=>R(4),children:r.jsxs("span",{className:"text-white text-xl font-bold",children:["+",K.length-5," more"]})})]},B.photo_id))]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:g==null?void 0:g.title}),r.jsxs("p",{className:"text-gray-600",children:[g==null?void 0:g.city,g!=null&&g.neighborhood?`, ${g.neighborhood}`:""]})]}),r.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"flex-shrink-0",children:F!=null&&F.profile_picture_url?r.jsx("img",{src:F.profile_picture_url,alt:F.name,className:"w-16 h-16 rounded-full object-cover"}):r.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-full w-16 h-16 flex items-center justify-center",children:r.jsx("span",{className:"text-gray-500 text-2xl",children:"?"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Hosted by ",F==null?void 0:F.name]}),r.jsx("div",{className:"flex items-center mt-1",children:F!=null&&F.is_verified?r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Verified"}):r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Not Verified"})})]})]}),n&&(F==null?void 0:F.emergency_contact_name)&&r.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Emergency Contact"}),r.jsxs("p",{className:"text-gray-700",children:[r.jsx("span",{className:"font-medium",children:"Name:"})," ",F.emergency_contact_name]}),r.jsxs("p",{className:"text-gray-700",children:[r.jsx("span",{className:"font-medium",children:"Phone:"})," ",F.emergency_contact_phone]})]}),r.jsx("button",{onClick:Gn,className:"mt-4 w-full bg-white border border-gray-300 rounded-md py-2 px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Contact Host"})]}),r.jsx("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:g==null?void 0:g.guest_capacity}),r.jsx("p",{className:"text-sm text-gray-500",children:"Guests"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:g==null?void 0:g.bedrooms}),r.jsx("p",{className:"text-sm text-gray-500",children:"Bedrooms"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:g==null?void 0:g.beds}),r.jsx("p",{className:"text-sm text-gray-500",children:"Beds"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:g==null?void 0:g.bathrooms}),r.jsx("p",{className:"text-sm text-gray-500",children:"Bathrooms"})]})]})}),r.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"About this place"}),r.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:g==null?void 0:g.description})]}),r.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"What this place offers"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.map(B=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"mr-3",children:Ap(B)}),r.jsx("span",{className:"text-gray-700",children:B})]},B))}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Infrastructure Status"}),r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${g!=null&&g.has_power_backup?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{className:"text-gray-700",children:"Generator Power Backup"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${g!=null&&g.has_water_tank?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{className:"text-gray-700",children:"Water Tank/Stable Supply"})]})]})]}),(g==null?void 0:g.house_rules)&&r.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"House Rules"}),r.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:g.house_rules})]}),r.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Cancellation Policy"}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:(g==null?void 0:g.cancellation_policy)==="flexible"?r.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):(g==null?void 0:g.cancellation_policy)==="moderate"?r.jsx("svg",{className:"w-6 h-6 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):r.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-lg font-medium text-gray-900 capitalize",children:g==null?void 0:g.cancellation_policy}),r.jsx("p",{className:"text-gray-600 mt-1",children:(g==null?void 0:g.cancellation_policy)==="flexible"?"Free cancellation up to 24 hours before check-in":(g==null?void 0:g.cancellation_policy)==="moderate"?"Free cancellation up to 7 days before check-in":"Non-refundable"})]})]})]}),r.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Reviews"}),he&&r.jsxs("div",{className:"flex items-center",children:[he&&Lo(he.overall),r.jsxs("span",{className:"ml-2 text-gray-600",children:["(",L.length," reviews)"]})]})]}),he&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-1",children:[r.jsx("span",{className:"text-gray-600",children:"Cleanliness"}),r.jsx("span",{className:"text-gray-900 font-medium",children:he.cleanliness.toFixed(1)})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${he.cleanliness/5*100}%`}})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-1",children:[r.jsx("span",{className:"text-gray-600",children:"Accuracy"}),r.jsx("span",{className:"text-gray-900 font-medium",children:he.accuracy.toFixed(1)})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${he.accuracy/5*100}%`}})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-1",children:[r.jsx("span",{className:"text-gray-600",children:"Communication"}),r.jsx("span",{className:"text-gray-900 font-medium",children:he.communication.toFixed(1)})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${he.communication/5*100}%`}})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-1",children:[r.jsx("span",{className:"text-gray-600",children:"Location"}),r.jsx("span",{className:"text-gray-900 font-medium",children:he.location.toFixed(1)})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${he.location/5*100}%`}})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-1",children:[r.jsx("span",{className:"text-gray-600",children:"Check-in"}),r.jsx("span",{className:"text-gray-900 font-medium",children:he.check_in.toFixed(1)})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${he.check_in/5*100}%`}})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-1",children:[r.jsx("span",{className:"text-gray-600",children:"Value"}),r.jsx("span",{className:"text-gray-900 font-medium",children:he.value.toFixed(1)})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${he.value/5*100}%`}})})]})]}),r.jsx("div",{className:"space-y-6",children:(N?L:L.slice(0,3)).map(B=>r.jsxs("div",{className:"border-b border-gray-200 pb-6 last:border-0 last:pb-0",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-full w-10 h-10 flex items-center justify-center",children:r.jsx("span",{className:"text-gray-500 text-sm",children:"U"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"User"}),r.jsx("p",{className:"text-xs text-gray-500",children:gn($2(B.created_at),"MMMM d, yyyy")})]})]}),r.jsx("div",{className:"ml-13 mb-2",children:Lo(B.overall_rating)}),r.jsx("p",{className:"ml-13 text-gray-700",children:B.comment})]},B.review_id))}),L.length>3&&r.jsx("div",{className:"mt-6",children:r.jsx("button",{onClick:()=>E(!N),className:"text-blue-600 hover:text-blue-800 font-medium",children:N?"Show less":`Show all ${L.length} reviews`})})]})]}),r.jsx("div",{children:r.jsxs("div",{className:"sticky top-8 p-6 bg-white rounded-lg shadow-md border border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[g==null?void 0:g.base_price_per_night," ",g==null?void 0:g.currency," ",r.jsx("span",{className:"text-base font-normal text-gray-600",children:"/ night"})]})}),he&&r.jsxs("div",{className:"flex items-center",children:[he&&Lo(he.overall),r.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:["(",L.length,")"]}),"                    "]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Select dates"}),r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(B=>r.jsx("div",{className:"text-center text-sm text-gray-500 py-1",children:B},B))}),r.jsx("div",{className:"grid grid-cols-7 gap-1",children:Dp()})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guests"}),r.jsx("select",{value:b,onChange:B=>v(parseInt(B.target.value)),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",disabled:!d||!x,children:[...Array((g==null?void 0:g.guest_capacity)||1)].map((B,ne)=>r.jsxs("option",{value:ne+1,children:[ne+1," ",ne===0?"guest":"guests"]},ne))})]}),d&&x&&r.jsxs("div",{className:"mb-6 border-t border-gray-200 pt-4",children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsxs("span",{className:"text-gray-600",children:[g==null?void 0:g.base_price_per_night," ",g==null?void 0:g.currency," x ",Q," nights"]}),r.jsxs("span",{className:"text-gray-900",children:[I," ",g==null?void 0:g.currency]})]}),r.jsxs("div",{className:"flex justify-between mb-4",children:[r.jsx("span",{className:"text-gray-600",children:"Service fee"}),r.jsxs("span",{className:"text-gray-900",children:[T.toFixed(2)," ",g==null?void 0:g.currency]})]}),r.jsxs("div",{className:"flex justify-between pt-4 border-t border-gray-200",children:[r.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total"}),r.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[z.toFixed(2)," ",g==null?void 0:g.currency]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special requests"}),r.jsx("textarea",{value:k,onChange:B=>p(B.target.value),rows:3,className:"block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Any special requests or notes for the host?"})]}),r.jsxs("div",{className:"mb-6 flex items-start",children:[r.jsx("div",{className:"flex items-center h-5",children:r.jsx("input",{id:"terms",name:"terms",type:"checkbox",checked:m,onChange:B=>f(B.target.checked),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),r.jsx("div",{className:"ml-3 text-sm",children:r.jsxs("label",{htmlFor:"terms",className:"font-medium text-gray-700",children:["I agree to the ",r.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"House Rules"})," and"," ",r.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Cancellation Policy"})]})})]}),n?r.jsx("button",{onClick:ve,disabled:!d||!x||!m||!H()||b>((g==null?void 0:g.guest_capacity)||0),className:`w-full py-3 px-4 rounded-md text-white font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 ${!d||!x||!m||!H()||b>((g==null?void 0:g.guest_capacity)||0)?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}`,children:!d||!x?"Select dates":H()?b>((g==null?void 0:g.guest_capacity)||0)?"Too many guests":m?g!=null&&g.instant_book?"Book instantly":"Request to book":"Accept terms":"Dates not available"}):r.jsx(U,{to:"/login",className:"w-full py-3 px-4 rounded-md bg-blue-600 hover:bg-blue-700 text-white font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 text-center block",children:"Sign in to book"}),!H()&&d&&x&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Selected dates are not available"})]})})]})]})]})})},nj=()=>{const e=cn(),t=G(P=>P.authentication_state.authentication_status.is_authenticated),n=G(P=>P.register_user),s=G(P=>P.clear_auth_error),[i,a]=S.useState("guest"),[o,l]=S.useState({email:"",phone_number:"",password_hash:"",name:"",profile_picture_url:null,bio:null,emergency_contact_name:null,emergency_contact_phone:null}),[c,u]=S.useState({email_verified:!1,sms_verified:!1,verification_code:""}),[d,h]=S.useState({email:null,phone_number:null,password_hash:null,name:null,verification_code:null}),[x,y]=S.useState(!1),[b,v]=S.useState(!1),[k,p]=S.useState(!1),[m,f]=S.useState(null),[N,E]=S.useState({terms_of_service:!1,privacy_policy:!1,libya_terms:!1,content_guidelines:!1,accommodation_laws:!1});S.useEffect(()=>{t&&e("/dashboard")},[t,e]);const w=()=>{const P={};return o.email?/\S+@\S+\.\S+/.test(o.email)||(P.email="Email address is invalid"):P.email="Email is required",o.phone_number?/^\+?[0-9]{10,15}$/.test(o.phone_number)||(P.phone_number="Phone number is invalid"):P.phone_number="Phone number is required",o.password_hash?o.password_hash.length<8&&(P.password_hash="Password must be at least 8 characters"):P.password_hash="Password is required",o.name?o.name.length<2&&(P.name="Full name must be at least 2 characters"):P.name="Full name is required",h({email:P.email||null,phone_number:P.phone_number||null,password_hash:P.password_hash||null,name:P.name||null,verification_code:null}),!P.email&&!P.phone_number&&!P.password_hash&&!P.name},j=()=>c.verification_code?c.verification_code.length!==6?(h(P=>({...P,verification_code:"Verification code must be 6 digits"})),!1):(h(P=>({...P,verification_code:null})),!0):(h(P=>({...P,verification_code:"Verification code is required"})),!1),g=P=>{const{name:A,value:Q}=P.target;l(I=>({...I,[A]:Q})),d[A]&&h(I=>({...I,[A]:null}))},M=P=>{const{name:A,checked:Q}=P.target;E(I=>({...I,[A]:Q}))},D=async P=>{var A,Q;if(w()){v(!0),f(P);try{await q.post("http://localhost:3000/api/auth/send-verification",{email:P==="email"?o.email:void 0,phone_number:P==="sms"?o.phone_number:void 0}),p(!0),u(I=>({...I,verification_code:""}))}catch(I){const T=((Q=(A=I.response)==null?void 0:A.data)==null?void 0:Q.message)||"Failed to send verification code";h(z=>({...z,[P==="email"?"email":"phone_number"]:T}))}finally{v(!1)}}},K=async()=>{j()&&(u(P=>({...P,[m==="email"?"email_verified":"sms_verified"]:!0})),f(null),p(!1))},F=async P=>{if(P.preventDefault(),!w())return;if(!Object.values(N).every(Boolean)){alert("Please accept all terms and conditions");return}if(!c.email_verified||!c.sms_verified){alert("Please verify both your email and phone number");return}y(!0),s();try{await n({email:o.email,phone_number:o.phone_number,password_hash:o.password_hash,name:o.name,profile_picture_url:o.profile_picture_url,bio:o.bio,emergency_contact_name:o.emergency_contact_name,emergency_contact_phone:o.emergency_contact_phone,role:i==="guest"?"traveler":i}),e("/dashboard")}catch(Q){console.error("Registration error:",Q)}finally{y(!1)}},L=Object.values(N).every(Boolean),C=c.email_verified&&c.sms_verified;return r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-10",children:[r.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Create Your Account"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Join LibyaStay to start booking accommodations or hosting your property"})]}),r.jsxs("div",{className:"bg-white shadow rounded-lg p-6 sm:p-8",children:[r.jsxs("form",{onSubmit:F,className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"I want to"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsxs("button",{type:"button",onClick:()=>a("guest"),className:`p-4 border rounded-lg text-center ${i==="guest"?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"}`,children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Book Stays"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Find and book accommodations"})]}),r.jsxs("button",{type:"button",onClick:()=>a("host"),className:`p-4 border rounded-lg text-center ${i==="host"?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"}`,children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Host Guests"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"List your property"})]}),r.jsxs("button",{type:"button",onClick:()=>a("both"),className:`p-4 border rounded-lg text-center ${i==="both"?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"}`,children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Both"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Book and host"})]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),r.jsx("input",{id:"name",name:"name",type:"text",value:o.name,onChange:g,className:`mt-1 block w-full px-3 py-2 border ${d.name?"border-red-300":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),d.name&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.name})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),r.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[r.jsx("input",{id:"email",name:"email",type:"email",value:o.email,onChange:g,className:`flex-1 min-w-0 block w-full px-3 py-2 border ${d.email?"border-red-300":"border-gray-300"} rounded-l-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),r.jsx("button",{type:"button",onClick:()=>D("email"),disabled:b||c.email_verified,className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:c.email_verified?"Verified":"Verify"})]}),d.email&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.email}),c.email_verified&&r.jsx("p",{className:"mt-1 text-sm text-green-600",children:"Email verified successfully"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),r.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[r.jsx("input",{id:"phone_number",name:"phone_number",type:"tel",value:o.phone_number,onChange:g,className:`flex-1 min-w-0 block w-full px-3 py-2 border ${d.phone_number?"border-red-300":"border-gray-300"} rounded-l-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),r.jsx("button",{type:"button",onClick:()=>D("sms"),disabled:b||c.sms_verified,className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:c.sms_verified?"Verified":"Verify"})]}),d.phone_number&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.phone_number}),c.sms_verified&&r.jsx("p",{className:"mt-1 text-sm text-green-600",children:"Phone number verified successfully"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password_hash",className:"block text-sm font-medium text-gray-700",children:"Password"}),r.jsx("input",{id:"password_hash",name:"password_hash",type:"password",value:o.password_hash,onChange:g,className:`mt-1 block w-full px-3 py-2 border ${d.password_hash?"border-red-300":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),d.password_hash&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.password_hash}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Password must be at least 8 characters"})]})]})]}),(k||c.email_verified||c.sms_verified)&&r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("h3",{className:"text-md font-medium text-gray-900 mb-2",children:["Verify ",m==="email"?"Email":"Phone"]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["We've sent a verification code to your ",m==="email"?"email":"phone",". Please enter it below."]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"text",value:c.verification_code,onChange:P=>{u(A=>({...A,verification_code:P.target.value})),d.verification_code&&h(A=>({...A,verification_code:null}))},maxLength:6,className:`flex-1 px-3 py-2 border ${d.verification_code?"border-red-300":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Enter 6-digit code"}),r.jsx("button",{type:"button",onClick:K,disabled:b||c.verification_code.length!==6,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:b?"Verifying...":"Verify"})]}),d.verification_code&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.verification_code}),r.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Didn't receive the code?"," ",r.jsx("button",{type:"button",onClick:()=>D(m||"email"),className:"font-medium text-blue-600 hover:text-blue-500",children:"Resend"})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Setup"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio (Optional)"}),r.jsx("textarea",{id:"bio",name:"bio",rows:3,value:o.bio||"",onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Tell us about yourself in a few sentences"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"emergency_contact_name",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Name"}),r.jsx("input",{id:"emergency_contact_name",name:"emergency_contact_name",type:"text",value:o.emergency_contact_name||"",onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"emergency_contact_phone",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Phone"}),r.jsx("input",{id:"emergency_contact_phone",name:"emergency_contact_phone",type:"tel",value:o.emergency_contact_phone||"",onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Terms & Conditions"}),r.jsx("div",{className:"space-y-3",children:Object.entries(N).map(([P,A])=>r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex items-center h-5",children:r.jsx("input",{id:P,name:P,type:"checkbox",checked:A,onChange:M,className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),r.jsx("div",{className:"ml-3 text-sm",children:r.jsxs("label",{htmlFor:P,className:"font-medium text-gray-700",children:[P==="terms_of_service"&&"I agree to the Terms of Service",P==="privacy_policy"&&"I agree to the Privacy Policy",P==="libya_terms"&&"I agree to Libya-specific Terms of Service",P==="content_guidelines"&&"I agree to the Content Guidelines",P==="accommodation_laws"&&"I acknowledge the Local Accommodation Laws"]})})]},P))})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Or register with"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})}),r.jsx("span",{className:"ml-2",children:"Google"})]}),r.jsxs("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),r.jsx("span",{className:"ml-2",children:"Facebook"})]})]})]}),r.jsxs("div",{children:[r.jsx("button",{type:"submit",disabled:x||!C||!L,className:`w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${x||!C||!L?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}`,children:x?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"}),!C&&r.jsx("p",{className:"mt-2 text-sm text-red-600 text-center",children:"Please verify both your email and phone number"}),!L&&r.jsx("p",{className:"mt-2 text-sm text-red-600 text-center",children:"Please accept all terms and conditions"})]})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",r.jsx(U,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})]})})})},rj=()=>{const[e,t]=S.useState(""),[n,s]=S.useState(""),[i,a]=S.useState(!1),[o,l]=S.useState(!1),[c,u]=S.useState({email:"",password:"",general:""}),d=cn(),h=G(f=>f.authentication_state.authentication_status.is_authenticated),x=G(f=>f.authentication_state.authentication_status.is_loading),y=G(f=>f.authentication_state.error_message),b=G(f=>f.login_user),v=G(f=>f.clear_auth_error);S.useEffect(()=>{h&&d("/dashboard")},[h,d]),S.useEffect(()=>{(c.email||c.password||c.general)&&(u({email:"",password:"",general:""}),v())},[e,n,c,v]);const k=()=>{let f=!0;const N={email:"",password:"",general:""};return e?/\S+@\S+\.\S+/.test(e)||(N.email="Email address is invalid",f=!1):(N.email="Email is required",f=!1),n?n.length<6&&(N.password="Password must be at least 6 characters",f=!1):(N.password="Password is required",f=!1),u(N),f},p=async f=>{if(f.preventDefault(),!!k())try{await b(e,n),d("/dashboard")}catch{u(E=>({...E,general:y||"An error occurred during login"}))}},m=f=>{console.log(`Social login with ${f}`)};return r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),r.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Discover amazing places to stay in Libya"})]}),c.general&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",role:"alert","aria-live":"polite",children:r.jsx("p",{className:"text-sm",children:c.general})}),r.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[r.jsxs("form",{className:"space-y-6",onSubmit:p,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),r.jsxs("div",{className:"mt-1",children:[r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:f=>t(f.target.value),className:`appearance-none block w-full px-3 py-2 border ${c.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,"aria-invalid":!!c.email,"aria-describedby":c.email?"email-error":void 0}),c.email&&r.jsx("p",{className:"mt-2 text-sm text-red-600",id:"email-error",children:c.email})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),r.jsxs("div",{className:"mt-1 relative",children:[r.jsx("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:f=>s(f.target.value),className:`appearance-none block w-full px-3 py-2 border ${c.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,"aria-invalid":!!c.password,"aria-describedby":c.password?"password-error":void 0}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!i),"aria-label":i?"Hide password":"Show password",children:i?r.jsxs("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[r.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),r.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):r.jsxs("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[r.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),r.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})}),c.password&&r.jsx("p",{className:"mt-2 text-sm text-red-600",id:"password-error",children:c.password})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:o,onChange:f=>l(f.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),r.jsx("div",{className:"text-sm",children:r.jsx(U,{to:"/reset-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:x,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),r.jsxs("div",{className:"mt-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-300"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[r.jsx("div",{children:r.jsxs("button",{onClick:()=>m("google"),className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[r.jsx("span",{className:"sr-only",children:"Sign in with Google"}),r.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"})})]})}),r.jsx("div",{children:r.jsxs("button",{onClick:()=>m("facebook"),className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[r.jsx("span",{className:"sr-only",children:"Sign in with Facebook"}),r.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})]})})]})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",r.jsx(U,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})})]})]})})})},sj=()=>{const[e,t]=bs(),n=e.get("tab")||"default",[s,i]=S.useState(n),a=G(g=>g.authentication_state.current_user),o=G(g=>g.authentication_state.auth_token),l=G(g=>g.notification_count.unread_count);S.useEffect(()=>{s==="default"&&(a!=null&&a.role)&&(a.role==="host"?i("host"):a.role==="admin"?i("admin"):i("traveler"))},[s,a==null?void 0:a.role]),S.useEffect(()=>{s!=="default"&&t({tab:s})},[s,t]);const{data:c,isLoading:u}=oe({queryKey:["userBookings",a==null?void 0:a.user_id,s],queryFn:async()=>{if(!(a!=null&&a.user_id)||!o)return null;const g=a.role==="traveler"?"confirmed":"pending";return(await q.get(`http://localhost:3000/api/users/${a.user_id}/bookings`,{headers:{Authorization:`Bearer ${o}`},params:{status:g}})).data},enabled:!!(a!=null&&a.user_id)&&!!o,staleTime:6e4,refetchOnWindowFocus:!1}),{data:d,isLoading:h}=oe({queryKey:["userNotifications",a==null?void 0:a.user_id],queryFn:async()=>!(a!=null&&a.user_id)||!o?[]:(await q.get("http://localhost:3000/api/notifications",{headers:{Authorization:`Bearer ${o}`},params:{limit:5,is_read:!1}})).data,enabled:!!(a!=null&&a.user_id)&&!!o,staleTime:6e4,refetchOnWindowFocus:!1}),x=u?0:(a==null?void 0:a.role)==="traveler"&&(c==null?void 0:c.filter(g=>g.status==="confirmed"&&new Date(g.check_in)>new Date).length)||0,y=u?0:(a==null?void 0:a.role)==="host"&&(c==null?void 0:c.filter(g=>g.status==="pending").length)||0,v=(()=>{if(!a)return 0;let g=0;const M=5;return a.name&&g++,a.email&&g++,a.phone_number&&g++,a.bio&&g++,a.profile_picture_url&&g++,Math.round(g/M*100)})(),k=!!(a!=null&&a.emergency_contact_name)&&!!(a!=null&&a.emergency_contact_phone),p=()=>{const g=[];return((a==null?void 0:a.role)==="traveler"||(a==null?void 0:a.role)==="both")&&g.push(r.jsx("button",{className:`px-4 py-2 font-medium text-sm rounded-md ${s==="traveler"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>i("traveler"),children:"Traveler Dashboard"},"traveler")),((a==null?void 0:a.role)==="host"||(a==null?void 0:a.role)==="both")&&g.push(r.jsx("button",{className:`px-4 py-2 font-medium text-sm rounded-md ${s==="host"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>i("host"),children:"Host Dashboard"},"host")),(a==null?void 0:a.role)==="admin"&&g.push(r.jsx("button",{className:`px-4 py-2 font-medium text-sm rounded-md ${s==="admin"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>i("admin"),children:"Admin Panel"},"admin")),g},m=()=>r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(a==null?void 0:a.role)==="traveler"&&r.jsxs(U,{to:"/search",className:"flex flex-col items-center justify-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-full mb-2",children:r.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Search Stays"})]}),((a==null?void 0:a.role)==="host"||(a==null?void 0:a.role)==="both")&&r.jsxs(U,{to:"/listings/create",className:"flex flex-col items-center justify-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[r.jsx("div",{className:"bg-green-100 p-3 rounded-full mb-2",children:r.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Create Listing"})]}),r.jsxs(U,{to:"/messages",className:"flex flex-col items-center justify-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[r.jsx("div",{className:"bg-purple-100 p-3 rounded-full mb-2",children:r.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Messages"}),l>0&&r.jsx("span",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:l})]}),r.jsxs(U,{to:"/settings",className:"flex flex-col items-center justify-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"bg-gray-100 p-3 rounded-full mb-2",children:r.jsxs("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Settings"})]})]})]}),f=()=>r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Activity Overview"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:r.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:(a==null?void 0:a.role)==="traveler"?"Upcoming Bookings":"Pending Requests"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:(a==null?void 0:a.role)==="traveler"?x:y})]})]})}),r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:r.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Unread Messages"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l})]})]})}),r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:r.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Profile Completeness"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[v,"%"]})]})]})})]})]}),N=()=>h?r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Notifications"}),r.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(g=>r.jsxs("div",{className:"flex items-center p-4 border border-gray-200 rounded-lg",children:[r.jsx("div",{className:"bg-gray-200 rounded-full h-10 w-10"}),r.jsxs("div",{className:"ml-4 flex-1 space-y-2",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},g))})]}):r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Notifications"}),r.jsx(U,{to:"/messages",className:"text-sm text-blue-600 hover:text-blue-800",children:"View all"})]}),d&&d.length>0?r.jsx("div",{className:"space-y-4",children:d.slice(0,5).map(g=>r.jsxs("div",{className:"flex items-start p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[r.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:r.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:g.title}),r.jsx("p",{className:"text-sm text-gray-500",children:g.message}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(g.created_at).toLocaleDateString()})]})]},g.notification_id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No notifications"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You're all caught up!"})]})]}),E=()=>r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Completeness"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-1",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Profile Completion"}),r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[v,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${v}%`}})})]}),v<100&&r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("p",{children:"Complete your profile to build trust with other users:"}),r.jsxs("ul",{className:"mt-2 space-y-1 list-disc list-inside",children:[!(a!=null&&a.bio)&&r.jsx("li",{children:"Add a bio"}),!(a!=null&&a.profile_picture_url)&&r.jsx("li",{children:"Upload a profile picture"})]}),r.jsx(U,{to:"/settings",className:"mt-3 inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Complete Profile"})]})]})]}),w=()=>k?r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Emergency Contact Verified"}),r.jsx("div",{className:"mt-1 text-sm text-green-700",children:r.jsx("p",{children:"Your emergency contact information is up to date."})})]})]})}):r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Emergency Contact Required"}),r.jsxs("div",{className:"mt-1 text-sm text-yellow-700",children:[r.jsx("p",{children:"Please add your emergency contact information for safety purposes."}),r.jsx(U,{to:"/settings",className:"font-medium text-yellow-800 underline hover:text-yellow-900",children:"Add emergency contact"})]})]})]})}),j=()=>r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),r.jsx("div",{className:"flow-root",children:r.jsxs("ul",{className:"divide-y divide-gray-200",children:[r.jsx("li",{className:"py-4",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:r.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"New booking request"}),r.jsx("p",{className:"text-sm text-gray-500 truncate",children:"You have a new booking request for your property"})]}),r.jsx("div",{className:"text-sm text-gray-500 whitespace-nowrap",children:"2h ago"})]})}),r.jsx("li",{className:"py-4",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:r.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Profile updated"}),r.jsx("p",{className:"text-sm text-gray-500 truncate",children:"You updated your profile information"})]}),r.jsx("div",{className:"text-sm text-gray-500 whitespace-nowrap",children:"1d ago"})]})}),r.jsx("li",{className:"py-4",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:r.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"New message"}),r.jsx("p",{className:"text-sm text-gray-500 truncate",children:"You received a new message from a guest"})]}),r.jsx("div",{className:"text-sm text-gray-500 whitespace-nowrap",children:"2d ago"})]})})]})})]});return a?r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Welcome back, ",a.name,"!"]})]}),r.jsx("div",{className:"mb-6",children:r.jsx("nav",{className:"flex space-x-4",children:p()})}),r.jsx("div",{className:"mb-6",children:w()}),r.jsx("div",{className:"mb-6",children:m()}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[f(),E(),j()]}),r.jsx("div",{children:N()})]})]})})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})})},ij=()=>{const[e,t]=bs(),n=Kn(),s=G(j=>j.authentication_state.current_user),i=G(j=>j.authentication_state.auth_token),a=e.get("status")||"upcoming",[o,l]=S.useState(a);S.useEffect(()=>{const j=e.get("status")||"upcoming";l(j)},[e]);const c=j=>{l(j),t({status:j})},u=async j=>!(s!=null&&s.user_id)||!i?[]:(await q.get(`http://localhost:3000/api/users/${s.user_id}/bookings`,{headers:{Authorization:`Bearer ${i}`},params:{status:j}})).data.map(M=>({...M,check_in:new Date(M.check_in),check_out:new Date(M.check_out),created_at:new Date(M.created_at),updated_at:new Date(M.updated_at)})),{data:d=[],isLoading:h,isError:x,error:y}=oe({queryKey:["bookings",o,s==null?void 0:s.user_id],queryFn:()=>u(o),enabled:!!(s!=null&&s.user_id)&&!!i,staleTime:6e4,refetchOnWindowFocus:!1}),b=Be({mutationFn:async j=>{if(!i)throw new Error("No auth token");return(await q.patch(`http://localhost:3000/api/bookings/${j}`,{status:"cancelled"},{headers:{Authorization:`Bearer ${i}`}})).data},onSuccess:j=>{n.setQueryData(["bookings",o,s==null?void 0:s.user_id],(g=[])=>g.map(M=>M.booking_id===j.booking_id?j:M)),n.invalidateQueries({queryKey:["bookings"]})}}),v=Be({mutationFn:async j=>{if(!i||!s)throw new Error("Not authenticated");return(await q.post("http://localhost:3000/api/conversations",{booking_id:j.booking_id,guest_id:s.user_id,host_id:j.host_id},{headers:{Authorization:`Bearer ${i}`}})).data},onSuccess:j=>{window.location.href=`/messages?conversation_id=${j.conversation_id}`}}),k=j=>{window.confirm("Are you sure you want to cancel this booking?")&&b.mutate(j)},p=j=>{v.mutate(j)},m=j=>j.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),f=j=>new Intl.NumberFormat("en-LY",{style:"currency",currency:"LYD"}).format(j),N=j=>{switch(j){case"flexible":return"Free cancellation up to 24 hours before check-in";case"moderate":return"Free cancellation up to 7 days before check-in";case"strict":return"Non-refundable";default:return"Cancellation policy not specified"}},E=j=>{const g={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800"},M={pending:"Pending",confirmed:"Confirmed",cancelled:"Cancelled",completed:"Completed"};return r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g[j]}`,children:M[j]})},w=j=>{switch(j.status){case"pending":return r.jsx("div",{className:"flex space-x-2",children:r.jsx("button",{onClick:()=>k(j.booking_id),disabled:b.isPending,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200 disabled:opacity-50",children:b.isPending?"Cancelling...":"Cancel"})});case"confirmed":return r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{onClick:()=>p(j),disabled:v.isPending,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 disabled:opacity-50",children:"Message Host"}),r.jsx("button",{onClick:()=>k(j.booking_id),disabled:b.isPending,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200 disabled:opacity-50",children:b.isPending?"Cancelling...":"Cancel"})]});case"completed":return r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(U,{to:`/reviews/create/${j.booking_id}`,className:"px-3 py-1 text-sm bg-green-100 text-green-700 rounded-md hover:bg-green-200",children:"Leave Review"}),r.jsx("button",{onClick:()=>p(j),disabled:v.isPending,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 disabled:opacity-50",children:"Message Host"})]});default:return r.jsx("button",{onClick:()=>p(j),disabled:v.isPending,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 disabled:opacity-50",children:"Message Host"})}};return h?r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Bookings"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your accommodation reservations"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex -mb-px",children:["upcoming","past","pending","cancelled"].map(j=>r.jsx("button",{className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${o===j?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>c(j),children:j.charAt(0).toUpperCase()+j.slice(1)},j))})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})})]})]})})}):x?r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Bookings"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your accommodation reservations"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex -mb-px",children:["upcoming","past","pending","cancelled"].map(j=>r.jsx("button",{className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${o===j?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>c(j),children:j.charAt(0).toUpperCase()+j.slice(1)},j))})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading bookings"}),r.jsx("div",{className:"mt-2 text-sm text-red-700",children:r.jsx("p",{children:y instanceof Error?y.message:"An unexpected error occurred"})})]})]})})})]})]})})}):r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Bookings"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your accommodation reservations"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex -mb-px",children:["upcoming","past","pending","cancelled"].map(j=>r.jsxs("button",{className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${o===j?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>c(j),children:[j.charAt(0).toUpperCase()+j.slice(1),d.filter(g=>g.status===j).length>0&&r.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:d.filter(g=>g.status===j).length})]},j))})}),r.jsx("div",{className:"p-6",children:d.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No bookings"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o==="upcoming"?"You don't have any upcoming trips.":o==="past"?"You haven't taken any trips yet.":o==="pending"?"You don't have any pending bookings.":"You haven't cancelled any bookings."}),r.jsx("div",{className:"mt-6",children:r.jsx(U,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Explore Listings"})})]}):r.jsx("div",{className:"space-y-6",children:d.map(j=>r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0 w-24 h-24 bg-gray-200 rounded-md overflow-hidden",children:r.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-full h-full"})}),r.jsxs("div",{className:"ml-4 flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r.jsxs(U,{to:`/properties/${j.property_id}`,className:"hover:text-blue-600",children:["Property #",j.property_id.substring(0,8)]})}),E(j.status)]}),r.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Dates"}),r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[m(new Date(j.check_in))," - ",m(new Date(j.check_out))]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Guests"}),r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[j.guest_count," guests"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:f(j.total_price)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Booking ID"}),r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:j.booking_id.substring(0,8)})]})]}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Power: Available"}),r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Water: Available"})]}),j.status==="confirmed"&&r.jsx("div",{className:"mt-2 text-xs text-gray-500",children:r.jsxs("p",{children:["Cancellation Policy: ",N("moderate")]})})]})]})}),r.jsxs("div",{className:"mt-4 md:mt-0 flex flex-col items-end space-y-3",children:[w(j),r.jsx(U,{to:`/properties/${j.property_id}`,className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"View property details"})]})]})}),j.status==="confirmed"&&r.jsx("div",{className:"bg-blue-50 px-6 py-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{className:"flex-shrink-0 h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Emergency Contact"}),r.jsxs("div",{className:"mt-1 text-sm text-blue-700",children:[r.jsx("p",{children:"Host: John Doe"}),r.jsx("p",{children:"Phone: +218 91 000 0000"})]})]})]})})]},j.booking_id))})})]})]})})})},aj=()=>{const e=G(E=>E.authentication_state.current_user),t=G(E=>E.authentication_state.auth_token),[n,s]=S.useState("active"),[i,a]=S.useState({is_verified:!1,documents_submitted:!1}),o=Kn(),l="http://localhost:3000",{data:c=[],isLoading:u,error:d}=oe({queryKey:["hostListings",e==null?void 0:e.user_id,n],queryFn:async()=>{if(!(e!=null&&e.user_id)||!t)return[];const E=await q.get(`${l}/api/users/${e.user_id}/listings`,{headers:{Authorization:`Bearer ${t}`}});return n==="active"?E.data.filter(w=>w.is_active):n==="inactive"?E.data.filter(w=>!w.is_active):n==="pending"?E.data.filter(w=>!w.is_active):E.data},enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1}),{data:h,isLoading:x}=oe({queryKey:["performanceMetrics",e==null?void 0:e.user_id],queryFn:async()=>{if(!(e!=null&&e.user_id)||!t)return{total_bookings:0,total_earnings:0,average_rating:0,pending_requests:0};const w=(await q.get(`${l}/api/users/${e.user_id}/bookings`,{headers:{Authorization:`Bearer ${t}`}})).data,j=w.filter(M=>M.status==="completed").reduce((M,D)=>M+D.total_price,0),g=w.filter(M=>M.status==="pending").length;return{total_bookings:w.filter(M=>M.status==="completed").length,total_earnings:j,average_rating:0,pending_requests:g}},enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1}),y=Be({mutationFn:async({property_id:E,is_active:w})=>{if(!t)throw new Error("No auth token");return(await q.patch(`${l}/api/properties/${E}`,{is_active:w},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data},onSuccess:()=>{o.invalidateQueries({queryKey:["hostListings"]})}});S.useEffect(()=>{e&&a({is_verified:e.is_verified,documents_submitted:!!e.verification_document_url})},[e]);const b=(E,w)=>{y.mutate({property_id:E,is_active:!w})},v=E=>new Intl.NumberFormat(" ly-LY",{style:"currency",currency:"LYD",minimumFractionDigits:2}).format(E),k=E=>E?r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"}):r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactive"}),p=()=>i.is_verified?r.jsxs("div",{className:"flex items-center text-green-600",children:[r.jsx("svg",{className:"h-5 w-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),r.jsx("span",{children:"Verified"})]}):i.documents_submitted?r.jsxs("div",{className:"flex items-center text-yellow-600",children:[r.jsx("svg",{className:"h-5 w-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),r.jsx("span",{children:"Pending Verification"})]}):r.jsxs("div",{className:"flex items-center text-red-600",children:[r.jsx("svg",{className:"h-5 w-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),r.jsx("span",{children:"Not Verified"})]}),m=()=>{const E=[{key:"active",label:"Active Listings"},{key:"inactive",label:"Inactive Listings"},{key:"pending",label:"Pending Review"}];return r.jsx("div",{className:"flex space-x-2",children:E.map(w=>r.jsx("button",{onClick:()=>s(w.key),className:`px-4 py-2 text-sm font-medium rounded-md ${n===w.key?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:w.label},w.key))})},f=()=>x?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[1,2,3,4].map(E=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]},E))}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Total Bookings"}),r.jsx("div",{className:"text-2xl font-bold mt-1",children:(h==null?void 0:h.total_bookings)||0})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Total Earnings"}),r.jsx("div",{className:"text-2xl font-bold mt-1",children:v((h==null?void 0:h.total_earnings)||0)})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Average Rating"}),r.jsxs("div",{className:"text-2xl font-bold mt-1",children:[(h==null?void 0:h.average_rating)||0,r.jsx("span",{className:"text-base font-normal",children:"/5"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Pending Requests"}),r.jsx("div",{className:"text-2xl font-bold mt-1",children:(h==null?void 0:h.pending_requests)||0})]})]}),N=()=>u?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(E=>r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden animate-pulse",children:[r.jsx("div",{className:"h-48 bg-gray-200"}),r.jsxs("div",{className:"p-4",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"})]})]})]},E))}):d?r.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsx("div",{className:"ml-3",children:r.jsx("p",{className:"text-sm text-red-700",children:"Failed to load listings. Please try again later."})})]})}):c.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),r.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No listings found"}),r.jsx("p",{className:"mt-1 text-gray-500",children:"Get started by creating a new property listing."}),r.jsx("div",{className:"mt-6",children:r.jsxs(U,{to:"/listings/create",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[r.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Create New Listing"]})})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(E=>r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-md transition-shadow duration-200",children:[r.jsxs("div",{className:"h-48 bg-gray-200 relative",children:[E.is_active?r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})}):r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactive"})}),r.jsx("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:E.city})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:E.title}),k(E.is_active)]}),r.jsxs("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:[E.description.substring(0,100),"..."]}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[v(E.base_price_per_night),r.jsx("span",{className:"text-sm font-normal text-gray-500",children:"/night"})]})}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(U,{to:`/listings/${E.property_id}/edit`,className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Edit"}),r.jsx("button",{onClick:()=>b(E.property_id,E.is_active),disabled:y.isPending,className:`inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${E.is_active?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:y.isPending?"Updating...":E.is_active?"Deactivate":"Activate"})]})]})]})]},E.property_id))});return r.jsx(r.Fragment,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Listings"}),r.jsxs(U,{to:"/listings/create",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[r.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Create New Listing"]})]})})}),r.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"mr-4",children:r.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Account Verification"}),r.jsx("div",{className:"mt-1",children:p()})]})]}),!i.is_verified&&r.jsx("div",{className:"mt-4 md:mt-0",children:r.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Submit Documents"})})]})}),f(),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"My Property Listings"}),r.jsx("div",{className:"mt-4 md:mt-0",children:m()})]})}),r.jsx("div",{className:"px-4 py-5 sm:p-6",children:N()})]})]})]})})},oj=["Tripoli","Benghazi","Misrata","Tobruk","Derna","Zliten","Zuwara","Khoms","Sirte","Al-Bayda","Tajura"],Yh=[{id:"wifi",name:"WiFi",category:"Essentials"},{id:"ac",name:"Air Conditioning",category:"Comfort"},{id:"kitchen",name:"Kitchen",category:"Essentials"},{id:"parking",name:"Parking",category:"Essentials"},{id:"washer",name:"Washer",category:"Essentials"},{id:"tv",name:"TV",category:"Entertainment"},{id:"pool",name:"Pool",category:"Luxury"},{id:"gym",name:"Gym",category:"Luxury"},{id:"power_backup",name:"Generator Power Backup",category:"Libya-Specific"},{id:"water_tank",name:"Water Tank/Stable Supply",category:"Libya-Specific"},{id:"balcony",name:"Balcony/Patio",category:"Comfort"},{id:"heating",name:"Heating",category:"Comfort"}],lj=[{id:"flexible",name:"Flexible",description:"Full refund 24 hours prior to arrival"},{id:"moderate",name:"Moderate",description:"Full refund 7 days prior to arrival"},{id:"strict",name:"Strict",description:"Non-refundable"}],cj=()=>{const e=G(F=>F.authentication_state.current_user),t=G(F=>F.authentication_state.auth_token),n=cn(),[s,i]=S.useState(1),[a,o]=S.useState({host_id:(e==null?void 0:e.user_id)||"",title:"",description:"",city:"",neighborhood:"",address:"",property_type:"",guest_capacity:1,bedrooms:1,beds:1,bathrooms:1,amenities:[],base_price_per_night:0,currency:"LYD",has_power_backup:!1,has_water_tank:!1,house_rules:"",cancellation_policy:"moderate",instant_book:!1,is_active:!0}),[l,c]=S.useState({}),[u,d]=S.useState([]),[h,x]=S.useState([]),[y,b]=S.useState(!1),[v,k]=S.useState(null);S.useEffect(()=>{!e||!t?n("/login"):o(F=>({...F,host_id:e.user_id}))},[e,t,n]);const p=F=>{if(F.target.files){const L=Array.from(F.target.files),C=L.map(P=>URL.createObjectURL(P));d(P=>[...P,...L]),x(P=>[...P,...C]),c(P=>{const A={...P};return delete A.photos,A})}},m=F=>{d(L=>L.filter((C,P)=>P!==F)),x(L=>L.filter((C,P)=>P!==F))},f=F=>{const{name:L,value:C,type:P}=F.target;if(P==="checkbox"){const A=F.target.checked;o(Q=>({...Q,[L]:A}))}else o(A=>({...A,[L]:C}));l[L]&&c(A=>{const Q={...A};return delete Q[L],Q})},N=F=>{o(L=>{const C=[...L.amenities],P=C.indexOf(F);return P>-1?C.splice(P,1):C.push(F),{...L,amenities:C}})},E=F=>{const L={};switch(F){case 1:a.title.trim()||(L.title="Title is required"),a.title.length<10&&(L.title="Title must be at least 10 characters"),a.description.trim()||(L.description="Description is required"),a.description.length<50&&(L.description="Description must be at least 50 characters"),a.property_type||(L.property_type="Property type is required");break;case 2:a.city||(L.city="City is required"),a.address.trim()||(L.address="Address is required");break;case 3:a.guest_capacity<1&&(L.guest_capacity="At least 1 guest required"),a.bedrooms<0&&(L.bedrooms="Number of bedrooms cannot be negative"),a.beds<1&&(L.beds="At least 1 bed required"),a.bathrooms<1&&(L.bathrooms="At least 1 bathroom required");break;case 4:break;case 5:u.length<5&&(L.photos="At least 5 photos are required");break;case 6:a.base_price_per_night<=0&&(L.base_price_per_night="Price must be greater than 0");break}return c(L),Object.keys(L).length===0},w=()=>{E(s)&&i(F=>Math.min(F+1,8))},j=()=>{i(F=>Math.max(F-1,1))},g=Be({mutationFn:async F=>(await q.post("http://localhost:3000/api/properties",F,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data,onSuccess:()=>{n("/dashboard/listings")},onError:F=>{var L,C;k(((C=(L=F.response)==null?void 0:L.data)==null?void 0:C.message)||"Failed to create listing. Please try again."),b(!1)}}),M=()=>{if(E(s)){b(!0),k(null);const F={...a,amenities:a.amenities,latitude:null,longitude:null,house_rules:a.house_rules||"",neighborhood:a.neighborhood||"",address:a.address||""};g.mutate(F)}},D=(a.base_price_per_night*.1).toFixed(2),K=(a.base_price_per_night+parseFloat(D)).toFixed(2);return r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"bg-white shadow rounded-lg",children:[r.jsxs("div",{className:"px-6 pt-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Create New Listing"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Follow the steps to list your property"}),r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"flex justify-between items-center mb-2",children:[1,2,3,4,5,6,7,8].map(F=>r.jsxs("div",{className:`flex flex-col items-center w-1/8 ${F<=s?"text-blue-600":"text-gray-400"}`,children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mb-1 ${F===s?"bg-blue-600 text-white":F<s?"bg-green-500 text-white":"bg-gray-200"}`,children:F<s?"✓":F}),r.jsxs("span",{className:"text-xs text-center",children:[F===1&&"Basic Info",F===2&&"Location",F===3&&"Specs",F===4&&"Amenities",F===5&&"Photos",F===6&&"Pricing",F===7&&"Availability",F===8&&"Rules"]})]},F))}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${s/8*100}%`}})})]})]}),r.jsxs("div",{className:"px-6 py-6 border-t border-gray-200",children:[s===1&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Basic Information"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Title *"}),r.jsx("input",{type:"text",id:"title",name:"title",value:a.title,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.title?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Beautiful apartment in downtown Tripoli"}),l.title&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.title}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Create a descriptive title that highlights your property's best features"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),r.jsx("textarea",{id:"description",name:"description",rows:5,value:a.description,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.description?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Describe your property in detail. Mention what makes it special for travelers in Libya..."}),l.description&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.description}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Include details about the space, neighborhood, and what guests will love"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"property_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Type *"}),r.jsxs("select",{id:"property_type",name:"property_type",value:a.property_type,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.property_type?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[r.jsx("option",{value:"",children:"Select property type"}),r.jsx("option",{value:"entire_place",children:"Entire Place"}),r.jsx("option",{value:"private_room",children:"Private Room"}),r.jsx("option",{value:"shared_room",children:"Shared Room"})]}),l.property_type&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.property_type})]})]})]}),s===2&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Location Details"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),r.jsxs("select",{id:"city",name:"city",value:a.city,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.city?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[r.jsx("option",{value:"",children:"Select a city"}),oj.map(F=>r.jsx("option",{value:F,children:F},F))]}),l.city&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.city})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"neighborhood",className:"block text-sm font-medium text-gray-700 mb-1",children:"Neighborhood"}),r.jsx("input",{type:"text",id:"neighborhood",name:"neighborhood",value:a.neighborhood,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Al-Sabah, Souq Al-Juma"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),r.jsx("textarea",{id:"address",name:"address",rows:3,value:a.address,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.address?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Enter the full address with nearby landmarks if needed"}),l.address&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.address}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"For areas with inconsistent addressing, include nearby landmarks"})]})]})]}),s===3&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Accommodation Specifications"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"guest_capacity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Guests *"}),r.jsx("input",{type:"number",id:"guest_capacity",name:"guest_capacity",min:"1",value:a.guest_capacity,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.guest_capacity?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),l.guest_capacity&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.guest_capacity})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrooms"}),r.jsx("input",{type:"number",id:"bedrooms",name:"bedrooms",min:"0",value:a.bedrooms,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.bedrooms?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),l.bedrooms&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.bedrooms})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"beds",className:"block text-sm font-medium text-gray-700 mb-1",children:"Beds *"}),r.jsx("input",{type:"number",id:"beds",name:"beds",min:"1",value:a.beds,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.beds?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),l.beds&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.beds})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bathrooms *"}),r.jsx("input",{type:"number",id:"bathrooms",name:"bathrooms",min:"1",step:"0.5",value:a.bathrooms,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.bathrooms?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),l.bathrooms&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.bathrooms})]})]}),r.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-md",children:r.jsxs("p",{className:"text-sm text-blue-700",children:[r.jsx("strong",{children:"Tip:"})," For Libya-specific accommodations, describe unique features like rooftop spaces, traditional architecture, or local decor that make your listing special."]})})]}),s===4&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Amenities"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Select all amenities available at your property. This helps guests find exactly what they need."}),r.jsx("div",{className:"space-y-6",children:Array.from(new Set(Yh.map(F=>F.category))).map(F=>r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:F}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Yh.filter(L=>L.category===F).map(L=>r.jsxs("div",{className:`flex items-center p-3 border rounded-md cursor-pointer ${a.amenities.includes(L.id)?"border-blue-500 bg-blue-50":"border-gray-300 hover:bg-gray-50"}`,onClick:()=>N(L.id),children:[r.jsx("input",{type:"checkbox",checked:a.amenities.includes(L.id),onChange:()=>N(L.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("span",{className:"ml-3 text-sm text-gray-700",children:L.name})]},L.id))})]},F))})]}),s===5&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Photo Upload"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Add clear photos of your property. Upload at least 5 photos for best results."}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Photos *"}),r.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed border-gray-300 rounded-md",children:r.jsxs("div",{className:"space-y-1 text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:r.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),r.jsxs("div",{className:"flex text-sm text-gray-600",children:[r.jsxs("label",{htmlFor:"photos",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[r.jsx("span",{children:"Upload files"}),r.jsx("input",{id:"photos",name:"photos",type:"file",multiple:!0,accept:"image/*",onChange:p,className:"sr-only"})]}),r.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 5MB"})]})}),l.photos&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.photos})]}),h.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Preview"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:h.map((F,L)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:F,alt:`Preview ${L+1}`,className:"h-32 w-full object-cover rounded-md"}),r.jsx("button",{type:"button",onClick:()=>m(L),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},L))})]}),u.length>=5&&r.jsx("div",{className:"p-4 bg-green-50 rounded-md",children:r.jsxs("p",{className:"text-sm text-green-700",children:[r.jsx("strong",{children:"Great!"})," You've uploaded ",u.length," photos. This meets the minimum requirement."]})})]})]}),s===6&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Pricing"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"base_price_per_night",className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Price per Night (LYD) *"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-500 sm:text-sm",children:"LYD"})}),r.jsx("input",{type:"number",id:"base_price_per_night",name:"base_price_per_night",min:"0",step:"0.5",value:a.base_price_per_night,onChange:f,className:`pl-12 w-full px-3 py-2 border rounded-md ${l.base_price_per_night?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),l.base_price_per_night&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.base_price_per_night}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This is the nightly rate before service fees"})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[r.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Price Breakdown"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Base Price:"}),r.jsxs("span",{className:"font-medium",children:["LYD ",a.base_price_per_night.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Service Fee (10%):"}),r.jsxs("span",{className:"font-medium",children:["LYD ",D]})]}),r.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[r.jsx("span",{className:"font-medium",children:"Total per night:"}),r.jsxs("span",{className:"font-bold text-lg",children:["LYD ",K]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Discounts"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Coming soon: Offer weekly or monthly discounts to attract longer stays"}),r.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:!0,children:"Add Discount"})]})]})]}),s===7&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Availability Calendar"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Set when your property is available for bookings. You can adjust this later."}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mb-6",children:r.jsxs("p",{className:"text-sm text-blue-700",children:[r.jsx("strong",{children:"Tip:"})," For now, your property will be available by default. You can set specific dates in the property management section after creation."]})}),r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(F=>r.jsx("div",{className:"text-center text-sm font-medium text-gray-500 py-2",children:F},F))}),r.jsx("div",{className:"grid grid-cols-7 gap-1",children:Array.from({length:35}).map((F,L)=>{const C=new Date;return C.setDate(C.getDate()+L),r.jsx("div",{className:"h-12 flex items-center justify-center text-sm rounded-md bg-green-100 text-green-800 border border-green-200",children:C.getDate()},L)})}),r.jsxs("div",{className:"mt-6 flex items-center",children:[r.jsxs("div",{className:"flex items-center mr-6",children:[r.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-200 rounded-md mr-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Available"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded-md mr-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Unavailable"})]})]})]}),s===8&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"House Rules & Policies"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"house_rules",className:"block text-sm font-medium text-gray-700 mb-1",children:"House Rules"}),r.jsx("textarea",{id:"house_rules",name:"house_rules",rows:4,value:a.house_rules,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"List any specific rules for your guests (e.g., no smoking, no pets, quiet hours)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cancellation Policy *"}),r.jsx("div",{className:"space-y-3",children:lj.map(F=>r.jsx("div",{className:`p-4 border rounded-md cursor-pointer ${a.cancellation_policy===F.id?"border-blue-500 bg-blue-50":"border-gray-300 hover:bg-gray-50"}`,onClick:()=>o(L=>({...L,cancellation_policy:F.id})),children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("input",{type:"radio",name:"cancellation_policy",value:F.id,checked:a.cancellation_policy===F.id,onChange:f,className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("span",{className:"block text-sm font-medium text-gray-900",children:F.name}),r.jsx("span",{className:"block text-sm text-gray-500",children:F.description})]})]})},F.id))})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex items-center h-5",children:r.jsx("input",{id:"instant_book",name:"instant_book",type:"checkbox",checked:a.instant_book,onChange:f,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),r.jsxs("div",{className:"ml-3 text-sm",children:[r.jsx("label",{htmlFor:"instant_book",className:"font-medium text-gray-700",children:"Enable instant booking"}),r.jsx("p",{className:"text-gray-500",children:"Allow guests to book without your approval (recommended for better conversion)"})]})]}),r.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:r.jsxs("p",{className:"text-sm text-yellow-700",children:[r.jsx("strong",{children:"Important:"})," By submitting this listing, you confirm that you have the right to rent this property and that it complies with all local laws and regulations in Libya."]})})]})]}),r.jsxs("div",{className:"mt-8 flex justify-between",children:[r.jsx("button",{type:"button",onClick:j,disabled:s===1,className:`px-4 py-2 border border-gray-300 rounded-md text-sm font-medium ${s===1?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"}`,children:"Back"}),s<8?r.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-blue-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Next"}):r.jsx("button",{type:"button",onClick:M,disabled:y,className:"px-4 py-2 bg-green-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:y?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Listing..."]}):"Create Listing"})]}),v&&r.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:r.jsx("p",{className:"text-sm",children:v})}),g.isSuccess&&r.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md",children:r.jsx("p",{className:"text-sm",children:"Your listing has been created successfully! You'll be redirected to your listings dashboard."})})]})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx(U,{to:"/dashboard/listings",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"← Back to Listings Dashboard"})})]})})})},uj=()=>{var P,A,Q,I;const{listing_id:e}=Au(),t=cn(),n=G(T=>T.authentication_state.auth_token),s=G(T=>T.authentication_state.current_user),[i,a]=S.useState({}),[o,l]=S.useState([]),[c,u]=S.useState([]),[d,h]=S.useState(!1),[x,y]=S.useState(null),[b,v]=S.useState(null),k=Kn(),p=["Tripoli","Benghazi","Misrata","Tobruk","Derna","Zliten","Zuwara","Khoms","Sirte","Al-Bayda","Tajura","Sabha","Al-Marj","Ghat","Murzuq","Waddan","Jalu","Jaghbub"],{data:m,isLoading:f,isError:N}=oe({queryKey:["property",e],queryFn:async()=>(await q.get(`http://localhost:3000/api/properties/${e}`,{headers:{Authorization:`Bearer ${n}`}})).data,enabled:!!e&&!!n}),{data:E=[],refetch:w}=oe({queryKey:["property-photos",e],queryFn:async()=>(await q.get(`http://localhost:3000/api/properties/${e}/photos`,{headers:{Authorization:`Bearer ${n}`}})).data,enabled:!!e&&!!n});S.useEffect(()=>{m&&(a({...m}),h(!1))},[m]),S.useEffect(()=>{if(m){const T=JSON.stringify(i)!==JSON.stringify(m)||o.length>0;h(T)}},[i,o,m]);const j=(T,z)=>{a(H=>({...H,[T]:z})),y(null)},g=T=>{if(T.target.files&&T.target.files.length>0){const z=Array.from(T.target.files),H=z.map(le=>({id:`temp-${Date.now()}-${Math.random()}`,file:le,url:URL.createObjectURL(le)}));u(le=>[...le,...H]);const R=z.map((le,ve)=>({type:"add",tempId:H[ve].id,file:le}));l(le=>[...le,...R])}T.target.value=""},M=T=>{"photo_id"in T?l(z=>[...z,{type:"remove",photo:T}]):(u(z=>z.filter(H=>H.id!==T.id)),l(z=>z.filter(H=>H.tempId!==T.id)))},D=Be({mutationFn:async T=>(await q.patch(`http://localhost:3000/api/properties/${e}`,T,{headers:{Authorization:`Bearer ${n}`}})).data,onSuccess:()=>{k.invalidateQueries({queryKey:["property",e]}),v("Listing updated successfully!"),h(!1),setTimeout(()=>v(null),3e3)},onError:T=>{var z,H;y(((H=(z=T.response)==null?void 0:z.data)==null?void 0:H.message)||"Failed to update listing")}}),K=async()=>{var T,z;if(!(!i||!e)){y(null),v(null);try{const H={property_id:e,...i};Object.keys(H).forEach(R=>{R!=="property_id"&&JSON.stringify(H[R])===JSON.stringify(m==null?void 0:m[R])&&delete H[R]}),Object.keys(H).length>1&&await D.mutateAsync(H);for(const R of o)if(R.type==="add"&&R.file){new FormData().append("file",R.file);const ve=URL.createObjectURL(R.file);await q.post(`http://localhost:3000/api/properties/${e}/photos`,{property_id:e,photo_url:ve,display_order:E.length+c.length},{headers:{Authorization:`Bearer ${n}`}})}else R.type==="remove"&&R.photo&&await q.delete(`http://localhost:3000/api/properties/${e}/photos/${R.photo.photo_id}`,{headers:{Authorization:`Bearer ${n}`}});l([]),u([]),w(),v("All changes saved successfully!"),h(!1)}catch(H){y(((z=(T=H.response)==null?void 0:T.data)==null?void 0:z.message)||"Failed to save changes")}}},F=async()=>{var T,z;if(window.confirm("Are you sure you want to delete this listing? This action cannot be undone."))try{await q.patch(`http://localhost:3000/api/properties/${e}`,{property_id:e,is_active:!1},{headers:{Authorization:`Bearer ${n}`}}),t("/dashboard/listings")}catch(H){y(((z=(T=H.response)==null?void 0:T.data)==null?void 0:z.message)||"Failed to delete listing")}},L=async()=>{var T,z;if(m)try{await q.patch(`http://localhost:3000/api/properties/${e}`,{property_id:e,is_active:!m.is_active},{headers:{Authorization:`Bearer ${n}`}}),k.invalidateQueries({queryKey:["property",e]}),v(`Listing ${m.is_active?"unpublished":"published"} successfully!`),setTimeout(()=>v(null),3e3)}catch(H){y(((z=(T=H.response)==null?void 0:T.data)==null?void 0:z.message)||"Failed to update listing status")}};if(!n||!s)return r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to edit your listing."}),r.jsx(U,{to:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors",children:"Go to Login"})]})})});if(f)return r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(N||!m)return r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Listing"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find the listing you're trying to edit."}),r.jsx(U,{to:"/dashboard/listings",className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors",children:"Back to My Listings"})]})})});if(m.host_id!==s.user_id)return r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to edit this listing."}),r.jsx(U,{to:"/dashboard/listings",className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors",children:"Back to My Listings"})]})})});const C=[...E.map(T=>({...T,temp:!1})),...c.map(T=>({photo_id:T.id,property_id:e||"",photo_url:T.url,caption:null,display_order:E.length,created_at:new Date().toISOString(),temp:!0}))];return r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Listing"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Make changes to your property listing below"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>t("/dashboard/listings"),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:L,className:`${m.is_active?"bg-yellow-500 hover:bg-yellow-600":"bg-green-600 hover:bg-green-700"} text-white px-4 py-2 rounded-md font-medium transition-colors`,children:m.is_active?"Unpublish":"Publish"}),r.jsx("button",{onClick:K,disabled:!d||D.isPending,className:`${d?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"} text-white px-4 py-2 rounded-md font-medium transition-colors`,children:D.isPending?"Saving...":"Save Changes"})]})]}),x&&r.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:r.jsx("p",{children:x})}),b&&r.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md",children:r.jsx("p",{children:b})})]}),r.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"divide-y divide-gray-200",children:[r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Listing Title"}),r.jsx("input",{type:"text",id:"title",value:i.title||"",onChange:T=>j("title",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Beautiful apartment in central Tripoli"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"property_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Type"}),r.jsxs("select",{id:"property_type",value:i.property_type||"",onChange:T=>j("property_type",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select property type"}),r.jsx("option",{value:"entire_place",children:"Entire Place"}),r.jsx("option",{value:"private_room",children:"Private Room"}),r.jsx("option",{value:"shared_room",children:"Shared Room"})]})]}),r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{id:"description",rows:4,value:i.description||"",onChange:T=>j("description",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe your property in detail..."})]})]})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Location"}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),r.jsxs("select",{id:"city",value:i.city||"",onChange:T=>j("city",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select a city"}),p.map(T=>r.jsx("option",{value:T,children:T},T))]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"neighborhood",className:"block text-sm font-medium text-gray-700 mb-1",children:"Neighborhood"}),r.jsx("input",{type:"text",id:"neighborhood",value:i.neighborhood||"",onChange:T=>j("neighborhood",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional neighborhood"})]}),r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r.jsx("input",{type:"text",id:"address",value:i.address||"",onChange:T=>j("address",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Full address"})]})]})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Accommodation Details"}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"guest_capacity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Guests"}),r.jsx("input",{type:"number",id:"guest_capacity",min:"1",value:i.guest_capacity||1,onChange:T=>j("guest_capacity",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrooms"}),r.jsx("input",{type:"number",id:"bedrooms",min:"0",value:i.bedrooms||0,onChange:T=>j("bedrooms",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"beds",className:"block text-sm font-medium text-gray-700 mb-1",children:"Beds"}),r.jsx("input",{type:"number",id:"beds",min:"1",value:i.beds||1,onChange:T=>j("beds",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bathrooms"}),r.jsx("input",{type:"number",id:"bathrooms",min:"1",step:"0.5",value:i.bathrooms||1,onChange:T=>j("bathrooms",parseFloat(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Amenities"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"has_power_backup",type:"checkbox",checked:i.has_power_backup||!1,onChange:T=>j("has_power_backup",T.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"has_power_backup",className:"ml-2 block text-sm text-gray-900",children:"Generator Power Backup"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"has_water_tank",type:"checkbox",checked:i.has_water_tank||!1,onChange:T=>j("has_water_tank",T.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"has_water_tank",className:"ml-2 block text-sm text-gray-900",children:"Water Tank/Stable Supply"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"wifi",type:"checkbox",checked:((P=i.amenities)==null?void 0:P.includes("WiFi"))||!1,onChange:T=>{const z=i.amenities||"",H=T.target.checked?`${z}${z?",":""}WiFi`:z.replace(/WiFi,?/g,"").replace(/^,|,$/g,"");j("amenities",H)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"wifi",className:"ml-2 block text-sm text-gray-900",children:"WiFi"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"ac",type:"checkbox",checked:((A=i.amenities)==null?void 0:A.includes("Air Conditioning"))||!1,onChange:T=>{const z=i.amenities||"",H=T.target.checked?`${z}${z?",":""}Air Conditioning`:z.replace(/Air Conditioning,?/g,"").replace(/^,|,$/g,"");j("amenities",H)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"ac",className:"ml-2 block text-sm text-gray-900",children:"Air Conditioning"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"kitchen",type:"checkbox",checked:((Q=i.amenities)==null?void 0:Q.includes("Kitchen"))||!1,onChange:T=>{const z=i.amenities||"",H=T.target.checked?`${z}${z?",":""}Kitchen`:z.replace(/Kitchen,?/g,"").replace(/^,|,$/g,"");j("amenities",H)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"kitchen",className:"ml-2 block text-sm text-gray-900",children:"Kitchen"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"parking",type:"checkbox",checked:((I=i.amenities)==null?void 0:I.includes("Parking"))||!1,onChange:T=>{const z=i.amenities||"",H=T.target.checked?`${z}${z?",":""}Parking`:z.replace(/Parking,?/g,"").replace(/^,|,$/g,"");j("amenities",H)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"parking",className:"ml-2 block text-sm text-gray-900",children:"Parking"})]})]})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Photos"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add New Photos"}),r.jsx("div",{className:"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:r.jsxs("div",{className:"space-y-1 text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:r.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),r.jsxs("div",{className:"flex text-sm text-gray-600",children:[r.jsxs("label",{htmlFor:"photo-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[r.jsx("span",{children:"Upload files"}),r.jsx("input",{id:"photo-upload",name:"photo-upload",type:"file",multiple:!0,accept:"image/*",onChange:g,className:"sr-only"})]}),r.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]}),C.length>0&&r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:C.map(T=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:T.photo_url,alt:"Property",className:"h-32 w-full object-cover rounded-md"}),r.jsx("button",{type:"button",onClick:()=>M(T.temp?{id:T.photo_id}:T),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},T.photo_id))})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Pricing"}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"base_price_per_night",className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Price per Night (LYD)"}),r.jsxs("div",{className:"relative rounded-md shadow-sm",children:[r.jsx("input",{type:"number",id:"base_price_per_night",min:"0",step:"0.01",value:i.base_price_per_night||0,onChange:T=>j("base_price_per_night",parseFloat(T.target.value)),className:"focus:ring-blue-500 focus:border-blue-500 block w-full pr-12 sm:text-sm border-gray-300 rounded-md"}),r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-500 sm:text-sm",children:"LYD"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"cancellation_policy",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cancellation Policy"}),r.jsxs("select",{id:"cancellation_policy",value:i.cancellation_policy||"moderate",onChange:T=>j("cancellation_policy",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"flexible",children:"Flexible (Free cancellation up to 24 hours)"}),r.jsx("option",{value:"moderate",children:"Moderate (Free cancellation up to 7 days)"}),r.jsx("option",{value:"strict",children:"Strict (Non-refundable)"})]})]}),r.jsxs("div",{className:"flex items-center pt-6",children:[r.jsx("input",{id:"instant_book",type:"checkbox",checked:i.instant_book||!1,onChange:T=>j("instant_book",T.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"instant_book",className:"ml-2 block text-sm text-gray-900",children:"Enable Instant Booking"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-between",children:[r.jsx("button",{onClick:F,className:"text-red-600 hover:text-red-800 font-medium",children:"Delete Listing"}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>t("/dashboard/listings"),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:K,disabled:!d||D.isPending,className:`${d?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"} text-white px-4 py-2 rounded-md font-medium transition-colors`,children:D.isPending?"Saving...":"Save Changes"})]})]})]})]})})})},dj=()=>{const e=G(C=>C.authentication_state.current_user),t=G(C=>C.authentication_state.auth_token),n=Kn(),[s,i]=S.useState("pending"),[a,o]=S.useState(null),[l,c]=S.useState(!1),[u,d]=S.useState(""),[h,x]=S.useState("month"),y="http://localhost:3000",{data:b=[],isLoading:v}=oe({queryKey:["hostBookings","pending",e==null?void 0:e.user_id],queryFn:async()=>!(e!=null&&e.user_id)||!t?[]:(await q.get(`${y}/api/bookings`,{headers:{Authorization:`Bearer ${t}`},params:{host_id:e.user_id,status:"pending"}})).data.bookings,enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),{data:k=[],isLoading:p}=oe({queryKey:["hostBookings","confirmed",e==null?void 0:e.user_id],queryFn:async()=>!(e!=null&&e.user_id)||!t?[]:(await q.get(`${y}/api/bookings`,{headers:{Authorization:`Bearer ${t}`},params:{host_id:e.user_id,status:"confirmed"}})).data.bookings,enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),{data:m=[],isLoading:f}=oe({queryKey:["hostBookings","history",e==null?void 0:e.user_id],queryFn:async()=>!(e!=null&&e.user_id)||!t?[]:(await q.get(`${y}/api/bookings`,{headers:{Authorization:`Bearer ${t}`},params:{host_id:e.user_id,status:["completed","cancelled"]}})).data.bookings,enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),N=Be({mutationFn:async C=>{if(!t)throw new Error("No auth token");return(await q.patch(`${y}/api/bookings/${C}`,{status:"confirmed"},{headers:{Authorization:`Bearer ${t}`}})).data},onSuccess:C=>{n.setQueryData(["hostBookings","pending",e==null?void 0:e.user_id],P=>(P==null?void 0:P.filter(A=>A.booking_id!==C.booking_id))||[]),n.setQueryData(["hostBookings","confirmed",e==null?void 0:e.user_id],P=>[...P||[],C]),o(null)},onError:C=>{console.error("Error approving booking:",C),alert("Failed to approve booking. Please try again.")}}),E=Be({mutationFn:async({bookingId:C,reason:P})=>{if(!t)throw new Error("No auth token");return(await q.patch(`${y}/api/bookings/${C}`,{status:"declined",special_requests:P||"No reason provided"},{headers:{Authorization:`Bearer ${t}`}})).data},onSuccess:C=>{n.setQueryData(["hostBookings","pending",e==null?void 0:e.user_id],P=>(P==null?void 0:P.filter(A=>A.booking_id!==C.booking_id))||[]),c(!1),d(""),o(null)},onError:C=>{console.error("Error declining booking:",C),alert("Failed to decline booking. Please try again.")}}),w=C=>{N.mutate(C)},j=C=>{o(b.find(P=>P.booking_id===C)||null),c(!0)},g=()=>{a&&E.mutate({bookingId:a.booking_id,reason:u})},M=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),D=C=>new Intl.NumberFormat("en-LY",{style:"currency",currency:"LYD"}).format(C),K=C=>r.jsxs("div",{className:"border rounded-lg p-4 mb-4 shadow-sm hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Booking #",C.booking_id.substring(0,8)]}),r.jsxs("p",{className:"text-gray-600",children:[M(C.check_in)," - ",M(C.check_out)]}),r.jsxs("p",{className:"text-gray-600",children:[C.guest_count," guest",C.guest_count>1?"s":""]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-lg font-bold",children:D(C.total_price)}),r.jsxs("p",{className:"text-sm text-gray-500",children:["+",D(C.service_fee)," service fee"]})]})]}),C.special_requests&&r.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("span",{className:"font-medium",children:"Special requests:"})," ",C.special_requests]})}),r.jsxs("div",{className:"mt-4 flex space-x-2",children:[r.jsx("button",{onClick:()=>w(C.booking_id),disabled:N.isPending,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md transition-colors disabled:opacity-50",children:N.isPending?"Approving...":"Approve"}),r.jsx("button",{onClick:()=>j(C.booking_id),disabled:E.isPending,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-md transition-colors disabled:opacity-50",children:E.isPending?"Declining...":"Decline"})]})]},C.booking_id),F=C=>r.jsx("div",{className:"border rounded-lg p-4 mb-4 shadow-sm",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Booking #",C.booking_id.substring(0,8)]}),r.jsxs("p",{className:"text-gray-600",children:[M(C.check_in)," - ",M(C.check_out)]}),r.jsxs("p",{className:"text-gray-600",children:[C.guest_count," guest",C.guest_count>1?"s":""]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-lg font-bold",children:D(C.total_price)}),r.jsx("p",{className:`text-sm font-medium ${C.status==="completed"?"text-green-600":"text-red-600"}`,children:C.status.charAt(0).toUpperCase()+C.status.slice(1)})]})]})},C.booking_id),L=()=>{const C={};return k.forEach(P=>{const A=new Date(P.check_in).toLocaleString("default",{month:"long",year:"numeric"});C[A]||(C[A]=[]),C[A].push(P)}),r.jsx("div",{className:"space-y-8",children:Object.entries(C).map(([P,A])=>r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold mb-4",children:P}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(Q=>r.jsx("div",{className:"border rounded-lg p-4 bg-white shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>o(Q),children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold",children:["Booking #",Q.booking_id.substring(0,8)]}),r.jsxs("p",{className:"text-gray-600",children:[M(Q.check_in)," - ",M(Q.check_out)]}),r.jsxs("p",{className:"text-gray-600",children:[Q.guest_count," guest",Q.guest_count>1?"s":""]})]}),r.jsx("div",{className:"text-right",children:r.jsx("p",{className:"font-bold",children:D(Q.total_price)})})]})},Q.booking_id))})]},P))})};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Host Bookings"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your booking requests, confirmed bookings, and booking history"})]}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsxs("nav",{className:"-mb-px flex space-x-8",children:[r.jsxs("button",{onClick:()=>i("pending"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${s==="pending"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Booking Requests",b.length>0&&r.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:b.length})]}),r.jsx("button",{onClick:()=>i("confirmed"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${s==="confirmed"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Confirmed Bookings"}),r.jsx("button",{onClick:()=>i("history"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${s==="history"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Booking History"})]})}),s==="pending"&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Pending Booking Requests"}),v?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):b.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),r.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No pending booking requests"}),r.jsx("p",{className:"mt-1 text-gray-500",children:"When guests request to book your properties, they'll appear here."})]}):r.jsx("div",{children:b.map(K)})]}),s==="confirmed"&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Confirmed Bookings"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>x("month"),className:`px-3 py-1 rounded ${h==="month"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Month"}),r.jsx("button",{onClick:()=>x("week"),className:`px-3 py-1 rounded ${h==="week"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Week"}),r.jsx("button",{onClick:()=>x("day"),className:`px-3 py-1 rounded ${h==="day"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Day"})]})]}),p?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):k.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),r.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No confirmed bookings"}),r.jsx("p",{className:"mt-1 text-gray-500",children:"When guests confirm bookings, they'll appear here."})]}):r.jsx("div",{children:L()})]}),s==="history"&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Booking History"}),f?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):m.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No booking history"}),r.jsx("p",{className:"mt-1 text-gray-500",children:"Your completed and cancelled bookings will appear here."})]}):r.jsx("div",{children:m.map(F)})]})]})}),l&&a&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-lg max-w-md w-full",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Decline Booking Request"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to decline this booking request? You can provide a reason for declining."}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"declineReason",className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for declining (optional)"}),r.jsx("textarea",{id:"declineReason",rows:3,className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 mt-1 block w-full sm:text-sm border border-gray-300 rounded-md p-2",placeholder:"Enter reason for declining...",value:u,onChange:C=>d(C.target.value)})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),r.jsx("button",{onClick:g,disabled:E.isPending,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:E.isPending?"Declining...":"Decline Booking"})]})]})})}),a&&!l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Booking Details"}),r.jsx("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-500",children:r.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Booking Information"}),r.jsxs("dl",{className:"mt-2 space-y-2",children:[r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Booking ID"}),r.jsx("dd",{className:"text-sm text-gray-900",children:a.booking_id})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Check-in"}),r.jsx("dd",{className:"text-sm text-gray-900",children:M(a.check_in)})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Check-out"}),r.jsx("dd",{className:"text-sm text-gray-900",children:M(a.check_out)})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Guests"}),r.jsx("dd",{className:"text-sm text-gray-900",children:a.guest_count})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),r.jsx("dd",{className:"text-sm text-gray-900 capitalize",children:a.status})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Financial Details"}),r.jsxs("dl",{className:"mt-2 space-y-2",children:[r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Total Price"}),r.jsx("dd",{className:"text-sm text-gray-900",children:D(a.total_price)})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Service Fee"}),r.jsx("dd",{className:"text-sm text-gray-900",children:D(a.service_fee)})]}),a.special_requests&&r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Special Requests"}),r.jsx("dd",{className:"text-sm text-gray-900",children:a.special_requests})]})]})]})]}),r.jsx("div",{className:"mt-6 flex justify-end space-x-3",children:r.jsx("button",{onClick:()=>o(null),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Close"})})]})})})]})},hj=()=>{var L;const e=G(C=>C.authentication_state.current_user),t=G(C=>C.authentication_state.auth_token),[n,s]=S.useState([]),[i,a]=S.useState(null),[o,l]=S.useState([]),[c,u]=S.useState({}),[d,h]=S.useState(""),[x]=bs(),[y,b]=S.useState(!0),[v,k]=S.useState(!1),[p,m]=S.useState(null),f="http://localhost:3000",N=S.useCallback(async()=>{if(!t)return[];try{return(await q.get(`${f}/api/conversations`,{headers:{Authorization:`Bearer ${t}`},params:{limit:20,offset:0}})).data.conversations}catch(C){throw console.error("Error fetching conversations:",C),new Error("Failed to load conversations")}},[t,f]),E=S.useCallback(async C=>{if(!t)return[];try{return(await q.get(`${f}/api/conversations/${C}/messages`,{headers:{Authorization:`Bearer ${t}`},params:{limit:50,offset:0}})).data}catch(P){throw console.error("Error fetching messages:",P),new Error("Failed to load messages")}},[t,f]),w=Be({mutationFn:async C=>{if(!t)throw new Error("Not authenticated");return(await q.post(`${f}/api/conversations/${C.conversation_id}/messages`,{content:C.content,sender_id:e==null?void 0:e.user_id},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data},onSuccess:C=>{l(P=>[...P,C]),h(""),s(P=>P.map(A=>A.conversation_id===C.conversation_id?{...A,updated_at:new Date().toISOString()}:A).sort((A,Q)=>new Date(Q.updated_at).getTime()-new Date(A.updated_at).getTime()))},onError:C=>{console.error("Error sending message:",C),m("Failed to send message. Please try again.")}}),j=Be({mutationFn:async C=>{if(!t)throw new Error("Not authenticated");return(await q.patch(`${f}/api/messages/${C}`,{is_read:!0},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data},onSuccess:C=>{l(P=>P.map(A=>A.message_id===C.message_id?{...A,is_read:C.is_read}:A)),u(P=>{const A=C.conversation_id,Q=P[A]||0;return{...P,[A]:Math.max(0,Q-1)}})}});S.useEffect(()=>{t&&(async()=>{try{b(!0);const P=await N();s(P);const A=x.get("conversation_id");if(A){const Q=P.find(I=>I.conversation_id===A);Q&&a(Q)}else P.length>0&&a(P[0])}catch(P){m("Failed to load conversations"),console.error("Error loading conversations:",P)}finally{b(!1)}})()},[t,N,x]),S.useEffect(()=>{(async()=>{if(!i){l([]);return}try{k(!0);const P=await E(i.conversation_id);l(P),P.filter(A=>!A.is_read&&A.sender_id!==(e==null?void 0:e.user_id)).forEach(A=>{j.mutate(A.message_id)})}catch(P){m("Failed to load messages"),console.error("Error loading messages:",P)}finally{k(!1)}})()},[i,E,e]);const g=C=>{C.preventDefault(),!(!d.trim()||!i||w.isPending)&&w.mutate({conversation_id:i.conversation_id,content:d})},M=C=>{const P=new Date(C);return A2(P)?gn(P,"HH:mm"):B2(P)?"Yesterday":gn(P,"MMM dd")},D=C=>e?C.guest_id===e.user_id?C.host_id:C.guest_id:null,K=C=>{const P=c[C.conversation_id]||0,A=(i==null?void 0:i.conversation_id)===C.conversation_id,Q=D(C);return r.jsx("div",{className:`p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50 ${A?"bg-blue-50 border-l-4 border-l-blue-500":""}`,onClick:()=>a(C),children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center",children:r.jsx("span",{className:"text-gray-700 font-medium",children:(Q==null?void 0:Q.charAt(0).toUpperCase())||"U"})}),r.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:Q===C.guest_id?"Guest":"Host"}),r.jsx("time",{className:"text-xs text-gray-500",children:M(C.updated_at)})]}),r.jsxs("p",{className:"text-sm text-gray-500 truncate",children:["Conversation about booking #",C.booking_id.substring(0,8)]})]}),P>0&&r.jsx("div",{className:"ml-2 flex-shrink-0",children:r.jsx("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full",children:P})})]})},C.conversation_id)},F=C=>{const P=C.sender_id===(e==null?void 0:e.user_id),A=P?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none";return r.jsx("div",{className:`flex ${P?"justify-end":"justify-start"} mb-4`,children:r.jsxs("div",{className:`max-w-xs md:max-w-md lg:max-w-lg px-4 py-2 rounded-lg ${A}`,children:[r.jsx("p",{className:"text-sm",children:C.content}),r.jsxs("div",{className:`text-xs mt-1 ${P?"text-blue-100":"text-gray-500"}`,children:[r.jsx("span",{children:M(C.created_at)}),P&&r.jsx("span",{className:"ml-2",children:C.is_read?"✓✓":"✓"})]})]})},C.message_id)};return!t||!e?r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Authentication Required"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to access your messages"}),r.jsx(U,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go to Login"})]})})}):r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:r.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-200px)]",children:[r.jsxs("div",{className:"w-full md:w-1/3 border-r border-gray-200 flex flex-col",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Messages"})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:y?r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):p?r.jsx("div",{className:"p-4 text-center text-red-500",children:p}):n.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No conversations yet. Start a conversation from a booking."}):n.map(K)})]}),r.jsx("div",{className:"w-full md:w-2/3 flex flex-col",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center",children:r.jsx("span",{className:"text-gray-700 font-medium",children:((L=D(i))==null?void 0:L.charAt(0).toUpperCase())||"U"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:D(i)===i.guest_id?"Guest":"Host"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Booking #",i.booking_id.substring(0,8)]})]})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-white",children:v?r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):p?r.jsx("div",{className:"p-4 text-center text-red-500",children:p}):o.length===0?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("p",{className:"text-gray-500",children:"No messages yet. Start the conversation!"})}):r.jsx("div",{className:"space-y-4",children:o.map(F)})}),r.jsx("div",{className:"p-4 border-t border-gray-200",children:r.jsxs("form",{onSubmit:g,className:"flex",children:[r.jsx("input",{type:"text",value:d,onChange:C=>h(C.target.value),placeholder:"Type a message...",className:"flex-1 rounded-l-lg border border-gray-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:w.isPending}),r.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-r-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",disabled:!d.trim()||w.isPending,children:w.isPending?"Sending...":"Send"})]})})]}):r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),r.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No conversation selected"}),r.jsx("p",{className:"mt-1 text-gray-500",children:"Select a conversation from the list to start messaging"})]})})})]})})})})})},mj=()=>{const{booking_id:e}=Au(),t=cn(),n=G(L=>L.authentication_state.current_user),s=G(L=>L.authentication_state.auth_token),[i,a]=S.useState({cleanliness_rating:0,accuracy_rating:0,communication_rating:0,location_rating:0,check_in_rating:0,value_rating:0,overall_rating:0}),[o,l]=S.useState(""),[c,u]=S.useState([]),[d,h]=S.useState([]),[x,y]=S.useState(null),[b,v]=S.useState(!1),k=Kn(),{data:p,isLoading:m,error:f}=oe({queryKey:["booking",e],queryFn:async()=>(await q.get(`http://localhost:3000/api/bookings/${e}`,{headers:{Authorization:`Bearer ${s}`}})).data,enabled:!!e&&!!s}),{data:N}=oe({queryKey:["property",p==null?void 0:p.property_id],queryFn:async()=>(await q.get(`http://localhost:3000/api/properties/${p==null?void 0:p.property_id}`)).data,enabled:!!(p!=null&&p.property_id)}),{data:E}=oe({queryKey:["host",p==null?void 0:p.host_id],queryFn:async()=>(await q.get(`http://localhost:3000/api/users/${p==null?void 0:p.host_id}`)).data,enabled:!!(p!=null&&p.host_id)});S.useEffect(()=>{if(p&&n){const L=new Date,C=new Date(p.check_out);p.guest_id===n.user_id&&p.status==="completed"&&L>C||t("/dashboard/bookings")}},[p,n,t]);const w=L=>{if(L.target.files){const P=Array.from(L.target.files).slice(0,5-c.length);u(Q=>[...Q,...P]);const A=P.map(Q=>URL.createObjectURL(Q));h(Q=>[...Q,...A])}},j=L=>{u(C=>C.filter((P,A)=>A!==L)),h(C=>C.filter((P,A)=>A!==L))};S.useEffect(()=>{const C=[i.cleanliness_rating,i.accuracy_rating,i.communication_rating,i.location_rating,i.check_in_rating,i.value_rating].filter(A=>A>0),P=C.length>0?Math.round(C.reduce((A,Q)=>A+Q,0)/C.length):0;a(A=>({...A,overall_rating:P}))},[i.cleanliness_rating,i.accuracy_rating,i.communication_rating,i.location_rating,i.check_in_rating,i.value_rating]);const g=async L=>URL.createObjectURL(L),M=async(L,C)=>(await q.post("http://localhost:3000/api/review-photos",{review_id:C,photo_url:L,caption:null},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,D=Be({mutationFn:async L=>(await q.post(`http://localhost:3000/api/bookings/${e}/reviews`,L,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,onSuccess:async L=>{if(c.length>0)try{for(const C of c){const P=await g(C);await M(P,L.review_id)}}catch(C){console.error("Error uploading photos:",C)}v(!0),k.invalidateQueries({queryKey:["bookings"]})},onError:L=>{var C,P;y(((P=(C=L.response)==null?void 0:C.data)==null?void 0:P.message)||"Failed to submit review")}}),K=L=>{if(L.preventDefault(),y(null),[i.cleanliness_rating,i.accuracy_rating,i.communication_rating,i.location_rating,i.check_in_rating,i.value_rating].some(A=>A===0)){y("Please provide ratings for all categories");return}if(!p||!n){y("Booking or user information missing");return}const P={booking_id:p.booking_id,property_id:p.property_id,reviewer_id:n.user_id,host_id:p.host_id,cleanliness_rating:i.cleanliness_rating,accuracy_rating:i.accuracy_rating,communication_rating:i.communication_rating,location_rating:i.location_rating,check_in_rating:i.check_in_rating,value_rating:i.value_rating,overall_rating:i.overall_rating,comment:o||null};D.mutate(P)},F=(L,C,P)=>r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:L}),r.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(A=>r.jsx("button",{type:"button",onClick:()=>P(A),className:"text-2xl focus:outline-none","aria-label":`Rate ${A} out of 5 stars`,children:A<=C?r.jsx("span",{className:"text-yellow-400",children:"★"}):r.jsx("span",{className:"text-gray-300",children:"☆"})},A))})]});return m?r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:r.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-8"}),r.jsx("div",{className:"space-y-4",children:[...Array(6)].map((L,C)=>r.jsx("div",{className:"h-16 bg-gray-200 rounded"},C))})]})})})})}):f?r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:r.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Error Loading Booking"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"We couldn't load the booking information. Please try again later."}),r.jsx(U,{to:"/dashboard/bookings",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Bookings"})]})})})})}):b?r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:r.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[r.jsx("div",{className:"text-green-500 mb-4",children:r.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Review Submitted!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for sharing your experience. Your review helps other travelers make informed decisions."}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[r.jsx(U,{to:"/dashboard/bookings",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Bookings"}),r.jsx(U,{to:`/properties/${p==null?void 0:p.property_id}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Property"})]})]})})})}):r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:r.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Leave a Review"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Share your experience to help other travelers"})]}),r.jsxs("div",{className:"p-6",children:[p&&N&&E&&r.jsxs("div",{className:"mb-8 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:N.title}),r.jsxs("p",{className:"text-gray-600",children:[N.neighborhood?`${N.neighborhood}, `:"",N.city]}),r.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[r.jsxs("span",{children:["Stayed from ",new Date(p.check_in).toLocaleDateString()," to ",new Date(p.check_out).toLocaleDateString()]}),r.jsx("span",{className:"mx-2",children:"•"}),r.jsxs("span",{children:["Hosted by ",E.name]})]})]}),r.jsxs("form",{onSubmit:K,children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Your Rating"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[F("Cleanliness",i.cleanliness_rating,L=>a(C=>({...C,cleanliness_rating:L}))),F("Accuracy",i.accuracy_rating,L=>a(C=>({...C,accuracy_rating:L}))),F("Communication",i.communication_rating,L=>a(C=>({...C,communication_rating:L}))),F("Location",i.location_rating,L=>a(C=>({...C,location_rating:L}))),F("Check-in",i.check_in_rating,L=>a(C=>({...C,check_in_rating:L}))),F("Value",i.value_rating,L=>a(C=>({...C,value_rating:L})))]}),r.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-gray-700 mr-2",children:"Overall Rating:"}),r.jsx("div",{className:"flex",children:[1,2,3,4,5].map(L=>r.jsx("span",{className:`text-2xl ${L<=i.overall_rating?"text-yellow-400":"text-gray-300"}`,children:"★"},L))}),r.jsx("span",{className:"ml-2 text-gray-700",children:i.overall_rating>0?`${i.overall_rating}/5`:"Not rated"})]})})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("label",{htmlFor:"review",className:"block text-lg font-medium text-gray-900 mb-2",children:"Your Review"}),r.jsx("textarea",{id:"review",rows:6,value:o,onChange:L=>{l(L.target.value),y(null)},className:"block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-3",placeholder:"Share details about your stay, what you liked, and any suggestions for improvement..."}),r.jsxs("div",{className:"mt-2 flex justify-between text-sm text-gray-500",children:[r.jsx("span",{children:"Helpful reviews include specific details about your stay"}),r.jsxs("span",{children:[o.length,"/1000 characters"]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("label",{className:"block text-lg font-medium text-gray-900 mb-2",children:"Photos (Optional)"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Upload up to 5 photos from your stay"}),r.jsx("div",{className:"mt-2 flex flex-col items-center justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:r.jsxs("div",{className:"space-y-1 text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:r.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),r.jsxs("div",{className:"flex text-sm text-gray-600",children:[r.jsxs("label",{htmlFor:"photo-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[r.jsx("span",{children:"Upload a file"}),r.jsx("input",{id:"photo-upload",name:"photo-upload",type:"file",className:"sr-only",accept:"image/*",multiple:!0,onChange:w,disabled:c.length>=5})]}),r.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]})}),d.length>0&&r.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:d.map((L,C)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:L,alt:`Preview ${C+1}`,className:"h-24 w-full object-cover rounded-md"}),r.jsx("button",{type:"button",onClick:()=>j(C),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove photo",children:r.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},C))})]}),x&&r.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:r.jsx("p",{className:"text-sm",children:x})}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4",children:[r.jsx(U,{to:"/dashboard/bookings",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:D.isPending,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:D.isPending?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit Review"})]})]})]})]})})})})},fj=()=>{const e=G(R=>R.authentication_state.current_user),t=G(R=>R.authentication_state.auth_token),[n,s]=S.useState({total_users:0,total_properties:0,total_bookings:0,total_reviews:0,active_conversations:0,pending_moderation:0}),[i,a]=S.useState({users:!0,listings:!1,bookings:!1,reviews:!1}),[o,l]=S.useState("dashboard"),[c,u]=S.useState({user_query:"",user_role:"",user_verified:!1,property_query:"",property_status:"",booking_status:"",review_query:""});S.useEffect(()=>{e&&e.role!=="admin"&&(window.location.href="/")},[e]);const d=async()=>{try{const R=await q.get("http://localhost:3000/api/users",{headers:{Authorization:`Bearer ${t}`},params:{limit:1}}),le=await q.get("http://localhost:3000/api/properties",{headers:{Authorization:`Bearer ${t}`},params:{limit:1}}),ve=await q.get("http://localhost:3000/api/bookings",{headers:{Authorization:`Bearer ${t}`},params:{limit:1}}),Gn=await q.get("http://localhost:3000/api/reviews",{headers:{Authorization:`Bearer ${t}`},params:{limit:1}});return{total_users:R.data.total_count||0,total_properties:le.data.total_count||0,total_bookings:ve.data.total_count||0,total_reviews:Gn.data.total_count||0,active_conversations:0,pending_moderation:0}}catch(R){throw console.error("Failed to load dashboard metrics:",R),R}},{data:h,isLoading:x,refetch:y}=oe({queryKey:["dashboard-metrics"],queryFn:d,enabled:!!t,staleTime:6e4,retry:1});S.useEffect(()=>{h&&s(h)},[h]);const b=async()=>{try{return(await q.get("http://localhost:3000/api/users",{headers:{Authorization:`Bearer ${t}`},params:{query:c.user_query,role:c.user_role,is_verified:c.user_verified,limit:50,offset:0}})).data}catch(R){throw console.error("Failed to search users:",R),R}},{data:v,isLoading:k,refetch:p}=oe({queryKey:["users",c.user_query,c.user_role,c.user_verified],queryFn:b,enabled:!!t&&o==="users",staleTime:6e4,retry:1}),m=async()=>{try{return(await q.get("http://localhost:3000/api/properties",{headers:{Authorization:`Bearer ${t}`},params:{query:c.property_query,is_active:c.property_status==="active"?!0:c.property_status==="inactive"?!1:void 0,limit:50,offset:0}})).data.properties}catch(R){throw console.error("Failed to search properties:",R),R}},{data:f,isLoading:N,refetch:E}=oe({queryKey:["properties",c.property_query,c.property_status],queryFn:m,enabled:!!t&&o==="listings",staleTime:6e4,retry:1}),w=async()=>{try{return(await q.get("http://localhost:3000/api/bookings",{headers:{Authorization:`Bearer ${t}`},params:{status:c.booking_status||void 0,limit:50,offset:0}})).data.bookings}catch(R){throw console.error("Failed to search bookings:",R),R}},{data:j,isLoading:g,refetch:M}=oe({queryKey:["bookings",c.booking_status],queryFn:w,enabled:!!t&&o==="bookings",staleTime:6e4,retry:1}),D=async()=>{try{return(await q.get("http://localhost:3000/api/reviews",{headers:{Authorization:`Bearer ${t}`},params:{query:c.review_query,limit:50,offset:0}})).data}catch(R){throw console.error("Failed to search reviews:",R),R}},{data:K,isLoading:F,refetch:L}=oe({queryKey:["reviews",c.review_query],queryFn:D,enabled:!!t&&o==="reviews",staleTime:6e4,retry:1}),C=Be({mutationFn:async R=>(await q.patch(`http://localhost:3000/api/users/${R}`,{is_verified:!1},{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{p(),y()}}),P=Be({mutationFn:async R=>(await q.delete(`http://localhost:3000/api/users/${R}`,{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{p(),y()}}),A=Be({mutationFn:async R=>(await q.delete(`http://localhost:3000/api/properties/${R}`,{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{E(),y()}}),Q=Be({mutationFn:async R=>(await q.patch(`http://localhost:3000/api/bookings/${R}`,{status:"refunded"},{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{M(),y()}}),I=Be({mutationFn:async R=>(await q.delete(`http://localhost:3000/api/reviews/${R}`,{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{L(),y()}}),T=R=>{a({users:R==="users",listings:R==="listings",bookings:R==="bookings",reviews:R==="reviews"}),R==="users"&&l("users"),R==="listings"&&l("listings"),R==="bookings"&&l("bookings"),R==="reviews"&&l("reviews")},z=(R,le)=>{u(ve=>({...ve,[R]:le}))},H=()=>{y(),o==="users"&&p(),o==="listings"&&E(),o==="bookings"&&M(),o==="reviews"&&L()};return!e||e.role!=="admin"?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),r.jsx("p",{className:"text-gray-600",children:"You must be an administrator to access this panel."}),r.jsx(U,{to:"/",className:"mt-4 inline-block text-blue-600 hover:text-blue-800",children:"Return to Home"})]})}):r.jsx(r.Fragment,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8 flex justify-between items-center",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Panel"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{className:"text-gray-600",children:["Welcome, ",e.name]}),r.jsx("button",{onClick:H,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Refresh"})]})]})}),r.jsxs("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[o==="dashboard"&&r.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:[r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:r.jsx("div",{className:"px-4 py-5 sm:p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:r.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:r.jsxs("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),r.jsx("dd",{className:"flex items-baseline",children:r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:x?r.jsx("div",{className:"animate-pulse h-6 bg-gray-200 rounded w-1/2"}):n.total_users})})]})})]})})}),r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:r.jsx("div",{className:"px-4 py-5 sm:p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:r.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:r.jsxs("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Listings"}),r.jsx("dd",{className:"flex items-baseline",children:r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:x?r.jsx("div",{className:"animate-pulse h-6 bg-gray-200 rounded w-1/2"}):n.total_properties})})]})})]})})}),r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:r.jsx("div",{className:"px-4 py-5 sm:p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 bg-yellow-500 rounded-md p-3",children:r.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:r.jsxs("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Bookings"}),r.jsx("dd",{className:"flex items-baseline",children:r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:x?r.jsx("div",{className:"animate-pulse h-6 bg-gray-200 rounded w-1/2"}):n.total_bookings})})]})})]})})})]}),r.jsxs("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Activity"}),r.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:r.jsxs("ul",{className:"divide-y divide-gray-200",children:[r.jsx("li",{children:r.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:"New user registered"}),r.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:r.jsx("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Completed"})})]}),r.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[r.jsx("div",{className:"sm:flex",children:r.jsx("p",{className:"flex items-center text-sm text-gray-500",children:"Ahmed Ali registered as a host"})}),r.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[r.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),r.jsx("span",{children:"Just now"})]})]})]})}),r.jsx("li",{children:r.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:"New property listed"}),r.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:r.jsx("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Completed"})})]}),r.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[r.jsx("div",{className:"sm:flex",children:r.jsx("p",{className:"flex items-center text-sm text-gray-500",children:"Luxury apartment in Tripoli was listed"})}),r.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[r.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),r.jsx("span",{children:"2 hours ago"})]})]})]})})]})})]}),r.jsx("div",{className:"mt-8 flex justify-center",children:r.jsx("button",{onClick:()=>l("users"),className:"bg-white border border-gray-300 rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Manage Platform"})})]}),(o==="users"||o==="listings"||o==="bookings"||o==="reviews")&&r.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"-mb-px flex space-x-8",children:[r.jsx("button",{onClick:()=>T("users"),className:`${i.users?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Users"}),r.jsx("button",{onClick:()=>T("listings"),className:`${i.listings?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Listings"}),r.jsx("button",{onClick:()=>T("bookings"),className:`${i.bookings?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Bookings"}),r.jsx("button",{onClick:()=>T("reviews"),className:`${i.reviews?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Reviews"})]})}),r.jsx("div",{className:"mt-6 bg-white shadow rounded-lg p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o==="users"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"user_query",className:"block text-sm font-medium text-gray-700",children:"Search Users"}),r.jsx("input",{type:"text",name:"user_query",id:"user_query",value:c.user_query,onChange:R=>z("user_query",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Name, email..."})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"user_role",className:"block text-sm font-medium text-gray-700",children:"Role"}),r.jsxs("select",{id:"user_role",name:"user_role",value:c.user_role,onChange:R=>z("user_role",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[r.jsx("option",{value:"",children:"All Roles"}),r.jsx("option",{value:"guest",children:"Guest"}),r.jsx("option",{value:"host",children:"Host"}),r.jsx("option",{value:"admin",children:"Admin"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"user_verified",className:"block text-sm font-medium text-gray-700",children:"Verified Status"}),r.jsxs("select",{id:"user_verified",name:"user_verified",value:c.user_verified.toString(),onChange:R=>z("user_verified",R.target.value==="true"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[r.jsx("option",{value:"false",children:"All"}),r.jsx("option",{value:"true",children:"Verified"}),r.jsx("option",{value:"false",children:"Unverified"})]})]})]}),o==="listings"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"property_query",className:"block text-sm font-medium text-gray-700",children:"Search Listings"}),r.jsx("input",{type:"text",name:"property_query",id:"property_query",value:c.property_query,onChange:R=>z("property_query",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Title, city..."})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"property_status",className:"block text-sm font-medium text-gray-700",children:"Status"}),r.jsxs("select",{id:"property_status",name:"property_status",value:c.property_status,onChange:R=>z("property_status",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[r.jsx("option",{value:"",children:"All"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),o==="bookings"&&r.jsxs("div",{children:[r.jsx("label",{htmlFor:"booking_status",className:"block text-sm font-medium text-gray-700",children:"Booking Status"}),r.jsxs("select",{id:"booking_status",name:"booking_status",value:c.booking_status,onChange:R=>z("booking_status",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"confirmed",children:"Confirmed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"refunded",children:"Refunded"})]})]}),o==="reviews"&&r.jsxs("div",{children:[r.jsx("label",{htmlFor:"review_query",className:"block text-sm font-medium text-gray-700",children:"Search Reviews"}),r.jsx("input",{type:"text",name:"review_query",id:"review_query",value:c.review_query,onChange:R=>z("review_query",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Comment, property..."})]})]})}),o==="users"&&r.jsx("div",{className:"mt-6 bg-white shadow rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-4 text-center",children:r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})})})}):v&&v.length>0?v.map(R=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:R.profile_picture_url?r.jsx("img",{className:"h-10 w-10 rounded-full",src:R.profile_picture_url,alt:""}):r.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-10 h-10"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name}),r.jsx("div",{className:"text-sm text-gray-500",children:R.email})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900 capitalize",children:R.role})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R.is_verified?r.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Verified"}):r.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(R.created_at).toLocaleDateString()}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[r.jsx("button",{onClick:()=>C.mutate(R.user_id),disabled:C.isPending,className:"text-indigo-600 hover:text-indigo-900 mr-3",children:C.isPending?"Suspending...":"Suspend"}),r.jsx("button",{onClick:()=>P.mutate(R.user_id),disabled:P.isPending,className:"text-red-600 hover:text-red-900",children:P.isPending?"Deleting...":"Delete"})]})]},R.user_id)):r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No users found"})})})]})})}),o==="listings"&&r.jsx("div",{className:"mt-6 bg-white shadow rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Listing"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Host"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-4 text-center",children:r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})})})}):f&&f.length>0?f.map(R=>r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.title}),r.jsx("div",{className:"text-sm text-gray-500",children:R.property_type})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm text-gray-900",children:["Host #",R.host_id.substring(0,8)]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[R.city,R.neighborhood?`, ${R.neighborhood}`:""]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[R.base_price_per_night," LYD"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R.is_active?r.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Active"}):r.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Inactive"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsx("button",{onClick:()=>A.mutate(R.property_id),disabled:A.isPending,className:"text-red-600 hover:text-red-900",children:A.isPending?"Deleting...":"Delete"})})]},R.property_id)):r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No listings found"})})})]})})}),o==="bookings"&&r.jsx("div",{className:"mt-6 bg-white shadow rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guest"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-4 text-center",children:r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})})})}):j&&j.length>0?j.map(R=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",R.booking_id.substring(0,8)]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm text-gray-900",children:["Property #",R.property_id.substring(0,8)]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm text-gray-900",children:["Guest #",R.guest_id.substring(0,8)]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(R.check_in).toLocaleDateString()," - ",new Date(R.check_out).toLocaleDateString()]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[R.total_price," LYD"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${R.status==="confirmed"?"bg-green-100 text-green-800":R.status==="pending"?"bg-yellow-100 text-yellow-800":R.status==="cancelled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:R.status.charAt(0).toUpperCase()+R.status.slice(1)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:R.status!=="refunded"&&r.jsx("button",{onClick:()=>Q.mutate(R.booking_id),disabled:Q.isPending,className:"text-indigo-600 hover:text-indigo-900",children:Q.isPending?"Processing...":"Refund"})})]},R.booking_id)):r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No bookings found"})})})]})})}),o==="reviews"&&r.jsx("div",{className:"mt-6 bg-white shadow rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Review"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guest"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-4 text-center",children:r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})})})}):K&&K.length>0?K.map(R=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900 line-clamp-2",children:R.comment||"No comment"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm text-gray-900",children:["Property #",R.property_id.substring(0,8)]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm text-gray-900",children:["Guest #",R.reviewer_id.substring(0,8)]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((le,ve)=>r.jsx("svg",{className:`h-5 w-5 ${ve<R.overall_rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},ve)),r.jsxs("span",{className:"ml-1 text-sm text-gray-500",children:["(",R.overall_rating,")"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(R.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsx("button",{onClick:()=>I.mutate(R.review_id),disabled:I.isPending,className:"text-red-600 hover:text-red-900",children:I.isPending?"Removing...":"Remove"})})]},R.review_id)):r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No reviews found"})})})]})})})]})]})]})})},pj=()=>{const e=G(L=>L.authentication_state.current_user),t=G(L=>L.authentication_state.auth_token),[n,s]=S.useState("personal"),[i,a]=S.useState({name:"",email:"",phone_number:"",bio:"",profile_picture_url:"",emergency_contact_name:"",emergency_contact_phone:""}),[o,l]=S.useState({current_password:"",new_password:"",confirm_password:""}),[c,u]=S.useState({email_notifications:!0,sms_notifications:!0,push_notifications:!0}),[d,h]=S.useState(null),[x,y]=S.useState(null),[b,v]=S.useState(null),k=S.useRef(null),p=Kn(),{data:m,isLoading:f,isError:N}=oe({queryKey:["user",e==null?void 0:e.user_id],queryFn:async()=>(await q.get(`http://localhost:3000/api/users/${e==null?void 0:e.user_id}`,{headers:{Authorization:`Bearer ${t}`}})).data,enabled:!!(e!=null&&e.user_id)&&!!t});S.useEffect(()=>{m&&a({name:m.name||"",email:m.email||"",phone_number:m.phone_number||"",bio:m.bio||"",profile_picture_url:m.profile_picture_url||"",emergency_contact_name:m.emergency_contact_name||"",emergency_contact_phone:m.emergency_contact_phone||""})},[m]),S.useEffect(()=>()=>{k.current&&clearTimeout(k.current)},[]);const E=Be({mutationFn:async L=>(await q.patch(`http://localhost:3000/api/users/${e==null?void 0:e.user_id}`,L,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data,onSuccess:L=>{p.setQueryData(["user",e==null?void 0:e.user_id],L),v("Profile updated successfully"),y(null),k.current&&clearTimeout(k.current),k.current=setTimeout(()=>v(null),3e3)},onError:L=>{var C,P;y(((P=(C=L.response)==null?void 0:C.data)==null?void 0:P.message)||"Failed to update profile"),v(null)}}),w=L=>{const{name:C,value:P}=L.target;a(A=>({...A,[C]:P})),y(null)},j=L=>{const{name:C,checked:P}=L.target;u(A=>({...A,[C]:P}))},g=L=>{const{name:C,value:P}=L.target;l(A=>({...A,[C]:P})),y(null)},M=L=>{L.preventDefault(),E.mutate(i)},D=L=>{if(L.preventDefault(),o.new_password!==o.confirm_password){y("New passwords do not match");return}y("Password change functionality not implemented yet")},K=L=>{L.target.files&&L.target.files[0]&&(h(L.target.files[0]),v("Document selected for upload"),k.current&&clearTimeout(k.current),k.current=setTimeout(()=>v(null),3e3))},F=()=>{switch(n){case"personal":return r.jsxs("form",{onSubmit:M,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),r.jsx("input",{type:"text",id:"name",name:"name",value:i.name,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),r.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),r.jsx("input",{type:"tel",id:"phone_number",name:"phone_number",value:i.phone_number,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"profile_picture_url",className:"block text-sm font-medium text-gray-700",children:"Profile Picture URL"}),r.jsx("input",{type:"text",id:"profile_picture_url",name:"profile_picture_url",value:i.profile_picture_url,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),r.jsx("textarea",{id:"bio",name:"bio",rows:3,value:i.bio,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"emergency_contact_name",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Name"}),r.jsx("input",{type:"text",id:"emergency_contact_name",name:"emergency_contact_name",value:i.emergency_contact_name,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"emergency_contact_phone",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Phone"}),r.jsx("input",{type:"tel",id:"emergency_contact_phone",name:"emergency_contact_phone",value:i.emergency_contact_phone,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",disabled:E.isPending,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:E.isPending?"Saving...":"Save Changes"})})]});case"verification":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Identity Verification"}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex-shrink-0 h-6 w-6 rounded-full flex items-center justify-center ${e!=null&&e.is_verified?"bg-green-100":"bg-gray-100"}`,children:e!=null&&e.is_verified?r.jsx("svg",{className:"h-4 w-4 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):r.jsx("svg",{className:"h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),r.jsx("p",{className:"ml-3 text-sm font-medium text-gray-900",children:e!=null&&e.is_verified?"Verified":"Not verified"})]}),!(e!=null&&e.is_verified)&&r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Upload a government-issued ID to verify your identity"})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Upload Verification Document"}),r.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:r.jsxs("div",{className:"space-y-1 text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:r.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),r.jsxs("div",{className:"flex text-sm text-gray-600",children:[r.jsxs("label",{htmlFor:"document-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[r.jsx("span",{children:"Upload a file"}),r.jsx("input",{id:"document-upload",name:"document-upload",type:"file",className:"sr-only",onChange:K})]}),r.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF up to 5MB"})]})})]}),d&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Selected file: ",d.name]}),r.jsx("button",{type:"button",className:"mt-2 inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Upload Document"})]})]}),r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Phone Verification"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",i.phone_number||"Not provided"]}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Status: ",m!=null&&m.phone_number?"Verified":"Not verified"]})]}),r.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Verify Phone"})]})]}),r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Email Verification"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",i.email]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Status: Verified"})]}),r.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Resend Verification"})]})]})]});case"notifications":return r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Preferences"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email Notifications"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Receive updates via email"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",name:"email_notifications",checked:c.email_notifications,onChange:j,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"SMS Notifications"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Receive text messages for important updates"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",name:"sms_notifications",checked:c.sms_notifications,onChange:j,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Push Notifications"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Receive mobile notifications when app is open"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",name:"push_notifications",checked:c.push_notifications,onChange:j,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Communication Frequency"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Daily Digest"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Summary of activity once per day"}),r.jsx("button",{className:"mt-3 w-full py-1 px-3 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Select"})]}),r.jsxs("div",{className:"border border-blue-500 rounded-lg p-4 bg-blue-50",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Real-time"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Immediate notifications for all events"}),r.jsx("button",{className:"mt-3 w-full py-1 px-3 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Selected"})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Weekly Summary"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Summary of activity once per week"}),r.jsx("button",{className:"mt-3 w-full py-1 px-3 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Select"})]})]})]})]});case"security":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Change Password"}),r.jsxs("form",{onSubmit:D,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"current_password",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),r.jsx("input",{type:"password",id:"current_password",name:"current_password",value:o.current_password,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),r.jsx("input",{type:"password",id:"new_password",name:"new_password",value:o.new_password,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),r.jsx("input",{type:"password",id:"confirm_password",name:"confirm_password",value:o.confirm_password,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Update Password"})})]})]}),r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Two-Factor Authentication"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Two-Factor Authentication"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),r.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Enable"})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Preferred 2FA Method"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"sms-auth",name:"2fa-method",type:"radio",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),r.jsx("label",{htmlFor:"sms-auth",className:"ml-3 block text-sm font-medium text-gray-700",children:"SMS Authentication"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"app-auth",name:"2fa-method",type:"radio",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),r.jsx("label",{htmlFor:"app-auth",className:"ml-3 block text-sm font-medium text-gray-700",children:"Authenticator App"})]})]})]})]}),r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Login Activity"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Current Session"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Libya (current)"})]}),r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Chrome on Windows"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Tripoli, Libya · 2 days ago"})]}),r.jsx("button",{className:"text-sm text-red-600 hover:text-red-900",children:"Logout"})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Safari on iPhone"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Benghazi, Libya · 1 week ago"})]}),r.jsx("button",{className:"text-sm text-red-600 hover:text-red-900",children:"Logout"})]})]})]})]});case"billing":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Payment Methods"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No payment methods"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a payment method."}),r.jsx("div",{className:"mt-6",children:r.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[r.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Payment Method"]})})]})]}),r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Transaction History"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No transactions"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You have no transaction history yet."})]})]}),r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tax Information"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No tax information"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add tax information for your earnings."}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add Tax Information"})})]})]})]});default:return null}};return f?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):N?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),r.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Error loading profile"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"There was an issue loading your profile information."}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Retry"})})]})}):r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"lg:flex lg:items-center lg:justify-between",children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Account Settings"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account information and preferences"})]})}),r.jsxs("div",{className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[r.jsx("button",{onClick:()=>s("personal"),className:`${n==="personal"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Personal Information"}),r.jsx("button",{onClick:()=>s("verification"),className:`${n==="verification"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Verification"}),r.jsx("button",{onClick:()=>s("notifications"),className:`${n==="notifications"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Notifications"}),r.jsx("button",{onClick:()=>s("security"),className:`${n==="security"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Security"}),(e==null?void 0:e.role)==="host"&&r.jsx("button",{onClick:()=>s("billing"),className:`${n==="billing"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Billing"})]})}),r.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[x&&r.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:r.jsx("p",{className:"text-sm",children:x})}),b&&r.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md",children:r.jsx("p",{className:"text-sm",children:b})}),F()]})]})]})})})},xj=()=>{const[e,t]=S.useState(!1),[n,s]=S.useState(!1),[i,a]=S.useState({password_hash:"",confirm_password:""}),[o,l]=S.useState({}),[c,u]=S.useState(!1),[d,h]=S.useState(""),[x,y]=S.useState(!1),[b]=bs(),v=b.get("token");S.useEffect(()=>{(async()=>{var j,g;if(v){u(!0);try{await q.get("http://localhost:3000/api/auth/validate-reset-token",{params:{token:v}}),s(!0)}catch(M){l({general:((g=(j=M.response)==null?void 0:j.data)==null?void 0:g.message)||"Invalid or expired reset link"}),s(!1)}finally{u(!1)}}})()},[v]);const k=async w=>{var j,g;w.preventDefault(),u(!0),l({});try{await q.post("http://localhost:3000/api/auth/request-password-reset",{email:d}),t(!0)}catch(M){l({email:((g=(j=M.response)==null?void 0:j.data)==null?void 0:g.message)||"Failed to send reset email"})}finally{u(!1)}},p=async w=>{var g,M;w.preventDefault();const j={};if(i.password_hash?i.password_hash.length<8&&(j.password_hash="Password must be at least 8 characters"):j.password_hash="Password is required",i.password_hash!==i.confirm_password&&(j.confirm_password="Passwords do not match"),Object.keys(j).length>0){l(j);return}u(!0),l({});try{await q.post("http://localhost:3000/api/auth/reset-password",{token:v,password_hash:i.password_hash}),y(!0),a({password_hash:"",confirm_password:""})}catch(D){l({general:((M=(g=D.response)==null?void 0:g.data)==null?void 0:M.message)||"Failed to reset password"})}finally{u(!1)}},f=(w=>{if(!w)return 0;let j=0;return w.length>=8&&(j+=1),/[A-Z]/.test(w)&&(j+=1),/[0-9]/.test(w)&&(j+=1),/[^A-Za-z0-9]/.test(w)&&(j+=1),j})(i.password_hash),N=["Very Weak","Weak","Fair","Good","Strong"],E=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"];return r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:x?"Password Reset Successful":n?"Set New Password":e?"Check Your Email":"Reset Your Password"}),r.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:x?"Your password has been successfully reset. You can now sign in with your new password.":n?"Please enter your new password below":e?"We have sent a password reset link to your email address if it exists in our system":"Enter your email address and we will send you a link to reset your password"})]}),x?r.jsx("div",{className:"mt-8 bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:r.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("div",{className:"mt-4",children:r.jsx(U,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Return to login page"})})]})}):n?r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[o.general&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:o.general}),r.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),r.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:i.password_hash,onChange:w=>{a({...i,password_hash:w.target.value}),o.password_hash&&l({...o,password_hash:void 0})},className:`appearance-none relative block w-full px-3 py-2 border ${o.password_hash?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),o.password_hash&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password_hash}),r.jsxs("div",{className:"mt-2",children:[r.jsxs("div",{className:"flex justify-between mb-1",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Password Strength"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:N[f]||"Very Weak"})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${E[f]||"bg-red-500"}`,style:{width:`${f/4*100}%`}})})]}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Password must be at least 8 characters and include a mix of letters, numbers, and symbols."})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),r.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,value:i.confirm_password,onChange:w=>{a({...i,confirm_password:w.target.value}),o.confirm_password&&l({...o,confirm_password:void 0})},className:`appearance-none relative block w-full px-3 py-2 border ${o.confirm_password?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),o.confirm_password&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.confirm_password})]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:c?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting Password..."]}):"Reset Password"})})]}):e?r.jsx("div",{className:"mt-8 bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:r.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),r.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"If an account exists with the email address you provided, you will receive a password reset link shortly."}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{onClick:()=>t(!1),className:"font-medium text-blue-600 hover:text-blue-500",children:"Resend email"})})]})}):r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:k,children:[o.general&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:o.general}),r.jsx("div",{className:"rounded-md shadow-sm",children:r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),r.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:d,onChange:w=>{h(w.target.value),o.email&&l({...o,email:void 0})},className:`appearance-none relative block w-full px-3 py-2 border ${o.email?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`,placeholder:"Email address"}),o.email&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email})]})}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:c?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Reset Link..."]}):"Send Reset Link"})}),r.jsx("div",{className:"text-center",children:r.jsx(U,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Return to login"})})]})]})})})},gj=new Tv({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),Mp=()=>r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),Mt=({children:e})=>{const t=G(s=>s.authentication_state.authentication_status.is_authenticated);return G(s=>s.authentication_state.authentication_status.is_loading)?r.jsx(Mp,{}):t?r.jsx(r.Fragment,{children:e}):r.jsx(P0,{to:"/login",replace:!0})},yj=()=>{const e=G(n=>n.authentication_state.authentication_status.is_loading),t=G(n=>n.initialize_auth);return S.useEffect(()=>{t()},[t]),e?r.jsx(Mp,{}):r.jsx(hv,{children:r.jsx(Dv,{client:gj,children:r.jsxs("div",{className:"App min-h-screen flex flex-col",children:[r.jsx(kw,{}),r.jsx("main",{className:"flex-1",children:r.jsxs(sv,{children:[r.jsx(Ee,{path:"/",element:r.jsx(Cw,{})}),r.jsx(Ee,{path:"/search",element:r.jsx(Ew,{})}),r.jsx(Ee,{path:"/properties/:property_id",element:r.jsx(tj,{})}),r.jsx(Ee,{path:"/register",element:r.jsx(nj,{})}),r.jsx(Ee,{path:"/login",element:r.jsx(rj,{})}),r.jsx(Ee,{path:"/reset-password",element:r.jsx(xj,{})}),r.jsx(Ee,{path:"/dashboard",element:r.jsx(Mt,{children:r.jsx(sj,{})})}),r.jsx(Ee,{path:"/dashboard/bookings",element:r.jsx(Mt,{children:r.jsx(ij,{})})}),r.jsx(Ee,{path:"/dashboard/listings",element:r.jsx(Mt,{children:r.jsx(aj,{})})}),r.jsx(Ee,{path:"/listings/create",element:r.jsx(Mt,{children:r.jsx(cj,{})})}),r.jsx(Ee,{path:"/listings/:listing_id/edit",element:r.jsx(Mt,{children:r.jsx(uj,{})})}),r.jsx(Ee,{path:"/dashboard/host-bookings",element:r.jsx(Mt,{children:r.jsx(dj,{})})}),r.jsx(Ee,{path:"/messages",element:r.jsx(Mt,{children:r.jsx(hj,{})})}),r.jsx(Ee,{path:"/reviews/create/:booking_id",element:r.jsx(Mt,{children:r.jsx(mj,{})})}),r.jsx(Ee,{path:"/settings",element:r.jsx(Mt,{children:r.jsx(pj,{})})}),r.jsx(Ee,{path:"/admin",element:r.jsx(Mt,{children:r.jsx(fj,{})})}),r.jsx(Ee,{path:"*",element:r.jsx(P0,{to:"/",replace:!0})})]})}),r.jsx(Sw,{})]})})})},vj=()=>r.jsx(r.Fragment,{children:r.jsx(yj,{})});y0(document.getElementById("root")).render(r.jsx(vj,{}));

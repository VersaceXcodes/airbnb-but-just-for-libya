var Up=Object.defineProperty;var Xu=e=>{throw TypeError(e)};var Vp=(e,t,r)=>t in e?Up(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Zu=(e,t,r)=>Vp(e,typeof t!="symbol"?t+"":t,r),Oo=(e,t,r)=>t.has(e)||Xu("Cannot "+r);var k=(e,t,r)=>(Oo(e,t,"read from private field"),r?r.call(e):t.get(e)),Q=(e,t,r)=>t.has(e)?Xu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),W=(e,t,r,n)=>(Oo(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),X=(e,t,r)=>(Oo(e,t,"access private method"),r);var $i=(e,t,r,n)=>({set _(i){W(e,t,i,r)},get _(){return k(e,t,n)}});function Hp(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Qp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hm={exports:{}},io={},mm={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Li=Symbol.for("react.element"),Yp=Symbol.for("react.portal"),Kp=Symbol.for("react.fragment"),Gp=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),Xp=Symbol.for("react.provider"),Zp=Symbol.for("react.context"),ex=Symbol.for("react.forward_ref"),tx=Symbol.for("react.suspense"),rx=Symbol.for("react.memo"),sx=Symbol.for("react.lazy"),ed=Symbol.iterator;function nx(e){return e===null||typeof e!="object"?null:(e=ed&&e[ed]||e["@@iterator"],typeof e=="function"?e:null)}var fm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pm=Object.assign,xm={};function yn(e,t,r){this.props=e,this.context=t,this.refs=xm,this.updater=r||fm}yn.prototype.isReactComponent={};yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gm(){}gm.prototype=yn.prototype;function $c(e,t,r){this.props=e,this.context=t,this.refs=xm,this.updater=r||fm}var Ic=$c.prototype=new gm;Ic.constructor=$c;pm(Ic,yn.prototype);Ic.isPureReactComponent=!0;var td=Array.isArray,ym=Object.prototype.hasOwnProperty,zc={current:null},vm={key:!0,ref:!0,__self:!0,__source:!0};function bm(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)ym.call(t,n)&&!vm.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Li,type:e,key:a,ref:o,props:i,_owner:zc.current}}function ix(e,t){return{$$typeof:Li,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Li}function ax(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var rd=/\/+/g;function Fo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ax(""+e.key):t.toString(36)}function la(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Li:case Yp:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Fo(o,0):n,td(i)?(r="",e!=null&&(r=e.replace(rd,"$&/")+"/"),la(i,t,r,"",function(u){return u})):i!=null&&(qc(i)&&(i=ix(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rd,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",td(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Fo(a,l);o+=la(a,t,r,c,i)}else if(c=nx(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Fo(a,l++),o+=la(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ii(e,t,r){if(e==null)return e;var n=[],i=0;return la(e,n,"","",function(a){return t.call(r,a,i++)}),n}function ox(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},ca={transition:null},lx={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:ca,ReactCurrentOwner:zc};function wm(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Ii,forEach:function(e,t,r){Ii(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ii(e,function(){t++}),t},toArray:function(e){return Ii(e,function(t){return t})||[]},only:function(e){if(!qc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=yn;Z.Fragment=Kp;Z.Profiler=Jp;Z.PureComponent=$c;Z.StrictMode=Gp;Z.Suspense=tx;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lx;Z.act=wm;Z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=pm({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=zc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ym.call(t,c)&&!vm.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Li,type:e.type,key:i,ref:a,props:n,_owner:o}};Z.createContext=function(e){return e={$$typeof:Zp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xp,_context:e},e.Consumer=e};Z.createElement=bm;Z.createFactory=function(e){var t=bm.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:ex,render:e}};Z.isValidElement=qc;Z.lazy=function(e){return{$$typeof:sx,_payload:{_status:-1,_result:e},_init:ox}};Z.memo=function(e,t){return{$$typeof:rx,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=ca.transition;ca.transition={};try{e()}finally{ca.transition=t}};Z.unstable_act=wm;Z.useCallback=function(e,t){return He.current.useCallback(e,t)};Z.useContext=function(e){return He.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return He.current.useDeferredValue(e)};Z.useEffect=function(e,t){return He.current.useEffect(e,t)};Z.useId=function(){return He.current.useId()};Z.useImperativeHandle=function(e,t,r){return He.current.useImperativeHandle(e,t,r)};Z.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return He.current.useMemo(e,t)};Z.useReducer=function(e,t,r){return He.current.useReducer(e,t,r)};Z.useRef=function(e){return He.current.useRef(e)};Z.useState=function(e){return He.current.useState(e)};Z.useSyncExternalStore=function(e,t,r){return He.current.useSyncExternalStore(e,t,r)};Z.useTransition=function(){return He.current.useTransition()};Z.version="18.3.1";mm.exports=Z;var C=mm.exports;const ts=Qp(C),cx=Hp({__proto__:null,default:ts},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux=C,dx=Symbol.for("react.element"),hx=Symbol.for("react.fragment"),mx=Object.prototype.hasOwnProperty,fx=ux.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,px={key:!0,ref:!0,__self:!0,__source:!0};function jm(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)mx.call(t,n)&&!px.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:dx,type:e,key:a,ref:o,props:i,_owner:fx.current}}io.Fragment=hx;io.jsx=jm;io.jsxs=jm;hm.exports=io;var s=hm.exports,Nm={exports:{}},ut={},_m={exports:{}},km={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,T){var I=z.length;z.push(T);e:for(;0<I;){var U=I-1>>>1,L=z[U];if(0<i(L,T))z[U]=T,z[I]=L,I=U;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var T=z[0],I=z.pop();if(I!==T){z[0]=I;e:for(var U=0,L=z.length,ne=L>>>1;U<ne;){var ce=2*(U+1)-1,Mt=z[ce],hr=ce+1,me=z[hr];if(0>i(Mt,I))hr<L&&0>i(me,Mt)?(z[U]=me,z[hr]=I,U=hr):(z[U]=Mt,z[ce]=I,U=ce);else if(hr<L&&0>i(me,I))z[U]=me,z[hr]=I,U=hr;else break e}}return T}function i(z,T){var I=z.sortIndex-T.sortIndex;return I!==0?I:z.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,y=3,p=!1,g=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(z){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=z)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function _(z){if(v=!1,m(z),!g)if(r(c)!==null)g=!0,A(E);else{var T=r(u);T!==null&&K(_,T.startTime-z)}}function E(z,T){g=!1,v&&(v=!1,x(b),b=-1),p=!0;var I=y;try{for(m(T),h=r(c);h!==null&&(!(h.expirationTime>T)||z&&!Y());){var U=h.callback;if(typeof U=="function"){h.callback=null,y=h.priorityLevel;var L=U(h.expirationTime<=T);T=e.unstable_now(),typeof L=="function"?h.callback=L:h===r(c)&&n(c),m(T)}else n(c);h=r(c)}if(h!==null)var ne=!0;else{var ce=r(u);ce!==null&&K(_,ce.startTime-T),ne=!1}return ne}finally{h=null,y=I,p=!1}}var w=!1,j=null,b=-1,$=5,F=-1;function Y(){return!(e.unstable_now()-F<$)}function O(){if(j!==null){var z=e.unstable_now();F=z;var T=!0;try{T=j(!0,z)}finally{T?P():(w=!1,j=null)}}else w=!1}var P;if(typeof f=="function")P=function(){f(O)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,M=S.port2;S.port1.onmessage=O,P=function(){M.postMessage(null)}}else P=function(){N(O,0)};function A(z){j=z,w||(w=!0,P())}function K(z,T){b=N(function(){z(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,A(E))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(z){switch(y){case 1:case 2:case 3:var T=3;break;default:T=y}var I=y;y=T;try{return z()}finally{y=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,T){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var I=y;y=z;try{return T()}finally{y=I}},e.unstable_scheduleCallback=function(z,T,I){var U=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?U+I:U):I=U,z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=I+L,z={id:d++,callback:T,priorityLevel:z,startTime:I,expirationTime:L,sortIndex:-1},I>U?(z.sortIndex=I,t(u,z),r(c)===null&&z===r(u)&&(v?(x(b),b=-1):v=!0,K(_,I-U))):(z.sortIndex=L,t(c,z),g||p||(g=!0,A(E))),z},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(z){var T=y;return function(){var I=y;y=T;try{return z.apply(this,arguments)}finally{y=I}}}})(km);_m.exports=km;var xx=_m.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx=C,ct=xx;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sm=new Set,ni={};function Cs(e,t){un(e,t),un(e+"Capture",t)}function un(e,t){for(ni[e]=t,e=0;e<t.length;e++)Sm.add(t[e])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xl=Object.prototype.hasOwnProperty,yx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sd={},nd={};function vx(e){return xl.call(nd,e)?!0:xl.call(sd,e)?!1:yx.test(e)?nd[e]=!0:(sd[e]=!0,!1)}function bx(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wx(e,t,r,n){if(t===null||typeof t>"u"||bx(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wc=/[\-:]([a-z])/g;function Uc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wc,Uc);Oe[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wc,Uc);Oe[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wc,Uc);Oe[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vc(e,t,r,n){var i=Oe.hasOwnProperty(t)?Oe[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wx(t,r,i,n)&&(r=null),n||i===null?vx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var cr=gx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zi=Symbol.for("react.element"),Ms=Symbol.for("react.portal"),Os=Symbol.for("react.fragment"),Hc=Symbol.for("react.strict_mode"),gl=Symbol.for("react.profiler"),Cm=Symbol.for("react.provider"),Em=Symbol.for("react.context"),Qc=Symbol.for("react.forward_ref"),yl=Symbol.for("react.suspense"),vl=Symbol.for("react.suspense_list"),Yc=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),Pm=Symbol.for("react.offscreen"),id=Symbol.iterator;function Ln(e){return e===null||typeof e!="object"?null:(e=id&&e[id]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,Ao;function Wn(e){if(Ao===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ao=t&&t[1]||""}return`
`+Ao+e}var Do=!1;function Bo(e,t){if(!e||Do)return"";Do=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Do=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Wn(e):""}function jx(e){switch(e.tag){case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 2:case 15:return e=Bo(e.type,!1),e;case 11:return e=Bo(e.type.render,!1),e;case 1:return e=Bo(e.type,!0),e;default:return""}}function bl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Os:return"Fragment";case Ms:return"Portal";case gl:return"Profiler";case Hc:return"StrictMode";case yl:return"Suspense";case vl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Em:return(e.displayName||"Context")+".Consumer";case Cm:return(e._context.displayName||"Context")+".Provider";case Qc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yc:return t=e.displayName||null,t!==null?t:bl(e.type)||"Memo";case gr:t=e._payload,e=e._init;try{return bl(e(t))}catch{}}return null}function Nx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bl(t);case 8:return t===Hc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _x(e){var t=Lm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qi(e){e._valueTracker||(e._valueTracker=_x(e))}function Rm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Lm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ea(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wl(e,t){var r=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ad(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Vr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tm(e,t){t=t.checked,t!=null&&Vc(e,"checked",t,!1)}function jl(e,t){Tm(e,t);var r=Vr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nl(e,t.type,r):t.hasOwnProperty("defaultValue")&&Nl(e,t.type,Vr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function od(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Nl(e,t,r){(t!=="number"||Ea(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Un=Array.isArray;function Vs(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Vr(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function _l(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ld(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(B(92));if(Un(r)){if(1<r.length)throw Error(B(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Vr(r)}}function Mm(e,t){var r=Vr(t.value),n=Vr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function cd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Om(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Om(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wi,Fm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wi=Wi||document.createElement("div"),Wi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ii(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kx=["Webkit","ms","Moz","O"];Object.keys(Kn).forEach(function(e){kx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kn[t]=Kn[e]})});function Am(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Kn.hasOwnProperty(e)&&Kn[e]?(""+t).trim():t+"px"}function Dm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Am(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Sx=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sl(e,t){if(t){if(Sx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Cl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var El=null;function Kc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pl=null,Hs=null,Qs=null;function ud(e){if(e=Mi(e)){if(typeof Pl!="function")throw Error(B(280));var t=e.stateNode;t&&(t=uo(t),Pl(e.stateNode,e.type,t))}}function Bm(e){Hs?Qs?Qs.push(e):Qs=[e]:Hs=e}function $m(){if(Hs){var e=Hs,t=Qs;if(Qs=Hs=null,ud(e),t)for(e=0;e<t.length;e++)ud(t[e])}}function Im(e,t){return e(t)}function zm(){}var $o=!1;function qm(e,t,r){if($o)return e(t,r);$o=!0;try{return Im(e,t,r)}finally{$o=!1,(Hs!==null||Qs!==null)&&(zm(),$m())}}function ai(e,t){var r=e.stateNode;if(r===null)return null;var n=uo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(B(231,t,typeof r));return r}var Ll=!1;if(nr)try{var Rn={};Object.defineProperty(Rn,"passive",{get:function(){Ll=!0}}),window.addEventListener("test",Rn,Rn),window.removeEventListener("test",Rn,Rn)}catch{Ll=!1}function Cx(e,t,r,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Gn=!1,Pa=null,La=!1,Rl=null,Ex={onError:function(e){Gn=!0,Pa=e}};function Px(e,t,r,n,i,a,o,l,c){Gn=!1,Pa=null,Cx.apply(Ex,arguments)}function Lx(e,t,r,n,i,a,o,l,c){if(Px.apply(this,arguments),Gn){if(Gn){var u=Pa;Gn=!1,Pa=null}else throw Error(B(198));La||(La=!0,Rl=u)}}function Es(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Wm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dd(e){if(Es(e)!==e)throw Error(B(188))}function Rx(e){var t=e.alternate;if(!t){if(t=Es(e),t===null)throw Error(B(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return dd(i),e;if(a===n)return dd(i),t;a=a.sibling}throw Error(B(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?e:t}function Um(e){return e=Rx(e),e!==null?Vm(e):null}function Vm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vm(e);if(t!==null)return t;e=e.sibling}return null}var Hm=ct.unstable_scheduleCallback,hd=ct.unstable_cancelCallback,Tx=ct.unstable_shouldYield,Mx=ct.unstable_requestPaint,be=ct.unstable_now,Ox=ct.unstable_getCurrentPriorityLevel,Gc=ct.unstable_ImmediatePriority,Qm=ct.unstable_UserBlockingPriority,Ra=ct.unstable_NormalPriority,Fx=ct.unstable_LowPriority,Ym=ct.unstable_IdlePriority,ao=null,qt=null;function Ax(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(ao,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:$x,Dx=Math.log,Bx=Math.LN2;function $x(e){return e>>>=0,e===0?32:31-(Dx(e)/Bx|0)|0}var Ui=64,Vi=4194304;function Vn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ta(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Vn(l):(a&=o,a!==0&&(n=Vn(a)))}else o=r&~i,o!==0?n=Vn(o):a!==0&&(n=Vn(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pt(t),i=1<<r,n|=e[r],t&=~i;return n}function Ix(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zx(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Pt(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=Ix(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Tl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Km(){var e=Ui;return Ui<<=1,!(Ui&4194240)&&(Ui=64),e}function Io(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ri(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=r}function qx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Pt(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Jc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var oe=0;function Gm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jm,Xc,Xm,Zm,ef,Ml=!1,Hi=[],Or=null,Fr=null,Ar=null,oi=new Map,li=new Map,br=[],Wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function md(e,t){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(t.pointerId)}}function Tn(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Mi(t),t!==null&&Xc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ux(e,t,r,n,i){switch(t){case"focusin":return Or=Tn(Or,e,t,r,n,i),!0;case"dragenter":return Fr=Tn(Fr,e,t,r,n,i),!0;case"mouseover":return Ar=Tn(Ar,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return oi.set(a,Tn(oi.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,li.set(a,Tn(li.get(a)||null,e,t,r,n,i)),!0}return!1}function tf(e){var t=rs(e.target);if(t!==null){var r=Es(t);if(r!==null){if(t=r.tag,t===13){if(t=Wm(r),t!==null){e.blockedOn=t,ef(e.priority,function(){Xm(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ua(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ol(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);El=n,r.target.dispatchEvent(n),El=null}else return t=Mi(r),t!==null&&Xc(t),e.blockedOn=r,!1;t.shift()}return!0}function fd(e,t,r){ua(e)&&r.delete(t)}function Vx(){Ml=!1,Or!==null&&ua(Or)&&(Or=null),Fr!==null&&ua(Fr)&&(Fr=null),Ar!==null&&ua(Ar)&&(Ar=null),oi.forEach(fd),li.forEach(fd)}function Mn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ml||(Ml=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Vx)))}function ci(e){function t(i){return Mn(i,e)}if(0<Hi.length){Mn(Hi[0],e);for(var r=1;r<Hi.length;r++){var n=Hi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Or!==null&&Mn(Or,e),Fr!==null&&Mn(Fr,e),Ar!==null&&Mn(Ar,e),oi.forEach(t),li.forEach(t),r=0;r<br.length;r++)n=br[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<br.length&&(r=br[0],r.blockedOn===null);)tf(r),r.blockedOn===null&&br.shift()}var Ys=cr.ReactCurrentBatchConfig,Ma=!0;function Hx(e,t,r,n){var i=oe,a=Ys.transition;Ys.transition=null;try{oe=1,Zc(e,t,r,n)}finally{oe=i,Ys.transition=a}}function Qx(e,t,r,n){var i=oe,a=Ys.transition;Ys.transition=null;try{oe=4,Zc(e,t,r,n)}finally{oe=i,Ys.transition=a}}function Zc(e,t,r,n){if(Ma){var i=Ol(e,t,r,n);if(i===null)Go(e,t,n,Oa,r),md(e,n);else if(Ux(i,e,t,r,n))n.stopPropagation();else if(md(e,n),t&4&&-1<Wx.indexOf(e)){for(;i!==null;){var a=Mi(i);if(a!==null&&Jm(a),a=Ol(e,t,r,n),a===null&&Go(e,t,n,Oa,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Go(e,t,n,null,r)}}var Oa=null;function Ol(e,t,r,n){if(Oa=null,e=Kc(n),e=rs(e),e!==null)if(t=Es(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Wm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oa=e,null}function rf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ox()){case Gc:return 1;case Qm:return 4;case Ra:case Fx:return 16;case Ym:return 536870912;default:return 16}default:return 16}}var Rr=null,eu=null,da=null;function sf(){if(da)return da;var e,t=eu,r=t.length,n,i="value"in Rr?Rr.value:Rr.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return da=i.slice(e,1<n?1-n:void 0)}function ha(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qi(){return!0}function pd(){return!1}function dt(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Qi:pd,this.isPropagationStopped=pd,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),t}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tu=dt(vn),Ti=ge({},vn,{view:0,detail:0}),Yx=dt(Ti),zo,qo,On,oo=ge({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ru,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==On&&(On&&e.type==="mousemove"?(zo=e.screenX-On.screenX,qo=e.screenY-On.screenY):qo=zo=0,On=e),zo)},movementY:function(e){return"movementY"in e?e.movementY:qo}}),xd=dt(oo),Kx=ge({},oo,{dataTransfer:0}),Gx=dt(Kx),Jx=ge({},Ti,{relatedTarget:0}),Wo=dt(Jx),Xx=ge({},vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Zx=dt(Xx),eg=ge({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tg=dt(eg),rg=ge({},vn,{data:0}),gd=dt(rg),sg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ng={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ig={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ag(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ig[e])?!!t[e]:!1}function ru(){return ag}var og=ge({},Ti,{key:function(e){if(e.key){var t=sg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ha(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ng[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ru,charCode:function(e){return e.type==="keypress"?ha(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ha(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lg=dt(og),cg=ge({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yd=dt(cg),ug=ge({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ru}),dg=dt(ug),hg=ge({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),mg=dt(hg),fg=ge({},oo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pg=dt(fg),xg=[9,13,27,32],su=nr&&"CompositionEvent"in window,Jn=null;nr&&"documentMode"in document&&(Jn=document.documentMode);var gg=nr&&"TextEvent"in window&&!Jn,nf=nr&&(!su||Jn&&8<Jn&&11>=Jn),vd=" ",bd=!1;function af(e,t){switch(e){case"keyup":return xg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function of(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fs=!1;function yg(e,t){switch(e){case"compositionend":return of(t);case"keypress":return t.which!==32?null:(bd=!0,vd);case"textInput":return e=t.data,e===vd&&bd?null:e;default:return null}}function vg(e,t){if(Fs)return e==="compositionend"||!su&&af(e,t)?(e=sf(),da=eu=Rr=null,Fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nf&&t.locale!=="ko"?null:t.data;default:return null}}var bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bg[e.type]:t==="textarea"}function lf(e,t,r,n){Bm(n),t=Fa(t,"onChange"),0<t.length&&(r=new tu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xn=null,ui=null;function wg(e){vf(e,0)}function lo(e){var t=Bs(e);if(Rm(t))return e}function jg(e,t){if(e==="change")return t}var cf=!1;if(nr){var Uo;if(nr){var Vo="oninput"in document;if(!Vo){var jd=document.createElement("div");jd.setAttribute("oninput","return;"),Vo=typeof jd.oninput=="function"}Uo=Vo}else Uo=!1;cf=Uo&&(!document.documentMode||9<document.documentMode)}function Nd(){Xn&&(Xn.detachEvent("onpropertychange",uf),ui=Xn=null)}function uf(e){if(e.propertyName==="value"&&lo(ui)){var t=[];lf(t,ui,e,Kc(e)),qm(wg,t)}}function Ng(e,t,r){e==="focusin"?(Nd(),Xn=t,ui=r,Xn.attachEvent("onpropertychange",uf)):e==="focusout"&&Nd()}function _g(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lo(ui)}function kg(e,t){if(e==="click")return lo(t)}function Sg(e,t){if(e==="input"||e==="change")return lo(t)}function Cg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:Cg;function di(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!xl.call(t,i)||!Rt(e[i],t[i]))return!1}return!0}function _d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kd(e,t){var r=_d(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_d(r)}}function df(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?df(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hf(){for(var e=window,t=Ea();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ea(e.document)}return t}function nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Eg(e){var t=hf(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&df(r.ownerDocument.documentElement,r)){if(n!==null&&nu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=kd(r,a);var o=kd(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pg=nr&&"documentMode"in document&&11>=document.documentMode,As=null,Fl=null,Zn=null,Al=!1;function Sd(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Al||As==null||As!==Ea(n)||(n=As,"selectionStart"in n&&nu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zn&&di(Zn,n)||(Zn=n,n=Fa(Fl,"onSelect"),0<n.length&&(t=new tu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=As)))}function Yi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ds={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionend:Yi("Transition","TransitionEnd")},Ho={},mf={};nr&&(mf=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function co(e){if(Ho[e])return Ho[e];if(!Ds[e])return e;var t=Ds[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in mf)return Ho[e]=t[r];return e}var ff=co("animationend"),pf=co("animationiteration"),xf=co("animationstart"),gf=co("transitionend"),yf=new Map,Cd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(e,t){yf.set(e,t),Cs(t,[e])}for(var Qo=0;Qo<Cd.length;Qo++){var Yo=Cd[Qo],Lg=Yo.toLowerCase(),Rg=Yo[0].toUpperCase()+Yo.slice(1);Qr(Lg,"on"+Rg)}Qr(ff,"onAnimationEnd");Qr(pf,"onAnimationIteration");Qr(xf,"onAnimationStart");Qr("dblclick","onDoubleClick");Qr("focusin","onFocus");Qr("focusout","onBlur");Qr(gf,"onTransitionEnd");un("onMouseEnter",["mouseout","mouseover"]);un("onMouseLeave",["mouseout","mouseover"]);un("onPointerEnter",["pointerout","pointerover"]);un("onPointerLeave",["pointerout","pointerover"]);Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hn));function Ed(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Lx(n,t,void 0,e),e.currentTarget=null}function vf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Ed(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Ed(i,l,u),a=c}}}if(La)throw e=Rl,La=!1,Rl=null,e}function de(e,t){var r=t[zl];r===void 0&&(r=t[zl]=new Set);var n=e+"__bubble";r.has(n)||(bf(t,e,2,!1),r.add(n))}function Ko(e,t,r){var n=0;t&&(n|=4),bf(r,e,n,t)}var Ki="_reactListening"+Math.random().toString(36).slice(2);function hi(e){if(!e[Ki]){e[Ki]=!0,Sm.forEach(function(r){r!=="selectionchange"&&(Tg.has(r)||Ko(r,!1,e),Ko(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ki]||(t[Ki]=!0,Ko("selectionchange",!1,t))}}function bf(e,t,r,n){switch(rf(t)){case 1:var i=Hx;break;case 4:i=Qx;break;default:i=Zc}r=i.bind(null,t,r,e),i=void 0,!Ll||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Go(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=rs(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}qm(function(){var u=a,d=Kc(r),h=[];e:{var y=yf.get(e);if(y!==void 0){var p=tu,g=e;switch(e){case"keypress":if(ha(r)===0)break e;case"keydown":case"keyup":p=lg;break;case"focusin":g="focus",p=Wo;break;case"focusout":g="blur",p=Wo;break;case"beforeblur":case"afterblur":p=Wo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Gx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=dg;break;case ff:case pf:case xf:p=Zx;break;case gf:p=mg;break;case"scroll":p=Yx;break;case"wheel":p=pg;break;case"copy":case"cut":case"paste":p=tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yd}var v=(t&4)!==0,N=!v&&e==="scroll",x=v?y!==null?y+"Capture":null:y;v=[];for(var f=u,m;f!==null;){m=f;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,x!==null&&(_=ai(f,x),_!=null&&v.push(mi(f,_,m)))),N)break;f=f.return}0<v.length&&(y=new p(y,g,null,r,d),h.push({event:y,listeners:v}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",y&&r!==El&&(g=r.relatedTarget||r.fromElement)&&(rs(g)||g[ir]))break e;if((p||y)&&(y=d.window===d?d:(y=d.ownerDocument)?y.defaultView||y.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?rs(g):null,g!==null&&(N=Es(g),g!==N||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=xd,_="onMouseLeave",x="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=yd,_="onPointerLeave",x="onPointerEnter",f="pointer"),N=p==null?y:Bs(p),m=g==null?y:Bs(g),y=new v(_,f+"leave",p,r,d),y.target=N,y.relatedTarget=m,_=null,rs(d)===u&&(v=new v(x,f+"enter",g,r,d),v.target=m,v.relatedTarget=N,_=v),N=_,p&&g)t:{for(v=p,x=g,f=0,m=v;m;m=Rs(m))f++;for(m=0,_=x;_;_=Rs(_))m++;for(;0<f-m;)v=Rs(v),f--;for(;0<m-f;)x=Rs(x),m--;for(;f--;){if(v===x||x!==null&&v===x.alternate)break t;v=Rs(v),x=Rs(x)}v=null}else v=null;p!==null&&Pd(h,y,p,v,!1),g!==null&&N!==null&&Pd(h,N,g,v,!0)}}e:{if(y=u?Bs(u):window,p=y.nodeName&&y.nodeName.toLowerCase(),p==="select"||p==="input"&&y.type==="file")var E=jg;else if(wd(y))if(cf)E=Sg;else{E=_g;var w=Ng}else(p=y.nodeName)&&p.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(E=kg);if(E&&(E=E(e,u))){lf(h,E,r,d);break e}w&&w(e,y,u),e==="focusout"&&(w=y._wrapperState)&&w.controlled&&y.type==="number"&&Nl(y,"number",y.value)}switch(w=u?Bs(u):window,e){case"focusin":(wd(w)||w.contentEditable==="true")&&(As=w,Fl=u,Zn=null);break;case"focusout":Zn=Fl=As=null;break;case"mousedown":Al=!0;break;case"contextmenu":case"mouseup":case"dragend":Al=!1,Sd(h,r,d);break;case"selectionchange":if(Pg)break;case"keydown":case"keyup":Sd(h,r,d)}var j;if(su)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fs?af(e,r)&&(b="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(nf&&r.locale!=="ko"&&(Fs||b!=="onCompositionStart"?b==="onCompositionEnd"&&Fs&&(j=sf()):(Rr=d,eu="value"in Rr?Rr.value:Rr.textContent,Fs=!0)),w=Fa(u,b),0<w.length&&(b=new gd(b,e,null,r,d),h.push({event:b,listeners:w}),j?b.data=j:(j=of(r),j!==null&&(b.data=j)))),(j=gg?yg(e,r):vg(e,r))&&(u=Fa(u,"onBeforeInput"),0<u.length&&(d=new gd("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}vf(h,t)})}function mi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fa(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ai(e,r),a!=null&&n.unshift(mi(e,a,i)),a=ai(e,t),a!=null&&n.push(mi(e,a,i))),e=e.return}return n}function Rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pd(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=ai(r,a),c!=null&&o.unshift(mi(r,c,l))):i||(c=ai(r,a),c!=null&&o.push(mi(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Mg=/\r\n?/g,Og=/\u0000|\uFFFD/g;function Ld(e){return(typeof e=="string"?e:""+e).replace(Mg,`
`).replace(Og,"")}function Gi(e,t,r){if(t=Ld(t),Ld(e)!==t&&r)throw Error(B(425))}function Aa(){}var Dl=null,Bl=null;function $l(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Il=typeof setTimeout=="function"?setTimeout:void 0,Fg=typeof clearTimeout=="function"?clearTimeout:void 0,Rd=typeof Promise=="function"?Promise:void 0,Ag=typeof queueMicrotask=="function"?queueMicrotask:typeof Rd<"u"?function(e){return Rd.resolve(null).then(e).catch(Dg)}:Il;function Dg(e){setTimeout(function(){throw e})}function Jo(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),ci(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ci(t)}function Dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Td(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var bn=Math.random().toString(36).slice(2),zt="__reactFiber$"+bn,fi="__reactProps$"+bn,ir="__reactContainer$"+bn,zl="__reactEvents$"+bn,Bg="__reactListeners$"+bn,$g="__reactHandles$"+bn;function rs(e){var t=e[zt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ir]||r[zt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Td(e);e!==null;){if(r=e[zt])return r;e=Td(e)}return t}e=r,r=e.parentNode}return null}function Mi(e){return e=e[zt]||e[ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function uo(e){return e[fi]||null}var ql=[],$s=-1;function Yr(e){return{current:e}}function he(e){0>$s||(e.current=ql[$s],ql[$s]=null,$s--)}function ue(e,t){$s++,ql[$s]=e.current,e.current=t}var Hr={},Ie=Yr(Hr),Xe=Yr(!1),vs=Hr;function dn(e,t){var r=e.type.contextTypes;if(!r)return Hr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ze(e){return e=e.childContextTypes,e!=null}function Da(){he(Xe),he(Ie)}function Md(e,t,r){if(Ie.current!==Hr)throw Error(B(168));ue(Ie,t),ue(Xe,r)}function wf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(B(108,Nx(e)||"Unknown",i));return ge({},r,n)}function Ba(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hr,vs=Ie.current,ue(Ie,e),ue(Xe,Xe.current),!0}function Od(e,t,r){var n=e.stateNode;if(!n)throw Error(B(169));r?(e=wf(e,t,vs),n.__reactInternalMemoizedMergedChildContext=e,he(Xe),he(Ie),ue(Ie,e)):he(Xe),ue(Xe,r)}var Kt=null,ho=!1,Xo=!1;function jf(e){Kt===null?Kt=[e]:Kt.push(e)}function Ig(e){ho=!0,jf(e)}function Kr(){if(!Xo&&Kt!==null){Xo=!0;var e=0,t=oe;try{var r=Kt;for(oe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Kt=null,ho=!1}catch(i){throw Kt!==null&&(Kt=Kt.slice(e+1)),Hm(Gc,Kr),i}finally{oe=t,Xo=!1}}return null}var Is=[],zs=0,$a=null,Ia=0,ft=[],pt=0,bs=null,er=1,tr="";function Xr(e,t){Is[zs++]=Ia,Is[zs++]=$a,$a=e,Ia=t}function Nf(e,t,r){ft[pt++]=er,ft[pt++]=tr,ft[pt++]=bs,bs=e;var n=er;e=tr;var i=32-Pt(n)-1;n&=~(1<<i),r+=1;var a=32-Pt(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,er=1<<32-Pt(t)+i|r<<i|n,tr=a+e}else er=1<<a|r<<i|n,tr=e}function iu(e){e.return!==null&&(Xr(e,1),Nf(e,1,0))}function au(e){for(;e===$a;)$a=Is[--zs],Is[zs]=null,Ia=Is[--zs],Is[zs]=null;for(;e===bs;)bs=ft[--pt],ft[pt]=null,tr=ft[--pt],ft[pt]=null,er=ft[--pt],ft[pt]=null}var lt=null,ot=null,fe=!1,Et=null;function _f(e,t){var r=gt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Fd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,ot=Dr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bs!==null?{id:er,overflow:tr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,lt=e,ot=null,!0):!1;default:return!1}}function Wl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ul(e){if(fe){var t=ot;if(t){var r=t;if(!Fd(e,t)){if(Wl(e))throw Error(B(418));t=Dr(r.nextSibling);var n=lt;t&&Fd(e,t)?_f(n,r):(e.flags=e.flags&-4097|2,fe=!1,lt=e)}}else{if(Wl(e))throw Error(B(418));e.flags=e.flags&-4097|2,fe=!1,lt=e}}}function Ad(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function Ji(e){if(e!==lt)return!1;if(!fe)return Ad(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$l(e.type,e.memoizedProps)),t&&(t=ot)){if(Wl(e))throw kf(),Error(B(418));for(;t;)_f(e,t),t=Dr(t.nextSibling)}if(Ad(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ot=Dr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=lt?Dr(e.stateNode.nextSibling):null;return!0}function kf(){for(var e=ot;e;)e=Dr(e.nextSibling)}function hn(){ot=lt=null,fe=!1}function ou(e){Et===null?Et=[e]:Et.push(e)}var zg=cr.ReactCurrentBatchConfig;function Fn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,e))}return e}function Xi(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dd(e){var t=e._init;return t(e._payload)}function Sf(e){function t(x,f){if(e){var m=x.deletions;m===null?(x.deletions=[f],x.flags|=16):m.push(f)}}function r(x,f){if(!e)return null;for(;f!==null;)t(x,f),f=f.sibling;return null}function n(x,f){for(x=new Map;f!==null;)f.key!==null?x.set(f.key,f):x.set(f.index,f),f=f.sibling;return x}function i(x,f){return x=zr(x,f),x.index=0,x.sibling=null,x}function a(x,f,m){return x.index=m,e?(m=x.alternate,m!==null?(m=m.index,m<f?(x.flags|=2,f):m):(x.flags|=2,f)):(x.flags|=1048576,f)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,f,m,_){return f===null||f.tag!==6?(f=il(m,x.mode,_),f.return=x,f):(f=i(f,m),f.return=x,f)}function c(x,f,m,_){var E=m.type;return E===Os?d(x,f,m.props.children,_,m.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gr&&Dd(E)===f.type)?(_=i(f,m.props),_.ref=Fn(x,f,m),_.return=x,_):(_=va(m.type,m.key,m.props,null,x.mode,_),_.ref=Fn(x,f,m),_.return=x,_)}function u(x,f,m,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=al(m,x.mode,_),f.return=x,f):(f=i(f,m.children||[]),f.return=x,f)}function d(x,f,m,_,E){return f===null||f.tag!==7?(f=gs(m,x.mode,_,E),f.return=x,f):(f=i(f,m),f.return=x,f)}function h(x,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=il(""+f,x.mode,m),f.return=x,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case zi:return m=va(f.type,f.key,f.props,null,x.mode,m),m.ref=Fn(x,null,f),m.return=x,m;case Ms:return f=al(f,x.mode,m),f.return=x,f;case gr:var _=f._init;return h(x,_(f._payload),m)}if(Un(f)||Ln(f))return f=gs(f,x.mode,m,null),f.return=x,f;Xi(x,f)}return null}function y(x,f,m,_){var E=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:l(x,f,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case zi:return m.key===E?c(x,f,m,_):null;case Ms:return m.key===E?u(x,f,m,_):null;case gr:return E=m._init,y(x,f,E(m._payload),_)}if(Un(m)||Ln(m))return E!==null?null:d(x,f,m,_,null);Xi(x,m)}return null}function p(x,f,m,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(m)||null,l(f,x,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case zi:return x=x.get(_.key===null?m:_.key)||null,c(f,x,_,E);case Ms:return x=x.get(_.key===null?m:_.key)||null,u(f,x,_,E);case gr:var w=_._init;return p(x,f,m,w(_._payload),E)}if(Un(_)||Ln(_))return x=x.get(m)||null,d(f,x,_,E,null);Xi(f,_)}return null}function g(x,f,m,_){for(var E=null,w=null,j=f,b=f=0,$=null;j!==null&&b<m.length;b++){j.index>b?($=j,j=null):$=j.sibling;var F=y(x,j,m[b],_);if(F===null){j===null&&(j=$);break}e&&j&&F.alternate===null&&t(x,j),f=a(F,f,b),w===null?E=F:w.sibling=F,w=F,j=$}if(b===m.length)return r(x,j),fe&&Xr(x,b),E;if(j===null){for(;b<m.length;b++)j=h(x,m[b],_),j!==null&&(f=a(j,f,b),w===null?E=j:w.sibling=j,w=j);return fe&&Xr(x,b),E}for(j=n(x,j);b<m.length;b++)$=p(j,x,b,m[b],_),$!==null&&(e&&$.alternate!==null&&j.delete($.key===null?b:$.key),f=a($,f,b),w===null?E=$:w.sibling=$,w=$);return e&&j.forEach(function(Y){return t(x,Y)}),fe&&Xr(x,b),E}function v(x,f,m,_){var E=Ln(m);if(typeof E!="function")throw Error(B(150));if(m=E.call(m),m==null)throw Error(B(151));for(var w=E=null,j=f,b=f=0,$=null,F=m.next();j!==null&&!F.done;b++,F=m.next()){j.index>b?($=j,j=null):$=j.sibling;var Y=y(x,j,F.value,_);if(Y===null){j===null&&(j=$);break}e&&j&&Y.alternate===null&&t(x,j),f=a(Y,f,b),w===null?E=Y:w.sibling=Y,w=Y,j=$}if(F.done)return r(x,j),fe&&Xr(x,b),E;if(j===null){for(;!F.done;b++,F=m.next())F=h(x,F.value,_),F!==null&&(f=a(F,f,b),w===null?E=F:w.sibling=F,w=F);return fe&&Xr(x,b),E}for(j=n(x,j);!F.done;b++,F=m.next())F=p(j,x,b,F.value,_),F!==null&&(e&&F.alternate!==null&&j.delete(F.key===null?b:F.key),f=a(F,f,b),w===null?E=F:w.sibling=F,w=F);return e&&j.forEach(function(O){return t(x,O)}),fe&&Xr(x,b),E}function N(x,f,m,_){if(typeof m=="object"&&m!==null&&m.type===Os&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case zi:e:{for(var E=m.key,w=f;w!==null;){if(w.key===E){if(E=m.type,E===Os){if(w.tag===7){r(x,w.sibling),f=i(w,m.props.children),f.return=x,x=f;break e}}else if(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gr&&Dd(E)===w.type){r(x,w.sibling),f=i(w,m.props),f.ref=Fn(x,w,m),f.return=x,x=f;break e}r(x,w);break}else t(x,w);w=w.sibling}m.type===Os?(f=gs(m.props.children,x.mode,_,m.key),f.return=x,x=f):(_=va(m.type,m.key,m.props,null,x.mode,_),_.ref=Fn(x,f,m),_.return=x,x=_)}return o(x);case Ms:e:{for(w=m.key;f!==null;){if(f.key===w)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){r(x,f.sibling),f=i(f,m.children||[]),f.return=x,x=f;break e}else{r(x,f);break}else t(x,f);f=f.sibling}f=al(m,x.mode,_),f.return=x,x=f}return o(x);case gr:return w=m._init,N(x,f,w(m._payload),_)}if(Un(m))return g(x,f,m,_);if(Ln(m))return v(x,f,m,_);Xi(x,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(r(x,f.sibling),f=i(f,m),f.return=x,x=f):(r(x,f),f=il(m,x.mode,_),f.return=x,x=f),o(x)):r(x,f)}return N}var mn=Sf(!0),Cf=Sf(!1),za=Yr(null),qa=null,qs=null,lu=null;function cu(){lu=qs=qa=null}function uu(e){var t=za.current;he(za),e._currentValue=t}function Vl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ks(e,t){qa=e,lu=qs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function vt(e){var t=e._currentValue;if(lu!==e)if(e={context:e,memoizedValue:t,next:null},qs===null){if(qa===null)throw Error(B(308));qs=e,qa.dependencies={lanes:0,firstContext:e}}else qs=qs.next=e;return t}var ss=null;function du(e){ss===null?ss=[e]:ss.push(e)}function Ef(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,du(t)):(r.next=i.next,i.next=r),t.interleaved=r,ar(e,n)}function ar(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var yr=!1;function hu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Br(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,se&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ar(e,r)}return i=n.interleaved,i===null?(t.next=t,du(n)):(t.next=i.next,i.next=t),n.interleaved=t,ar(e,r)}function ma(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jc(e,r)}}function Bd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wa(e,t,r,n){var i=e.updateQueue;yr=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,d=u=c=null,l=a;do{var y=l.lane,p=l.eventTime;if((n&y)===y){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(y=t,p=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(p,h,y);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,y=typeof g=="function"?g.call(p,h,y):g,y==null)break e;h=ge({},h,y);break e;case 2:yr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else p={eventTime:p,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);js|=o,e.lanes=o,e.memoizedState=h}}function $d(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(B(191,i));i.call(n)}}}var Oi={},Wt=Yr(Oi),pi=Yr(Oi),xi=Yr(Oi);function ns(e){if(e===Oi)throw Error(B(174));return e}function mu(e,t){switch(ue(xi,t),ue(pi,e),ue(Wt,Oi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kl(t,e)}he(Wt),ue(Wt,t)}function fn(){he(Wt),he(pi),he(xi)}function Lf(e){ns(xi.current);var t=ns(Wt.current),r=kl(t,e.type);t!==r&&(ue(pi,e),ue(Wt,r))}function fu(e){pi.current===e&&(he(Wt),he(pi))}var pe=Yr(0);function Ua(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zo=[];function pu(){for(var e=0;e<Zo.length;e++)Zo[e]._workInProgressVersionPrimary=null;Zo.length=0}var fa=cr.ReactCurrentDispatcher,el=cr.ReactCurrentBatchConfig,ws=0,xe=null,_e=null,Le=null,Va=!1,ei=!1,gi=0,qg=0;function Fe(){throw Error(B(321))}function xu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rt(e[r],t[r]))return!1;return!0}function gu(e,t,r,n,i,a){if(ws=a,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=e===null||e.memoizedState===null?Hg:Qg,e=r(n,i),ei){a=0;do{if(ei=!1,gi=0,25<=a)throw Error(B(301));a+=1,Le=_e=null,t.updateQueue=null,fa.current=Yg,e=r(n,i)}while(ei)}if(fa.current=Ha,t=_e!==null&&_e.next!==null,ws=0,Le=_e=xe=null,Va=!1,t)throw Error(B(300));return e}function yu(){var e=gi!==0;return gi=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?xe.memoizedState=Le=e:Le=Le.next=e,Le}function bt(){if(_e===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Le===null?xe.memoizedState:Le.next;if(t!==null)Le=t,_e=e;else{if(e===null)throw Error(B(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Le===null?xe.memoizedState=Le=e:Le=Le.next=e}return Le}function yi(e,t){return typeof t=="function"?t(e):t}function tl(e){var t=bt(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=_e,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ws&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,xe.lanes|=d,js|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Rt(n,t.memoizedState)||(Je=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,xe.lanes|=a,js|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function rl(e){var t=bt(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Rt(a,t.memoizedState)||(Je=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Rf(){}function Tf(e,t){var r=xe,n=bt(),i=t(),a=!Rt(n.memoizedState,i);if(a&&(n.memoizedState=i,Je=!0),n=n.queue,vu(Ff.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Le!==null&&Le.memoizedState.tag&1){if(r.flags|=2048,vi(9,Of.bind(null,r,n,i,t),void 0,null),Re===null)throw Error(B(349));ws&30||Mf(r,t,i)}return i}function Mf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Of(e,t,r,n){t.value=r,t.getSnapshot=n,Af(t)&&Df(e)}function Ff(e,t,r){return r(function(){Af(t)&&Df(e)})}function Af(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rt(e,r)}catch{return!0}}function Df(e){var t=ar(e,1);t!==null&&Lt(t,e,1,-1)}function Id(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Vg.bind(null,xe,e),[t.memoizedState,e]}function vi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Bf(){return bt().memoizedState}function pa(e,t,r,n){var i=Dt();xe.flags|=e,i.memoizedState=vi(1|t,r,void 0,n===void 0?null:n)}function mo(e,t,r,n){var i=bt();n=n===void 0?null:n;var a=void 0;if(_e!==null){var o=_e.memoizedState;if(a=o.destroy,n!==null&&xu(n,o.deps)){i.memoizedState=vi(t,r,a,n);return}}xe.flags|=e,i.memoizedState=vi(1|t,r,a,n)}function zd(e,t){return pa(8390656,8,e,t)}function vu(e,t){return mo(2048,8,e,t)}function $f(e,t){return mo(4,2,e,t)}function If(e,t){return mo(4,4,e,t)}function zf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qf(e,t,r){return r=r!=null?r.concat([e]):null,mo(4,4,zf.bind(null,t,e),r)}function bu(){}function Wf(e,t){var r=bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Uf(e,t){var r=bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Vf(e,t,r){return ws&21?(Rt(r,t)||(r=Km(),xe.lanes|=r,js|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=r)}function Wg(e,t){var r=oe;oe=r!==0&&4>r?r:4,e(!0);var n=el.transition;el.transition={};try{e(!1),t()}finally{oe=r,el.transition=n}}function Hf(){return bt().memoizedState}function Ug(e,t,r){var n=Ir(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qf(e))Yf(t,r);else if(r=Ef(e,t,r,n),r!==null){var i=Ve();Lt(r,e,n,i),Kf(r,t,n)}}function Vg(e,t,r){var n=Ir(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qf(e))Yf(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,Rt(l,o)){var c=t.interleaved;c===null?(i.next=i,du(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=Ef(e,t,i,n),r!==null&&(i=Ve(),Lt(r,e,n,i),Kf(r,t,n))}}function Qf(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function Yf(e,t){ei=Va=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Kf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jc(e,r)}}var Ha={readContext:vt,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},Hg={readContext:vt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:zd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,pa(4194308,4,zf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return pa(4,2,e,t)},useMemo:function(e,t){var r=Dt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Dt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ug.bind(null,xe,e),[n.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:Id,useDebugValue:bu,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=Id(!1),t=e[0];return e=Wg.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=xe,i=Dt();if(fe){if(r===void 0)throw Error(B(407));r=r()}else{if(r=t(),Re===null)throw Error(B(349));ws&30||Mf(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,zd(Ff.bind(null,n,a,e),[e]),n.flags|=2048,vi(9,Of.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Dt(),t=Re.identifierPrefix;if(fe){var r=tr,n=er;r=(n&~(1<<32-Pt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=gi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=qg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qg={readContext:vt,useCallback:Wf,useContext:vt,useEffect:vu,useImperativeHandle:qf,useInsertionEffect:$f,useLayoutEffect:If,useMemo:Uf,useReducer:tl,useRef:Bf,useState:function(){return tl(yi)},useDebugValue:bu,useDeferredValue:function(e){var t=bt();return Vf(t,_e.memoizedState,e)},useTransition:function(){var e=tl(yi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Rf,useSyncExternalStore:Tf,useId:Hf,unstable_isNewReconciler:!1},Yg={readContext:vt,useCallback:Wf,useContext:vt,useEffect:vu,useImperativeHandle:qf,useInsertionEffect:$f,useLayoutEffect:If,useMemo:Uf,useReducer:rl,useRef:Bf,useState:function(){return rl(yi)},useDebugValue:bu,useDeferredValue:function(e){var t=bt();return _e===null?t.memoizedState=e:Vf(t,_e.memoizedState,e)},useTransition:function(){var e=rl(yi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Rf,useSyncExternalStore:Tf,useId:Hf,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Hl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ge({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var fo={isMounted:function(e){return(e=e._reactInternals)?Es(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ve(),i=Ir(e),a=rr(n,i);a.payload=t,r!=null&&(a.callback=r),t=Br(e,a,i),t!==null&&(Lt(t,e,i,n),ma(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ve(),i=Ir(e),a=rr(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Br(e,a,i),t!==null&&(Lt(t,e,i,n),ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ve(),n=Ir(e),i=rr(r,n);i.tag=2,t!=null&&(i.callback=t),t=Br(e,i,n),t!==null&&(Lt(t,e,n,r),ma(t,e,n))}};function qd(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!di(r,n)||!di(i,a):!0}function Gf(e,t,r){var n=!1,i=Hr,a=t.contextType;return typeof a=="object"&&a!==null?a=vt(a):(i=Ze(t)?vs:Ie.current,n=t.contextTypes,a=(n=n!=null)?dn(e,i):Hr),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wd(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function Ql(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},hu(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=vt(a):(a=Ze(t)?vs:Ie.current,i.context=dn(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Hl(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&fo.enqueueReplaceState(i,i.state,null),Wa(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function pn(e,t){try{var r="",n=t;do r+=jx(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function sl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Yl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Kg=typeof WeakMap=="function"?WeakMap:Map;function Jf(e,t,r){r=rr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ya||(Ya=!0,nc=n),Yl(e,t)},r}function Xf(e,t,r){r=rr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Yl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Yl(e,t),typeof n!="function"&&($r===null?$r=new Set([this]):$r.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ud(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Kg;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=cy.bind(null,e,t,r),t.then(e,e))}function Vd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hd(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=rr(-1,1),t.tag=2,Br(r,t,1))),r.lanes|=1),e)}var Gg=cr.ReactCurrentOwner,Je=!1;function We(e,t,r,n){t.child=e===null?Cf(t,null,r,n):mn(t,e.child,r,n)}function Qd(e,t,r,n,i){r=r.render;var a=t.ref;return Ks(t,i),n=gu(e,t,r,n,a,i),r=yu(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,or(e,t,i)):(fe&&r&&iu(t),t.flags|=1,We(e,t,n,i),t.child)}function Yd(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Eu(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Zf(e,t,a,n,i)):(e=va(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:di,r(o,n)&&e.ref===t.ref)return or(e,t,i)}return t.flags|=1,e=zr(a,n),e.ref=t.ref,e.return=t,t.child=e}function Zf(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(di(a,n)&&e.ref===t.ref)if(Je=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,or(e,t,i)}return Kl(e,t,r,n,i)}function e0(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Us,at),at|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(Us,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ue(Us,at),at|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ue(Us,at),at|=n;return We(e,t,i,r),t.child}function t0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Kl(e,t,r,n,i){var a=Ze(r)?vs:Ie.current;return a=dn(t,a),Ks(t,i),r=gu(e,t,r,n,a,i),n=yu(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,or(e,t,i)):(fe&&n&&iu(t),t.flags|=1,We(e,t,r,i),t.child)}function Kd(e,t,r,n,i){if(Ze(r)){var a=!0;Ba(t)}else a=!1;if(Ks(t,i),t.stateNode===null)xa(e,t),Gf(t,r,n),Ql(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=vt(u):(u=Ze(r)?vs:Ie.current,u=dn(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Wd(t,o,n,u),yr=!1;var y=t.memoizedState;o.state=y,Wa(t,n,o,i),c=t.memoizedState,l!==n||y!==c||Xe.current||yr?(typeof d=="function"&&(Hl(t,r,d,n),c=t.memoizedState),(l=yr||qd(t,r,l,n,y,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Pf(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Nt(t.type,l),o.props=u,h=t.pendingProps,y=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=vt(c):(c=Ze(r)?vs:Ie.current,c=dn(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||y!==c)&&Wd(t,o,n,c),yr=!1,y=t.memoizedState,o.state=y,Wa(t,n,o,i);var g=t.memoizedState;l!==h||y!==g||Xe.current||yr?(typeof p=="function"&&(Hl(t,r,p,n),g=t.memoizedState),(u=yr||qd(t,r,u,n,y,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return Gl(e,t,r,n,a,i)}function Gl(e,t,r,n,i,a){t0(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Od(t,r,!1),or(e,t,a);n=t.stateNode,Gg.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=mn(t,e.child,null,a),t.child=mn(t,null,l,a)):We(e,t,l,a),t.memoizedState=n.state,i&&Od(t,r,!0),t.child}function r0(e){var t=e.stateNode;t.pendingContext?Md(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Md(e,t.context,!1),mu(e,t.containerInfo)}function Gd(e,t,r,n,i){return hn(),ou(i),t.flags|=256,We(e,t,r,n),t.child}var Jl={dehydrated:null,treeContext:null,retryLane:0};function Xl(e){return{baseLanes:e,cachePool:null,transitions:null}}function s0(e,t,r){var n=t.pendingProps,i=pe.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ue(pe,i&1),e===null)return Ul(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=go(o,n,0,null),e=gs(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Xl(r),t.memoizedState=Jl,e):wu(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Jg(e,t,o,n,l,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=zr(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=zr(l,a):(a=gs(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Xl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Jl,n}return a=e.child,e=a.sibling,n=zr(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function wu(e,t){return t=go({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zi(e,t,r,n){return n!==null&&ou(n),mn(t,e.child,null,r),e=wu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jg(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=sl(Error(B(422))),Zi(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=go({mode:"visible",children:n.children},i,0,null),a=gs(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&mn(t,e.child,null,o),t.child.memoizedState=Xl(o),t.memoizedState=Jl,a);if(!(t.mode&1))return Zi(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(B(419)),n=sl(a,n,void 0),Zi(e,t,o,n)}if(l=(o&e.childLanes)!==0,Je||l){if(n=Re,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ar(e,i),Lt(n,e,i,-1))}return Cu(),n=sl(Error(B(421))),Zi(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=uy.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ot=Dr(i.nextSibling),lt=t,fe=!0,Et=null,e!==null&&(ft[pt++]=er,ft[pt++]=tr,ft[pt++]=bs,er=e.id,tr=e.overflow,bs=t),t=wu(t,n.children),t.flags|=4096,t)}function Jd(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Vl(e.return,t,r)}function nl(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function n0(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(We(e,t,n.children,r),n=pe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jd(e,r,t);else if(e.tag===19)Jd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ue(pe,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Ua(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),nl(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ua(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}nl(t,!0,r,null,a);break;case"together":nl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function or(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),js|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,r=zr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=zr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Xg(e,t,r){switch(t.tag){case 3:r0(t),hn();break;case 5:Lf(t);break;case 1:Ze(t.type)&&Ba(t);break;case 4:mu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ue(za,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ue(pe,pe.current&1),t.flags|=128,null):r&t.child.childLanes?s0(e,t,r):(ue(pe,pe.current&1),e=or(e,t,r),e!==null?e.sibling:null);ue(pe,pe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return n0(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(pe,pe.current),n)break;return null;case 22:case 23:return t.lanes=0,e0(e,t,r)}return or(e,t,r)}var i0,Zl,a0,o0;i0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Zl=function(){};a0=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ns(Wt.current);var a=null;switch(r){case"input":i=wl(e,i),n=wl(e,n),a=[];break;case"select":i=ge({},i,{value:void 0}),n=ge({},n,{value:void 0}),a=[];break;case"textarea":i=_l(e,i),n=_l(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Aa)}Sl(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ni.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ni.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&de("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};o0=function(e,t,r,n){r!==n&&(t.flags|=4)};function An(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Zg(e,t,r){var n=t.pendingProps;switch(au(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ze(t.type)&&Da(),Ae(t),null;case 3:return n=t.stateNode,fn(),he(Xe),he(Ie),pu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ji(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(oc(Et),Et=null))),Zl(e,t),Ae(t),null;case 5:fu(t);var i=ns(xi.current);if(r=t.type,e!==null&&t.stateNode!=null)a0(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(B(166));return Ae(t),null}if(e=ns(Wt.current),Ji(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[zt]=t,n[fi]=a,e=(t.mode&1)!==0,r){case"dialog":de("cancel",n),de("close",n);break;case"iframe":case"object":case"embed":de("load",n);break;case"video":case"audio":for(i=0;i<Hn.length;i++)de(Hn[i],n);break;case"source":de("error",n);break;case"img":case"image":case"link":de("error",n),de("load",n);break;case"details":de("toggle",n);break;case"input":ad(n,a),de("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},de("invalid",n);break;case"textarea":ld(n,a),de("invalid",n)}Sl(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Gi(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Gi(n.textContent,l,e),i=["children",""+l]):ni.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&de("scroll",n)}switch(r){case"input":qi(n),od(n,a,!0);break;case"textarea":qi(n),cd(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Aa)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Om(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[zt]=t,e[fi]=n,i0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Cl(r,n),r){case"dialog":de("cancel",e),de("close",e),i=n;break;case"iframe":case"object":case"embed":de("load",e),i=n;break;case"video":case"audio":for(i=0;i<Hn.length;i++)de(Hn[i],e);i=n;break;case"source":de("error",e),i=n;break;case"img":case"image":case"link":de("error",e),de("load",e),i=n;break;case"details":de("toggle",e),i=n;break;case"input":ad(e,n),i=wl(e,n),de("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ge({},n,{value:void 0}),de("invalid",e);break;case"textarea":ld(e,n),i=_l(e,n),de("invalid",e);break;default:i=n}Sl(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Dm(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Fm(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ii(e,c):typeof c=="number"&&ii(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ni.hasOwnProperty(a)?c!=null&&a==="onScroll"&&de("scroll",e):c!=null&&Vc(e,a,c,o))}switch(r){case"input":qi(e),od(e,n,!1);break;case"textarea":qi(e),cd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Vr(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Vs(e,!!n.multiple,a,!1):n.defaultValue!=null&&Vs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Aa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)o0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(B(166));if(r=ns(xi.current),ns(Wt.current),Ji(t)){if(n=t.stateNode,r=t.memoizedProps,n[zt]=t,(a=n.nodeValue!==r)&&(e=lt,e!==null))switch(e.tag){case 3:Gi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gi(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zt]=t,t.stateNode=n}return Ae(t),null;case 13:if(he(pe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&ot!==null&&t.mode&1&&!(t.flags&128))kf(),hn(),t.flags|=98560,a=!1;else if(a=Ji(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(B(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(B(317));a[zt]=t}else hn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),a=!1}else Et!==null&&(oc(Et),Et=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Se===0&&(Se=3):Cu())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return fn(),Zl(e,t),e===null&&hi(t.stateNode.containerInfo),Ae(t),null;case 10:return uu(t.type._context),Ae(t),null;case 17:return Ze(t.type)&&Da(),Ae(t),null;case 19:if(he(pe),a=t.memoizedState,a===null)return Ae(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)An(a,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ua(e),o!==null){for(t.flags|=128,An(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ue(pe,pe.current&1|2),t.child}e=e.sibling}a.tail!==null&&be()>xn&&(t.flags|=128,n=!0,An(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ua(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),An(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!fe)return Ae(t),null}else 2*be()-a.renderingStartTime>xn&&r!==1073741824&&(t.flags|=128,n=!0,An(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=be(),t.sibling=null,r=pe.current,ue(pe,n?r&1|2:r&1),t):(Ae(t),null);case 22:case 23:return Su(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?at&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function ey(e,t){switch(au(t),t.tag){case 1:return Ze(t.type)&&Da(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fn(),he(Xe),he(Ie),pu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fu(t),null;case 13:if(he(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(pe),null;case 4:return fn(),null;case 10:return uu(t.type._context),null;case 22:case 23:return Su(),null;case 24:return null;default:return null}}var ea=!1,De=!1,ty=typeof WeakSet=="function"?WeakSet:Set,V=null;function Ws(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ve(e,t,n)}else r.current=null}function ec(e,t,r){try{r()}catch(n){ve(e,t,n)}}var Xd=!1;function ry(e,t){if(Dl=Ma,e=hf(),nu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,y=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)y=h,h=p;for(;;){if(h===e)break t;if(y===r&&++u===i&&(l=o),y===a&&++d===n&&(c=o),(p=h.nextSibling)!==null)break;h=y,y=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bl={focusedElem:e,selectionRange:r},Ma=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,N=g.memoizedState,x=t.stateNode,f=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:Nt(t.type,v),N);x.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(_){ve(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return g=Xd,Xd=!1,g}function ti(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&ec(t,r,a)}i=i.next}while(i!==n)}}function po(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function tc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function l0(e){var t=e.alternate;t!==null&&(e.alternate=null,l0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[fi],delete t[zl],delete t[Bg],delete t[$g])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function c0(e){return e.tag===5||e.tag===3||e.tag===4}function Zd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Aa));else if(n!==4&&(e=e.child,e!==null))for(rc(e,t,r),e=e.sibling;e!==null;)rc(e,t,r),e=e.sibling}function sc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(sc(e,t,r),e=e.sibling;e!==null;)sc(e,t,r),e=e.sibling}var Te=null,St=!1;function fr(e,t,r){for(r=r.child;r!==null;)u0(e,t,r),r=r.sibling}function u0(e,t,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(ao,r)}catch{}switch(r.tag){case 5:De||Ws(r,t);case 6:var n=Te,i=St;Te=null,fr(e,t,r),Te=n,St=i,Te!==null&&(St?(e=Te,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Te.removeChild(r.stateNode));break;case 18:Te!==null&&(St?(e=Te,r=r.stateNode,e.nodeType===8?Jo(e.parentNode,r):e.nodeType===1&&Jo(e,r),ci(e)):Jo(Te,r.stateNode));break;case 4:n=Te,i=St,Te=r.stateNode.containerInfo,St=!0,fr(e,t,r),Te=n,St=i;break;case 0:case 11:case 14:case 15:if(!De&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&ec(r,t,o),i=i.next}while(i!==n)}fr(e,t,r);break;case 1:if(!De&&(Ws(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ve(r,t,l)}fr(e,t,r);break;case 21:fr(e,t,r);break;case 22:r.mode&1?(De=(n=De)||r.memoizedState!==null,fr(e,t,r),De=n):fr(e,t,r);break;default:fr(e,t,r)}}function eh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ty),t.forEach(function(n){var i=dy.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function jt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Te=l.stateNode,St=!1;break e;case 3:Te=l.stateNode.containerInfo,St=!0;break e;case 4:Te=l.stateNode.containerInfo,St=!0;break e}l=l.return}if(Te===null)throw Error(B(160));u0(a,o,i),Te=null,St=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ve(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)d0(t,e),t=t.sibling}function d0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),Ot(e),n&4){try{ti(3,e,e.return),po(3,e)}catch(v){ve(e,e.return,v)}try{ti(5,e,e.return)}catch(v){ve(e,e.return,v)}}break;case 1:jt(t,e),Ot(e),n&512&&r!==null&&Ws(r,r.return);break;case 5:if(jt(t,e),Ot(e),n&512&&r!==null&&Ws(r,r.return),e.flags&32){var i=e.stateNode;try{ii(i,"")}catch(v){ve(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Tm(i,a),Cl(l,o);var u=Cl(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Dm(i,h):d==="dangerouslySetInnerHTML"?Fm(i,h):d==="children"?ii(i,h):Vc(i,d,h,u)}switch(l){case"input":jl(i,a);break;case"textarea":Mm(i,a);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Vs(i,!!a.multiple,p,!1):y!==!!a.multiple&&(a.defaultValue!=null?Vs(i,!!a.multiple,a.defaultValue,!0):Vs(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(v){ve(e,e.return,v)}}break;case 6:if(jt(t,e),Ot(e),n&4){if(e.stateNode===null)throw Error(B(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){ve(e,e.return,v)}}break;case 3:if(jt(t,e),Ot(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ci(t.containerInfo)}catch(v){ve(e,e.return,v)}break;case 4:jt(t,e),Ot(e);break;case 13:jt(t,e),Ot(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(_u=be())),n&4&&eh(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(De=(u=De)||d,jt(t,e),De=u):jt(t,e),Ot(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(V=e,d=e.child;d!==null;){for(h=V=d;V!==null;){switch(y=V,p=y.child,y.tag){case 0:case 11:case 14:case 15:ti(4,y,y.return);break;case 1:Ws(y,y.return);var g=y.stateNode;if(typeof g.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){ve(n,r,v)}}break;case 5:Ws(y,y.return);break;case 22:if(y.memoizedState!==null){rh(h);continue}}p!==null?(p.return=y,V=p):rh(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Am("display",o))}catch(v){ve(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ve(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jt(t,e),Ot(e),n&4&&eh(e);break;case 21:break;default:jt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(c0(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ii(i,""),n.flags&=-33);var a=Zd(e);sc(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Zd(e);rc(e,l,o);break;default:throw Error(B(161))}}catch(c){ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sy(e,t,r){V=e,h0(e)}function h0(e,t,r){for(var n=(e.mode&1)!==0;V!==null;){var i=V,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||ea;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||De;l=ea;var u=De;if(ea=o,(De=c)&&!u)for(V=i;V!==null;)o=V,c=o.child,o.tag===22&&o.memoizedState!==null?sh(i):c!==null?(c.return=o,V=c):sh(i);for(;a!==null;)V=a,h0(a),a=a.sibling;V=i,ea=l,De=u}th(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,V=a):th(e)}}function th(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||po(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!De)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Nt(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&$d(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$d(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ci(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}De||t.flags&512&&tc(t)}catch(y){ve(t,t.return,y)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function rh(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function sh(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{po(4,t)}catch(c){ve(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){ve(t,i,c)}}var a=t.return;try{tc(t)}catch(c){ve(t,a,c)}break;case 5:var o=t.return;try{tc(t)}catch(c){ve(t,o,c)}}}catch(c){ve(t,t.return,c)}if(t===e){V=null;break}var l=t.sibling;if(l!==null){l.return=t.return,V=l;break}V=t.return}}var ny=Math.ceil,Qa=cr.ReactCurrentDispatcher,ju=cr.ReactCurrentOwner,yt=cr.ReactCurrentBatchConfig,se=0,Re=null,je=null,Me=0,at=0,Us=Yr(0),Se=0,bi=null,js=0,xo=0,Nu=0,ri=null,Ge=null,_u=0,xn=1/0,Yt=null,Ya=!1,nc=null,$r=null,ta=!1,Tr=null,Ka=0,si=0,ic=null,ga=-1,ya=0;function Ve(){return se&6?be():ga!==-1?ga:ga=be()}function Ir(e){return e.mode&1?se&2&&Me!==0?Me&-Me:zg.transition!==null?(ya===0&&(ya=Km()),ya):(e=oe,e!==0||(e=window.event,e=e===void 0?16:rf(e.type)),e):1}function Lt(e,t,r,n){if(50<si)throw si=0,ic=null,Error(B(185));Ri(e,r,n),(!(se&2)||e!==Re)&&(e===Re&&(!(se&2)&&(xo|=r),Se===4&&wr(e,Me)),et(e,n),r===1&&se===0&&!(t.mode&1)&&(xn=be()+500,ho&&Kr()))}function et(e,t){var r=e.callbackNode;zx(e,t);var n=Ta(e,e===Re?Me:0);if(n===0)r!==null&&hd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&hd(r),t===1)e.tag===0?Ig(nh.bind(null,e)):jf(nh.bind(null,e)),Ag(function(){!(se&6)&&Kr()}),r=null;else{switch(Gm(n)){case 1:r=Gc;break;case 4:r=Qm;break;case 16:r=Ra;break;case 536870912:r=Ym;break;default:r=Ra}r=b0(r,m0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function m0(e,t){if(ga=-1,ya=0,se&6)throw Error(B(327));var r=e.callbackNode;if(Gs()&&e.callbackNode!==r)return null;var n=Ta(e,e===Re?Me:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ga(e,n);else{t=n;var i=se;se|=2;var a=p0();(Re!==e||Me!==t)&&(Yt=null,xn=be()+500,xs(e,t));do try{oy();break}catch(l){f0(e,l)}while(!0);cu(),Qa.current=a,se=i,je!==null?t=0:(Re=null,Me=0,t=Se)}if(t!==0){if(t===2&&(i=Tl(e),i!==0&&(n=i,t=ac(e,i))),t===1)throw r=bi,xs(e,0),wr(e,n),et(e,be()),r;if(t===6)wr(e,n);else{if(i=e.current.alternate,!(n&30)&&!iy(i)&&(t=Ga(e,n),t===2&&(a=Tl(e),a!==0&&(n=a,t=ac(e,a))),t===1))throw r=bi,xs(e,0),wr(e,n),et(e,be()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(B(345));case 2:Zr(e,Ge,Yt);break;case 3:if(wr(e,n),(n&130023424)===n&&(t=_u+500-be(),10<t)){if(Ta(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ve(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Il(Zr.bind(null,e,Ge,Yt),t);break}Zr(e,Ge,Yt);break;case 4:if(wr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Pt(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=be()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ny(n/1960))-n,10<n){e.timeoutHandle=Il(Zr.bind(null,e,Ge,Yt),n);break}Zr(e,Ge,Yt);break;case 5:Zr(e,Ge,Yt);break;default:throw Error(B(329))}}}return et(e,be()),e.callbackNode===r?m0.bind(null,e):null}function ac(e,t){var r=ri;return e.current.memoizedState.isDehydrated&&(xs(e,t).flags|=256),e=Ga(e,t),e!==2&&(t=Ge,Ge=r,t!==null&&oc(t)),e}function oc(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function iy(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Rt(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wr(e,t){for(t&=~Nu,t&=~xo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pt(t),n=1<<r;e[r]=-1,t&=~n}}function nh(e){if(se&6)throw Error(B(327));Gs();var t=Ta(e,0);if(!(t&1))return et(e,be()),null;var r=Ga(e,t);if(e.tag!==0&&r===2){var n=Tl(e);n!==0&&(t=n,r=ac(e,n))}if(r===1)throw r=bi,xs(e,0),wr(e,t),et(e,be()),r;if(r===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zr(e,Ge,Yt),et(e,be()),null}function ku(e,t){var r=se;se|=1;try{return e(t)}finally{se=r,se===0&&(xn=be()+500,ho&&Kr())}}function Ns(e){Tr!==null&&Tr.tag===0&&!(se&6)&&Gs();var t=se;se|=1;var r=yt.transition,n=oe;try{if(yt.transition=null,oe=1,e)return e()}finally{oe=n,yt.transition=r,se=t,!(se&6)&&Kr()}}function Su(){at=Us.current,he(Us)}function xs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Fg(r)),je!==null)for(r=je.return;r!==null;){var n=r;switch(au(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Da();break;case 3:fn(),he(Xe),he(Ie),pu();break;case 5:fu(n);break;case 4:fn();break;case 13:he(pe);break;case 19:he(pe);break;case 10:uu(n.type._context);break;case 22:case 23:Su()}r=r.return}if(Re=e,je=e=zr(e.current,null),Me=at=t,Se=0,bi=null,Nu=xo=js=0,Ge=ri=null,ss!==null){for(t=0;t<ss.length;t++)if(r=ss[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}ss=null}return e}function f0(e,t){do{var r=je;try{if(cu(),fa.current=Ha,Va){for(var n=xe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Va=!1}if(ws=0,Le=_e=xe=null,ei=!1,gi=0,ju.current=null,r===null||r.return===null){Se=1,bi=t,je=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Me,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var y=d.alternate;y?(d.updateQueue=y.updateQueue,d.memoizedState=y.memoizedState,d.lanes=y.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Vd(o);if(p!==null){p.flags&=-257,Hd(p,o,l,a,t),p.mode&1&&Ud(a,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){Ud(a,u,t),Cu();break e}c=Error(B(426))}}else if(fe&&l.mode&1){var N=Vd(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Hd(N,o,l,a,t),ou(pn(c,l));break e}}a=c=pn(c,l),Se!==4&&(Se=2),ri===null?ri=[a]:ri.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=Jf(a,c,t);Bd(a,x);break e;case 1:l=c;var f=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&($r===null||!$r.has(m)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=Xf(a,l,t);Bd(a,_);break e}}a=a.return}while(a!==null)}g0(r)}catch(E){t=E,je===r&&r!==null&&(je=r=r.return);continue}break}while(!0)}function p0(){var e=Qa.current;return Qa.current=Ha,e===null?Ha:e}function Cu(){(Se===0||Se===3||Se===2)&&(Se=4),Re===null||!(js&268435455)&&!(xo&268435455)||wr(Re,Me)}function Ga(e,t){var r=se;se|=2;var n=p0();(Re!==e||Me!==t)&&(Yt=null,xs(e,t));do try{ay();break}catch(i){f0(e,i)}while(!0);if(cu(),se=r,Qa.current=n,je!==null)throw Error(B(261));return Re=null,Me=0,Se}function ay(){for(;je!==null;)x0(je)}function oy(){for(;je!==null&&!Tx();)x0(je)}function x0(e){var t=v0(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?g0(e):je=t,ju.current=null}function g0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ey(r,t),r!==null){r.flags&=32767,je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,je=null;return}}else if(r=Zg(r,t,at),r!==null){je=r;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Se===0&&(Se=5)}function Zr(e,t,r){var n=oe,i=yt.transition;try{yt.transition=null,oe=1,ly(e,t,r,n)}finally{yt.transition=i,oe=n}return null}function ly(e,t,r,n){do Gs();while(Tr!==null);if(se&6)throw Error(B(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(qx(e,a),e===Re&&(je=Re=null,Me=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ta||(ta=!0,b0(Ra,function(){return Gs(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=yt.transition,yt.transition=null;var o=oe;oe=1;var l=se;se|=4,ju.current=null,ry(e,r),d0(r,e),Eg(Bl),Ma=!!Dl,Bl=Dl=null,e.current=r,sy(r),Mx(),se=l,oe=o,yt.transition=a}else e.current=r;if(ta&&(ta=!1,Tr=e,Ka=i),a=e.pendingLanes,a===0&&($r=null),Ax(r.stateNode),et(e,be()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ya)throw Ya=!1,e=nc,nc=null,e;return Ka&1&&e.tag!==0&&Gs(),a=e.pendingLanes,a&1?e===ic?si++:(si=0,ic=e):si=0,Kr(),null}function Gs(){if(Tr!==null){var e=Gm(Ka),t=yt.transition,r=oe;try{if(yt.transition=null,oe=16>e?16:e,Tr===null)var n=!1;else{if(e=Tr,Tr=null,Ka=0,se&6)throw Error(B(331));var i=se;for(se|=4,V=e.current;V!==null;){var a=V,o=a.child;if(V.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(V=u;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:ti(8,d,a)}var h=d.child;if(h!==null)h.return=d,V=h;else for(;V!==null;){d=V;var y=d.sibling,p=d.return;if(l0(d),d===u){V=null;break}if(y!==null){y.return=p,V=y;break}V=p}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var N=v.sibling;v.sibling=null,v=N}while(v!==null)}}V=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,V=o;else e:for(;V!==null;){if(a=V,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ti(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,V=x;break e}V=a.return}}var f=e.current;for(V=f;V!==null;){o=V;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,V=m;else e:for(o=f;V!==null;){if(l=V,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:po(9,l)}}catch(E){ve(l,l.return,E)}if(l===o){V=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,V=_;break e}V=l.return}}if(se=i,Kr(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(ao,e)}catch{}n=!0}return n}finally{oe=r,yt.transition=t}}return!1}function ih(e,t,r){t=pn(r,t),t=Jf(e,t,1),e=Br(e,t,1),t=Ve(),e!==null&&(Ri(e,1,t),et(e,t))}function ve(e,t,r){if(e.tag===3)ih(e,e,r);else for(;t!==null;){if(t.tag===3){ih(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($r===null||!$r.has(n))){e=pn(r,e),e=Xf(t,e,1),t=Br(t,e,1),e=Ve(),t!==null&&(Ri(t,1,e),et(t,e));break}}t=t.return}}function cy(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&r,Re===e&&(Me&r)===r&&(Se===4||Se===3&&(Me&130023424)===Me&&500>be()-_u?xs(e,0):Nu|=r),et(e,t)}function y0(e,t){t===0&&(e.mode&1?(t=Vi,Vi<<=1,!(Vi&130023424)&&(Vi=4194304)):t=1);var r=Ve();e=ar(e,t),e!==null&&(Ri(e,t,r),et(e,r))}function uy(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),y0(e,r)}function dy(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(t),y0(e,r)}var v0;v0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Je=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Je=!1,Xg(e,t,r);Je=!!(e.flags&131072)}else Je=!1,fe&&t.flags&1048576&&Nf(t,Ia,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;xa(e,t),e=t.pendingProps;var i=dn(t,Ie.current);Ks(t,r),i=gu(null,t,n,e,i,r);var a=yu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(n)?(a=!0,Ba(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hu(t),i.updater=fo,t.stateNode=i,i._reactInternals=t,Ql(t,n,e,r),t=Gl(null,t,n,!0,a,r)):(t.tag=0,fe&&a&&iu(t),We(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(xa(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=my(n),e=Nt(n,e),i){case 0:t=Kl(null,t,n,e,r);break e;case 1:t=Kd(null,t,n,e,r);break e;case 11:t=Qd(null,t,n,e,r);break e;case 14:t=Yd(null,t,n,Nt(n.type,e),r);break e}throw Error(B(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Nt(n,i),Kl(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Nt(n,i),Kd(e,t,n,i,r);case 3:e:{if(r0(t),e===null)throw Error(B(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Pf(e,t),Wa(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=pn(Error(B(423)),t),t=Gd(e,t,n,r,i);break e}else if(n!==i){i=pn(Error(B(424)),t),t=Gd(e,t,n,r,i);break e}else for(ot=Dr(t.stateNode.containerInfo.firstChild),lt=t,fe=!0,Et=null,r=Cf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hn(),n===i){t=or(e,t,r);break e}We(e,t,n,r)}t=t.child}return t;case 5:return Lf(t),e===null&&Ul(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,$l(n,i)?o=null:a!==null&&$l(n,a)&&(t.flags|=32),t0(e,t),We(e,t,o,r),t.child;case 6:return e===null&&Ul(t),null;case 13:return s0(e,t,r);case 4:return mu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=mn(t,null,n,r):We(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Nt(n,i),Qd(e,t,n,i,r);case 7:return We(e,t,t.pendingProps,r),t.child;case 8:return We(e,t,t.pendingProps.children,r),t.child;case 12:return We(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ue(za,n._currentValue),n._currentValue=o,a!==null)if(Rt(a.value,o)){if(a.children===i.children&&!Xe.current){t=or(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=rr(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Vl(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(B(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Vl(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}We(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ks(t,r),i=vt(i),n=n(i),t.flags|=1,We(e,t,n,r),t.child;case 14:return n=t.type,i=Nt(n,t.pendingProps),i=Nt(n.type,i),Yd(e,t,n,i,r);case 15:return Zf(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Nt(n,i),xa(e,t),t.tag=1,Ze(n)?(e=!0,Ba(t)):e=!1,Ks(t,r),Gf(t,n,i),Ql(t,n,i,r),Gl(null,t,n,!0,e,r);case 19:return n0(e,t,r);case 22:return e0(e,t,r)}throw Error(B(156,t.tag))};function b0(e,t){return Hm(e,t)}function hy(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,r,n){return new hy(e,t,r,n)}function Eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function my(e){if(typeof e=="function")return Eu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qc)return 11;if(e===Yc)return 14}return 2}function zr(e,t){var r=e.alternate;return r===null?(r=gt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function va(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")Eu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Os:return gs(r.children,i,a,t);case Hc:o=8,i|=8;break;case gl:return e=gt(12,r,t,i|2),e.elementType=gl,e.lanes=a,e;case yl:return e=gt(13,r,t,i),e.elementType=yl,e.lanes=a,e;case vl:return e=gt(19,r,t,i),e.elementType=vl,e.lanes=a,e;case Pm:return go(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cm:o=10;break e;case Em:o=9;break e;case Qc:o=11;break e;case Yc:o=14;break e;case gr:o=16,n=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=gt(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function gs(e,t,r,n){return e=gt(7,e,n,t),e.lanes=r,e}function go(e,t,r,n){return e=gt(22,e,n,t),e.elementType=Pm,e.lanes=r,e.stateNode={isHidden:!1},e}function il(e,t,r){return e=gt(6,e,null,t),e.lanes=r,e}function al(e,t,r){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fy(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Io(0),this.expirationTimes=Io(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Io(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pu(e,t,r,n,i,a,o,l,c){return e=new fy(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=gt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hu(a),e}function py(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ms,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function w0(e){if(!e)return Hr;e=e._reactInternals;e:{if(Es(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var r=e.type;if(Ze(r))return wf(e,r,t)}return t}function j0(e,t,r,n,i,a,o,l,c){return e=Pu(r,n,!0,e,i,a,o,l,c),e.context=w0(null),r=e.current,n=Ve(),i=Ir(r),a=rr(n,i),a.callback=t??null,Br(r,a,i),e.current.lanes=i,Ri(e,i,n),et(e,n),e}function yo(e,t,r,n){var i=t.current,a=Ve(),o=Ir(i);return r=w0(r),t.context===null?t.context=r:t.pendingContext=r,t=rr(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Br(i,t,o),e!==null&&(Lt(e,i,o,a),ma(e,i,o)),o}function Ja(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ah(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Lu(e,t){ah(e,t),(e=e.alternate)&&ah(e,t)}function xy(){return null}var N0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ru(e){this._internalRoot=e}vo.prototype.render=Ru.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));yo(e,t,null,null)};vo.prototype.unmount=Ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ns(function(){yo(null,e,null,null)}),t[ir]=null}};function vo(e){this._internalRoot=e}vo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zm();e={blockedOn:null,target:e,priority:t};for(var r=0;r<br.length&&t!==0&&t<br[r].priority;r++);br.splice(r,0,e),r===0&&tf(e)}};function Tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function oh(){}function gy(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Ja(o);a.call(u)}}var o=j0(t,n,e,0,null,!1,!1,"",oh);return e._reactRootContainer=o,e[ir]=o.current,hi(e.nodeType===8?e.parentNode:e),Ns(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=Ja(c);l.call(u)}}var c=Pu(e,0,!1,null,null,!1,!1,"",oh);return e._reactRootContainer=c,e[ir]=c.current,hi(e.nodeType===8?e.parentNode:e),Ns(function(){yo(t,c,r,n)}),c}function wo(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Ja(o);l.call(c)}}yo(t,o,e,i)}else o=gy(r,t,e,i,n);return Ja(o)}Jm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vn(t.pendingLanes);r!==0&&(Jc(t,r|1),et(t,be()),!(se&6)&&(xn=be()+500,Kr()))}break;case 13:Ns(function(){var n=ar(e,1);if(n!==null){var i=Ve();Lt(n,e,1,i)}}),Lu(e,1)}};Xc=function(e){if(e.tag===13){var t=ar(e,134217728);if(t!==null){var r=Ve();Lt(t,e,134217728,r)}Lu(e,134217728)}};Xm=function(e){if(e.tag===13){var t=Ir(e),r=ar(e,t);if(r!==null){var n=Ve();Lt(r,e,t,n)}Lu(e,t)}};Zm=function(){return oe};ef=function(e,t){var r=oe;try{return oe=e,t()}finally{oe=r}};Pl=function(e,t,r){switch(t){case"input":if(jl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=uo(n);if(!i)throw Error(B(90));Rm(n),jl(n,i)}}}break;case"textarea":Mm(e,r);break;case"select":t=r.value,t!=null&&Vs(e,!!r.multiple,t,!1)}};Im=ku;zm=Ns;var yy={usingClientEntryPoint:!1,Events:[Mi,Bs,uo,Bm,$m,ku]},Dn={findFiberByHostInstance:rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vy={bundleType:Dn.bundleType,version:Dn.version,rendererPackageName:Dn.rendererPackageName,rendererConfig:Dn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Um(e),e===null?null:e.stateNode},findFiberByHostInstance:Dn.findFiberByHostInstance||xy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ra.isDisabled&&ra.supportsFiber)try{ao=ra.inject(vy),qt=ra}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yy;ut.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tu(t))throw Error(B(200));return py(e,t,null,r)};ut.createRoot=function(e,t){if(!Tu(e))throw Error(B(299));var r=!1,n="",i=N0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Pu(e,1,!1,null,null,r,!1,n,i),e[ir]=t.current,hi(e.nodeType===8?e.parentNode:e),new Ru(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=Um(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return Ns(e)};ut.hydrate=function(e,t,r){if(!bo(t))throw Error(B(200));return wo(null,e,t,!0,r)};ut.hydrateRoot=function(e,t,r){if(!Tu(e))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=N0;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=j0(t,null,e,1,r??null,i,!1,a,o),e[ir]=t.current,hi(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new vo(t)};ut.render=function(e,t,r){if(!bo(t))throw Error(B(200));return wo(null,e,t,!1,r)};ut.unmountComponentAtNode=function(e){if(!bo(e))throw Error(B(40));return e._reactRootContainer?(Ns(function(){wo(null,null,e,!1,function(){e._reactRootContainer=null,e[ir]=null})}),!0):!1};ut.unstable_batchedUpdates=ku;ut.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!bo(r))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return wo(e,t,r,!1,n)};ut.version="18.3.1-next-f1338f8080-20240426";function _0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_0)}catch(e){console.error(e)}}_0(),Nm.exports=ut;var by=Nm.exports,k0,lh=by;k0=lh.createRoot,lh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wi.apply(this,arguments)}var Mr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mr||(Mr={}));const ch="popstate";function wy(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:l}=n.location;return lc("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Xa(i)}return Ny(t,r,null,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function S0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jy(){return Math.random().toString(36).substr(2,8)}function uh(e,t){return{usr:e.state,key:e.key,idx:t}}function lc(e,t,r,n){return r===void 0&&(r=null),wi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wn(t):t,{state:r,key:t&&t.key||n||jy()})}function Xa(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Ny(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=Mr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(wi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Mr.Pop;let N=d(),x=N==null?null:N-u;u=N,c&&c({action:l,location:v.location,delta:x})}function y(N,x){l=Mr.Push;let f=lc(v.location,N,x);u=d()+1;let m=uh(f,u),_=v.createHref(f);try{o.pushState(m,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(_)}a&&c&&c({action:l,location:v.location,delta:1})}function p(N,x){l=Mr.Replace;let f=lc(v.location,N,x);u=d();let m=uh(f,u),_=v.createHref(f);o.replaceState(m,"",_),a&&c&&c({action:l,location:v.location,delta:0})}function g(N){let x=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof N=="string"?N:Xa(N);return f=f.replace(/ $/,"%20"),we(x,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,x)}let v={get action(){return l},get location(){return e(i,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ch,h),c=N,()=>{i.removeEventListener(ch,h),c=null}},createHref(N){return t(i,N)},createURL:g,encodeLocation(N){let x=g(N);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:y,replace:p,go(N){return o.go(N)}};return v}var dh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dh||(dh={}));function _y(e,t,r){return r===void 0&&(r="/"),ky(e,t,r)}function ky(e,t,r,n){let i=typeof t=="string"?wn(t):t,a=Mu(i.pathname||"/",r);if(a==null)return null;let o=C0(e);Sy(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=By(a);l=Fy(o[c],u)}return l}function C0(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(we(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=qr([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(we(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),C0(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:My(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of E0(a.path))i(a,o,c)}),t}function E0(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=E0(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Sy(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Oy(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Cy=/^:[\w-]+$/,Ey=3,Py=2,Ly=1,Ry=10,Ty=-2,hh=e=>e==="*";function My(e,t){let r=e.split("/"),n=r.length;return r.some(hh)&&(n+=Ty),t&&(n+=Py),r.filter(i=>!hh(i)).reduce((i,a)=>i+(Cy.test(a)?Ey:a===""?Ly:Ry),n)}function Oy(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Fy(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=Ay({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),y=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:qr([a,h.pathname]),pathnameBase:qy(qr([a,h.pathnameBase])),route:y}),h.pathnameBase!=="/"&&(a=qr([a,h.pathnameBase]))}return o}function Ay(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Dy(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:y,isOptional:p}=d;if(y==="*"){let v=l[h]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[h];return p&&!g?u[y]=void 0:u[y]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Dy(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),S0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function By(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return S0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Mu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function $y(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?wn(e):e;return{pathname:r?r.startsWith("/")?r:Iy(r,t):t,search:Wy(n),hash:Uy(i)}}function Iy(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ol(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zy(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ou(e,t){let r=zy(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Fu(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=wn(e):(i=wi({},e),we(!i.pathname||!i.pathname.includes("?"),ol("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),ol("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),ol("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),h-=1;i.pathname=y.join("/")}l=h>=0?t[h]:"/"}let c=$y(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const qr=e=>e.join("/").replace(/\/\/+/g,"/"),qy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Wy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Uy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Vy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const P0=["post","put","patch","delete"];new Set(P0);const Hy=["get",...P0];new Set(Hy);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ji.apply(this,arguments)}const Au=C.createContext(null),Qy=C.createContext(null),Gr=C.createContext(null),jo=C.createContext(null),ur=C.createContext({outlet:null,matches:[],isDataRoute:!1}),L0=C.createContext(null);function Yy(e,t){let{relative:r}=t===void 0?{}:t;jn()||we(!1);let{basename:n,navigator:i}=C.useContext(Gr),{hash:a,pathname:o,search:l}=T0(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:qr([n,o])),i.createHref({pathname:c,search:l,hash:a})}function jn(){return C.useContext(jo)!=null}function Ps(){return jn()||we(!1),C.useContext(jo).location}function R0(e){C.useContext(Gr).static||C.useLayoutEffect(e)}function dr(){let{isDataRoute:e}=C.useContext(ur);return e?ov():Ky()}function Ky(){jn()||we(!1);let e=C.useContext(Au),{basename:t,future:r,navigator:n}=C.useContext(Gr),{matches:i}=C.useContext(ur),{pathname:a}=Ps(),o=JSON.stringify(Ou(i,r.v7_relativeSplatPath)),l=C.useRef(!1);return R0(()=>{l.current=!0}),C.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Fu(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:qr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,a,e])}function Du(){let{matches:e}=C.useContext(ur),t=e[e.length-1];return t?t.params:{}}function T0(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=C.useContext(Gr),{matches:i}=C.useContext(ur),{pathname:a}=Ps(),o=JSON.stringify(Ou(i,n.v7_relativeSplatPath));return C.useMemo(()=>Fu(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function Gy(e,t){return Jy(e,t)}function Jy(e,t,r,n){jn()||we(!1);let{navigator:i}=C.useContext(Gr),{matches:a}=C.useContext(ur),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ps(),d;if(t){var h;let N=typeof t=="string"?wn(t):t;c==="/"||(h=N.pathname)!=null&&h.startsWith(c)||we(!1),d=N}else d=u;let y=d.pathname||"/",p=y;if(c!=="/"){let N=c.replace(/^\//,"").split("/");p="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let g=_y(e,{pathname:p}),v=rv(g&&g.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:qr([c,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:qr([c,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,r,n);return t&&v?C.createElement(jo.Provider,{value:{location:ji({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Mr.Pop}},v):v}function Xy(){let e=av(),t=Vy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:i},r):null,null)}const Zy=C.createElement(Xy,null);class ev extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?C.createElement(ur.Provider,{value:this.props.routeContext},C.createElement(L0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tv(e){let{routeContext:t,match:r,children:n}=e,i=C.useContext(Au);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(ur.Provider,{value:t},n)}function rv(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||we(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:y,errors:p}=r,g=h.route.loader&&y[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,y)=>{let p,g=!1,v=null,N=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||Zy,c&&(u<0&&y===0?(lv("route-fallback"),g=!0,N=null):u===y&&(g=!0,N=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,y+1)),f=()=>{let m;return p?m=v:g?m=N:h.route.Component?m=C.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,C.createElement(tv,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:m})};return r&&(h.route.ErrorBoundary||h.route.errorElement||y===0)?C.createElement(ev,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:f(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):f()},null)}var M0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(M0||{}),O0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(O0||{});function sv(e){let t=C.useContext(Au);return t||we(!1),t}function nv(e){let t=C.useContext(Qy);return t||we(!1),t}function iv(e){let t=C.useContext(ur);return t||we(!1),t}function F0(e){let t=iv(),r=t.matches[t.matches.length-1];return r.route.id||we(!1),r.route.id}function av(){var e;let t=C.useContext(L0),r=nv(),n=F0();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ov(){let{router:e}=sv(M0.UseNavigateStable),t=F0(O0.UseNavigateStable),r=C.useRef(!1);return R0(()=>{r.current=!0}),C.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ji({fromRouteId:t},a)))},[e,t])}const mh={};function lv(e,t,r){mh[e]||(mh[e]=!0)}function cv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function uv(e){let{to:t,replace:r,state:n,relative:i}=e;jn()||we(!1);let{future:a,static:o}=C.useContext(Gr),{matches:l}=C.useContext(ur),{pathname:c}=Ps(),u=dr(),d=Fu(t,Ou(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return C.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function Ee(e){we(!1)}function dv(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Mr.Pop,navigator:a,static:o=!1,future:l}=e;jn()&&we(!1);let c=t.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:a,static:o,future:ji({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=wn(n));let{pathname:d="/",search:h="",hash:y="",state:p=null,key:g="default"}=n,v=C.useMemo(()=>{let N=Mu(d,c);return N==null?null:{location:{pathname:N,search:h,hash:y,state:p,key:g},navigationType:i}},[c,d,h,y,p,g,i]);return v==null?null:C.createElement(Gr.Provider,{value:u},C.createElement(jo.Provider,{children:r,value:v}))}function hv(e){let{children:t,location:r}=e;return Gy(cc(t),r)}new Promise(()=>{});function cc(e,t){t===void 0&&(t=[]);let r=[];return C.Children.forEach(e,(n,i)=>{if(!C.isValidElement(n))return;let a=[...t,i];if(n.type===C.Fragment){r.push.apply(r,cc(n.props.children,a));return}n.type!==Ee&&we(!1),!n.props.index||!n.props.children||we(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=cc(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uc.apply(this,arguments)}function mv(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function fv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pv(e,t){return e.button===0&&(!t||t==="_self")&&!fv(e)}function dc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function xv(e,t){let r=dc(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const gv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yv="6";try{window.__reactRouterVersion=yv}catch{}const vv="startTransition",fh=cx[vv];function bv(e){let{basename:t,children:r,future:n,window:i}=e,a=C.useRef();a.current==null&&(a.current=wy({window:i,v5Compat:!0}));let o=a.current,[l,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=C.useCallback(h=>{u&&fh?fh(()=>c(h)):c(h)},[c,u]);return C.useLayoutEffect(()=>o.listen(d),[o,d]),C.useEffect(()=>cv(n),[n]),C.createElement(dv,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const wv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H=C.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,y=mv(t,gv),{basename:p}=C.useContext(Gr),g,v=!1;if(typeof u=="string"&&jv.test(u)&&(g=u,wv))try{let m=new URL(window.location.href),_=u.startsWith("//")?new URL(m.protocol+u):new URL(u),E=Mu(_.pathname,p);_.origin===m.origin&&E!=null?u=E+_.search+_.hash:v=!0}catch{}let N=Yy(u,{relative:i}),x=Nv(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function f(m){n&&n(m),m.defaultPrevented||x(m)}return C.createElement("a",uc({},y,{href:g||N,onClick:v||a?n:f,ref:r,target:c}))});var ph;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ph||(ph={}));var xh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xh||(xh={}));function Nv(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=dr(),u=Ps(),d=T0(e,{relative:o});return C.useCallback(h=>{if(pv(h,r)){h.preventDefault();let y=n!==void 0?n:Xa(u)===Xa(d);c(e,{replace:y,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,i,r,e,a,o,l])}function Nn(e){let t=C.useRef(dc(e)),r=C.useRef(!1),n=Ps(),i=C.useMemo(()=>xv(n.search,r.current?null:t.current),[n.search]),a=dr(),o=C.useCallback((l,c)=>{const u=dc(typeof l=="function"?l(i):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,o]}var _n=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_v={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},jr,Bc,tm,kv=(tm=class{constructor(){Q(this,jr,_v);Q(this,Bc,!1)}setTimeoutProvider(e){W(this,jr,e)}setTimeout(e,t){return k(this,jr).setTimeout(e,t)}clearTimeout(e){k(this,jr).clearTimeout(e)}setInterval(e,t){return k(this,jr).setInterval(e,t)}clearInterval(e){k(this,jr).clearInterval(e)}},jr=new WeakMap,Bc=new WeakMap,tm),is=new kv;function Sv(e){setTimeout(e,0)}var _s=typeof window>"u"||"Deno"in globalThis;function Ue(){}function Cv(e,t){return typeof e=="function"?e(t):e}function hc(e){return typeof e=="number"&&e>=0&&e!==1/0}function A0(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wr(e,t){return typeof e=="function"?e(t):e}function mt(e,t){return typeof e=="function"?e(t):e}function gh(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Bu(o,t.options))return!1}else if(!Ni(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function yh(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(ks(t.options.mutationKey)!==ks(a))return!1}else if(!Ni(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function Bu(e,t){return((t==null?void 0:t.queryKeyHashFn)||ks)(e)}function ks(e){return JSON.stringify(e,(t,r)=>mc(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Ni(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ni(e[r],t[r])):!1}var Ev=Object.prototype.hasOwnProperty;function D0(e,t){if(e===t)return e;const r=vh(e)&&vh(t);if(!r&&!(mc(e)&&mc(t)))return t;const i=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),o=a.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u],h=e[d],y=t[d];if(h===y){l[d]=h,(r?u<i:Ev.call(e,d))&&c++;continue}if(h===null||y===null||typeof h!="object"||typeof y!="object"){l[d]=y;continue}const p=D0(h,y);l[d]=p,p===h&&c++}return i===o&&c===i?e:l}function Za(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function vh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mc(e){if(!bh(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!bh(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function bh(e){return Object.prototype.toString.call(e)==="[object Object]"}function Pv(e){return new Promise(t=>{is.setTimeout(t,e)})}function fc(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?D0(e,t):t}function Lv(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Rv(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var $u=Symbol();function B0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===$u?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function $0(e,t){return typeof e=="function"?e(...t):!!e}var os,Nr,Js,rm,Tv=(rm=class extends _n{constructor(){super();Q(this,os);Q(this,Nr);Q(this,Js);W(this,Js,t=>{if(!_s&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){k(this,Nr)||this.setEventListener(k(this,Js))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,Nr))==null||t.call(this),W(this,Nr,void 0))}setEventListener(t){var r;W(this,Js,t),(r=k(this,Nr))==null||r.call(this),W(this,Nr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){k(this,os)!==t&&(W(this,os,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof k(this,os)=="boolean"?k(this,os):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},os=new WeakMap,Nr=new WeakMap,Js=new WeakMap,rm),Iu=new Tv;function pc(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}var Mv=Sv;function Ov(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=Mv;const a=l=>{t?e.push(l):i(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var ke=Ov(),Xs,_r,Zs,sm,Fv=(sm=class extends _n{constructor(){super();Q(this,Xs,!0);Q(this,_r);Q(this,Zs);W(this,Zs,t=>{if(!_s&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){k(this,_r)||this.setEventListener(k(this,Zs))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,_r))==null||t.call(this),W(this,_r,void 0))}setEventListener(t){var r;W(this,Zs,t),(r=k(this,_r))==null||r.call(this),W(this,_r,t(this.setOnline.bind(this)))}setOnline(t){k(this,Xs)!==t&&(W(this,Xs,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return k(this,Xs)}},Xs=new WeakMap,_r=new WeakMap,Zs=new WeakMap,sm),eo=new Fv;function Av(e){return Math.min(1e3*2**e,3e4)}function I0(e){return(e??"online")==="online"?eo.isOnline():!0}var xc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function z0(e){let t=!1,r=0,n;const i=pc(),a=()=>i.status!=="pending",o=v=>{var N;if(!a()){const x=new xc(v);y(x),(N=e.onCancel)==null||N.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Iu.isFocused()&&(e.networkMode==="always"||eo.isOnline())&&e.canRun(),d=()=>I0(e.networkMode)&&e.canRun(),h=v=>{a()||(n==null||n(),i.resolve(v))},y=v=>{a()||(n==null||n(),i.reject(v))},p=()=>new Promise(v=>{var N;n=x=>{(a()||u())&&v(x)},(N=e.onPause)==null||N.call(e)}).then(()=>{var v;n=void 0,a()||(v=e.onContinue)==null||v.call(e)}),g=()=>{if(a())return;let v;const N=r===0?e.initialPromise:void 0;try{v=N??e.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(h).catch(x=>{var w;if(a())return;const f=e.retry??(_s?0:3),m=e.retryDelay??Av,_=typeof m=="function"?m(r,x):m,E=f===!0||typeof f=="number"&&r<f||typeof f=="function"&&f(r,x);if(t||!E){y(x);return}r++,(w=e.onFail)==null||w.call(e,r,x),Pv(_).then(()=>u()?void 0:p()).then(()=>{t?y(x):g()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),i)}}var ls,nm,q0=(nm=class{constructor(){Q(this,ls)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hc(this.gcTime)&&W(this,ls,is.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_s?1/0:5*60*1e3))}clearGcTimeout(){k(this,ls)&&(is.clearTimeout(k(this,ls)),W(this,ls,void 0))}},ls=new WeakMap,nm),cs,en,ht,us,Pe,ki,ds,_t,Qt,im,Dv=(im=class extends q0{constructor(t){super();Q(this,_t);Q(this,cs);Q(this,en);Q(this,ht);Q(this,us);Q(this,Pe);Q(this,ki);Q(this,ds);W(this,ds,!1),W(this,ki,t.defaultOptions),this.setOptions(t.options),this.observers=[],W(this,us,t.client),W(this,ht,k(this,us).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,W(this,cs,wh(this.options)),this.state=t.state??k(this,cs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=k(this,Pe))==null?void 0:t.promise}setOptions(t){if(this.options={...k(this,ki),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=wh(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),W(this,cs,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,ht).remove(this)}setData(t,r){const n=fc(this.state.data,t,this.options);return X(this,_t,Qt).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){X(this,_t,Qt).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=k(this,Pe))==null?void 0:n.promise;return(i=k(this,Pe))==null||i.cancel(t),r?r.then(Ue).catch(Ue):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,cs))}isActive(){return this.observers.some(t=>mt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$u||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Wr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!A0(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,Pe))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,Pe))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),k(this,ht).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(k(this,Pe)&&(k(this,ds)?k(this,Pe).cancel({revert:!0}):k(this,Pe).cancelRetry()),this.scheduleGc()),k(this,ht).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||X(this,_t,Qt).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,h,y,p,g,v,N,x,f,m;if(this.state.fetchStatus!=="idle"&&((c=k(this,Pe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(k(this,Pe))return k(this,Pe).continueRetry(),k(this,Pe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(E=>E.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,i=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(W(this,ds,!0),n.signal)})},a=()=>{const _=B0(this.options,r),w=(()=>{const j={client:k(this,us),queryKey:this.queryKey,meta:this.meta};return i(j),j})();return W(this,ds,!1),this.options.persister?this.options.persister(_,w,this):_(w)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:k(this,us),state:this.state,fetchFn:a};return i(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),W(this,en,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&X(this,_t,Qt).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),W(this,Pe,z0({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof xc&&_.revert&&this.setState({...k(this,en),fetchStatus:"idle"}),n.abort()},onFail:(_,E)=>{X(this,_t,Qt).call(this,{type:"failed",failureCount:_,error:E})},onPause:()=>{X(this,_t,Qt).call(this,{type:"pause"})},onContinue:()=>{X(this,_t,Qt).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await k(this,Pe).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(y=k(this,ht).config).onSuccess)==null||p.call(y,_,this),(v=(g=k(this,ht).config).onSettled)==null||v.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof xc){if(_.silent)return k(this,Pe).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw X(this,_t,Qt).call(this,{type:"error",error:_}),(x=(N=k(this,ht).config).onError)==null||x.call(N,_,this),(m=(f=k(this,ht).config).onSettled)==null||m.call(f,this.state.data,_,this),_}finally{this.scheduleGc()}}},cs=new WeakMap,en=new WeakMap,ht=new WeakMap,us=new WeakMap,Pe=new WeakMap,ki=new WeakMap,ds=new WeakMap,_t=new WeakSet,Qt=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...W0(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return W(this,en,t.manual?i:void 0),i;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ke.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),k(this,ht).notify({query:this,type:"updated",action:t})})},im);function W0(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:I0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wh(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ye,ee,Si,ze,hs,tn,Gt,kr,Ci,rn,sn,ms,fs,Sr,nn,ie,Qn,gc,yc,vc,bc,wc,jc,Nc,U0,am,Bv=(am=class extends _n{constructor(t,r){super();Q(this,ie);Q(this,Ye);Q(this,ee);Q(this,Si);Q(this,ze);Q(this,hs);Q(this,tn);Q(this,Gt);Q(this,kr);Q(this,Ci);Q(this,rn);Q(this,sn);Q(this,ms);Q(this,fs);Q(this,Sr);Q(this,nn,new Set);this.options=r,W(this,Ye,t),W(this,kr,null),W(this,Gt,pc()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,ee).addObserver(this),jh(k(this,ee),this.options)?X(this,ie,Qn).call(this):this.updateResult(),X(this,ie,bc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _c(k(this,ee),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _c(k(this,ee),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,X(this,ie,wc).call(this),X(this,ie,jc).call(this),k(this,ee).removeObserver(this)}setOptions(t){const r=this.options,n=k(this,ee);if(this.options=k(this,Ye).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mt(this.options.enabled,k(this,ee))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");X(this,ie,Nc).call(this),k(this,ee).setOptions(this.options),r._defaulted&&!Za(this.options,r)&&k(this,Ye).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,ee),observer:this});const i=this.hasListeners();i&&Nh(k(this,ee),n,this.options,r)&&X(this,ie,Qn).call(this),this.updateResult(),i&&(k(this,ee)!==n||mt(this.options.enabled,k(this,ee))!==mt(r.enabled,k(this,ee))||Wr(this.options.staleTime,k(this,ee))!==Wr(r.staleTime,k(this,ee)))&&X(this,ie,gc).call(this);const a=X(this,ie,yc).call(this);i&&(k(this,ee)!==n||mt(this.options.enabled,k(this,ee))!==mt(r.enabled,k(this,ee))||a!==k(this,Sr))&&X(this,ie,vc).call(this,a)}getOptimisticResult(t){const r=k(this,Ye).getQueryCache().build(k(this,Ye),t),n=this.createResult(r,t);return Iv(this,n)&&(W(this,ze,n),W(this,tn,this.options),W(this,hs,k(this,ee).state)),n}getCurrentResult(){return k(this,ze)}trackResult(t,r){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&!this.options.experimental_prefetchInRender&&k(this,Gt).status==="pending"&&k(this,Gt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,i))})}trackProp(t){k(this,nn).add(t)}getCurrentQuery(){return k(this,ee)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=k(this,Ye).defaultQueryOptions(t),n=k(this,Ye).getQueryCache().build(k(this,Ye),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return X(this,ie,Qn).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,ze)))}createResult(t,r){var $;const n=k(this,ee),i=this.options,a=k(this,ze),o=k(this,hs),l=k(this,tn),u=t!==n?t.state:k(this,Si),{state:d}=t;let h={...d},y=!1,p;if(r._optimisticResults){const F=this.hasListeners(),Y=!F&&jh(t,r),O=F&&Nh(t,n,r,i);(Y||O)&&(h={...h,...W0(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:N}=h;p=h.data;let x=!1;if(r.placeholderData!==void 0&&p===void 0&&N==="pending"){let F;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(F=a.data,x=!0):F=typeof r.placeholderData=="function"?r.placeholderData(($=k(this,sn))==null?void 0:$.state.data,k(this,sn)):r.placeholderData,F!==void 0&&(N="success",p=fc(a==null?void 0:a.data,F,r),y=!0)}if(r.select&&p!==void 0&&!x)if(a&&p===(o==null?void 0:o.data)&&r.select===k(this,Ci))p=k(this,rn);else try{W(this,Ci,r.select),p=r.select(p),p=fc(a==null?void 0:a.data,p,r),W(this,rn,p),W(this,kr,null)}catch(F){W(this,kr,F)}k(this,kr)&&(g=k(this,kr),p=k(this,rn),v=Date.now(),N="error");const f=h.fetchStatus==="fetching",m=N==="pending",_=N==="error",E=m&&f,w=p!==void 0,b={status:N,fetchStatus:h.fetchStatus,isPending:m,isSuccess:N==="success",isError:_,isInitialLoading:E,isLoading:E,data:p,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:f,isRefetching:f&&!m,isLoadingError:_&&!w,isPaused:h.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:_&&w,isStale:zu(t,r),refetch:this.refetch,promise:k(this,Gt),isEnabled:mt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const F=P=>{b.status==="error"?P.reject(b.error):b.data!==void 0&&P.resolve(b.data)},Y=()=>{const P=W(this,Gt,b.promise=pc());F(P)},O=k(this,Gt);switch(O.status){case"pending":t.queryHash===n.queryHash&&F(O);break;case"fulfilled":(b.status==="error"||b.data!==O.value)&&Y();break;case"rejected":(b.status!=="error"||b.error!==O.reason)&&Y();break}}return b}updateResult(){const t=k(this,ze),r=this.createResult(k(this,ee),this.options);if(W(this,hs,k(this,ee).state),W(this,tn,this.options),k(this,hs).data!==void 0&&W(this,sn,k(this,ee)),Za(r,t))return;W(this,ze,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!k(this,nn).size)return!0;const o=new Set(a??k(this,nn));return this.options.throwOnError&&o.add("error"),Object.keys(k(this,ze)).some(l=>{const c=l;return k(this,ze)[c]!==t[c]&&o.has(c)})};X(this,ie,U0).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&X(this,ie,bc).call(this)}},Ye=new WeakMap,ee=new WeakMap,Si=new WeakMap,ze=new WeakMap,hs=new WeakMap,tn=new WeakMap,Gt=new WeakMap,kr=new WeakMap,Ci=new WeakMap,rn=new WeakMap,sn=new WeakMap,ms=new WeakMap,fs=new WeakMap,Sr=new WeakMap,nn=new WeakMap,ie=new WeakSet,Qn=function(t){X(this,ie,Nc).call(this);let r=k(this,ee).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ue)),r},gc=function(){X(this,ie,wc).call(this);const t=Wr(this.options.staleTime,k(this,ee));if(_s||k(this,ze).isStale||!hc(t))return;const n=A0(k(this,ze).dataUpdatedAt,t)+1;W(this,ms,is.setTimeout(()=>{k(this,ze).isStale||this.updateResult()},n))},yc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,ee)):this.options.refetchInterval)??!1},vc=function(t){X(this,ie,jc).call(this),W(this,Sr,t),!(_s||mt(this.options.enabled,k(this,ee))===!1||!hc(k(this,Sr))||k(this,Sr)===0)&&W(this,fs,is.setInterval(()=>{(this.options.refetchIntervalInBackground||Iu.isFocused())&&X(this,ie,Qn).call(this)},k(this,Sr)))},bc=function(){X(this,ie,gc).call(this),X(this,ie,vc).call(this,X(this,ie,yc).call(this))},wc=function(){k(this,ms)&&(is.clearTimeout(k(this,ms)),W(this,ms,void 0))},jc=function(){k(this,fs)&&(is.clearInterval(k(this,fs)),W(this,fs,void 0))},Nc=function(){const t=k(this,Ye).getQueryCache().build(k(this,Ye),this.options);if(t===k(this,ee))return;const r=k(this,ee);W(this,ee,t),W(this,Si,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},U0=function(t){ke.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(k(this,ze))}),k(this,Ye).getQueryCache().notify({query:k(this,ee),type:"observerResultsUpdated"})})},am);function $v(e,t){return mt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function jh(e,t){return $v(e,t)||e.state.data!==void 0&&_c(e,t,t.refetchOnMount)}function _c(e,t,r){if(mt(t.enabled,e)!==!1&&Wr(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&zu(e,t)}return!1}function Nh(e,t,r,n){return(e!==t||mt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&zu(e,r)}function zu(e,t){return mt(t.enabled,e)!==!1&&e.isStaleByTime(Wr(t.staleTime,e))}function Iv(e,t){return!Za(e.getCurrentResult(),t)}function _h(e){return{onFetch:(t,r)=>{var d,h,y,p,g;const n=t.options,i=(y=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:y.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const N=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},x=B0(t.options,t.fetchOptions),f=async(m,_,E)=>{if(v)return Promise.reject();if(_==null&&m.pages.length)return Promise.resolve(m);const j=(()=>{const Y={client:t.client,queryKey:t.queryKey,pageParam:_,direction:E?"backward":"forward",meta:t.options.meta};return N(Y),Y})(),b=await x(j),{maxPages:$}=t.options,F=E?Rv:Lv;return{pages:F(m.pages,b,$),pageParams:F(m.pageParams,_,$)}};if(i&&a.length){const m=i==="backward",_=m?zv:kh,E={pages:a,pageParams:o},w=_(n,E);l=await f(E,w,m)}else{const m=e??a.length;do{const _=c===0?o[0]??n.initialPageParam:kh(n,l);if(c>0&&_==null)break;l=await f(l,_),c++}while(c<m)}return l};t.options.persister?t.fetchFn=()=>{var v,N;return(N=(v=t.options).persister)==null?void 0:N.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function kh(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function zv(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ei,Bt,qe,ps,$t,xr,om,qv=(om=class extends q0{constructor(t){super();Q(this,$t);Q(this,Ei);Q(this,Bt);Q(this,qe);Q(this,ps);W(this,Ei,t.client),this.mutationId=t.mutationId,W(this,qe,t.mutationCache),W(this,Bt,[]),this.state=t.state||V0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){k(this,Bt).includes(t)||(k(this,Bt).push(t),this.clearGcTimeout(),k(this,qe).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){W(this,Bt,k(this,Bt).filter(r=>r!==t)),this.scheduleGc(),k(this,qe).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){k(this,Bt).length||(this.state.status==="pending"?this.scheduleGc():k(this,qe).remove(this))}continue(){var t;return((t=k(this,ps))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,h,y,p,g,v,N,x,f,m,_,E,w,j,b,$;const r=()=>{X(this,$t,xr).call(this,{type:"continue"})},n={client:k(this,Ei),meta:this.options.meta,mutationKey:this.options.mutationKey};W(this,ps,z0({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(F,Y)=>{X(this,$t,xr).call(this,{type:"failed",failureCount:F,error:Y})},onPause:()=>{X(this,$t,xr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,qe).canRun(this)}));const i=this.state.status==="pending",a=!k(this,ps).canStart();try{if(i)r();else{X(this,$t,xr).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=k(this,qe).config).onMutate)==null?void 0:l.call(o,t,this,n));const Y=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));Y!==this.state.context&&X(this,$t,xr).call(this,{type:"pending",context:Y,variables:t,isPaused:a})}const F=await k(this,ps).start();return await((h=(d=k(this,qe).config).onSuccess)==null?void 0:h.call(d,F,t,this.state.context,this,n)),await((p=(y=this.options).onSuccess)==null?void 0:p.call(y,F,t,this.state.context,n)),await((v=(g=k(this,qe).config).onSettled)==null?void 0:v.call(g,F,null,this.state.variables,this.state.context,this,n)),await((x=(N=this.options).onSettled)==null?void 0:x.call(N,F,null,t,this.state.context,n)),X(this,$t,xr).call(this,{type:"success",data:F}),F}catch(F){try{throw await((m=(f=k(this,qe).config).onError)==null?void 0:m.call(f,F,t,this.state.context,this,n)),await((E=(_=this.options).onError)==null?void 0:E.call(_,F,t,this.state.context,n)),await((j=(w=k(this,qe).config).onSettled)==null?void 0:j.call(w,void 0,F,this.state.variables,this.state.context,this,n)),await(($=(b=this.options).onSettled)==null?void 0:$.call(b,void 0,F,t,this.state.context,n)),F}finally{X(this,$t,xr).call(this,{type:"error",error:F})}}finally{k(this,qe).runNext(this)}}},Ei=new WeakMap,Bt=new WeakMap,qe=new WeakMap,ps=new WeakMap,$t=new WeakSet,xr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ke.batch(()=>{k(this,Bt).forEach(n=>{n.onMutationUpdate(t)}),k(this,qe).notify({mutation:this,type:"updated",action:t})})},om);function V0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jt,kt,Pi,lm,Wv=(lm=class extends _n{constructor(t={}){super();Q(this,Jt);Q(this,kt);Q(this,Pi);this.config=t,W(this,Jt,new Set),W(this,kt,new Map),W(this,Pi,0)}build(t,r,n){const i=new qv({client:t,mutationCache:this,mutationId:++$i(this,Pi)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){k(this,Jt).add(t);const r=sa(t);if(typeof r=="string"){const n=k(this,kt).get(r);n?n.push(t):k(this,kt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(k(this,Jt).delete(t)){const r=sa(t);if(typeof r=="string"){const n=k(this,kt).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&k(this,kt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=sa(t);if(typeof r=="string"){const n=k(this,kt).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=sa(t);if(typeof r=="string"){const i=(n=k(this,kt).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ke.batch(()=>{k(this,Jt).forEach(t=>{this.notify({type:"removed",mutation:t})}),k(this,Jt).clear(),k(this,kt).clear()})}getAll(){return Array.from(k(this,Jt))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>yh(r,n))}findAll(t={}){return this.getAll().filter(r=>yh(t,r))}notify(t){ke.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ke.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ue))))}},Jt=new WeakMap,kt=new WeakMap,Pi=new WeakMap,lm);function sa(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Xt,Cr,Ke,Zt,sr,ba,kc,cm,Uv=(cm=class extends _n{constructor(r,n){super();Q(this,sr);Q(this,Xt);Q(this,Cr);Q(this,Ke);Q(this,Zt);W(this,Xt,r),this.setOptions(n),this.bindMethods(),X(this,sr,ba).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=k(this,Xt).defaultMutationOptions(r),Za(this.options,n)||k(this,Xt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,Ke),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ks(n.mutationKey)!==ks(this.options.mutationKey)?this.reset():((i=k(this,Ke))==null?void 0:i.state.status)==="pending"&&k(this,Ke).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=k(this,Ke))==null||r.removeObserver(this)}onMutationUpdate(r){X(this,sr,ba).call(this),X(this,sr,kc).call(this,r)}getCurrentResult(){return k(this,Cr)}reset(){var r;(r=k(this,Ke))==null||r.removeObserver(this),W(this,Ke,void 0),X(this,sr,ba).call(this),X(this,sr,kc).call(this)}mutate(r,n){var i;return W(this,Zt,n),(i=k(this,Ke))==null||i.removeObserver(this),W(this,Ke,k(this,Xt).getMutationCache().build(k(this,Xt),this.options)),k(this,Ke).addObserver(this),k(this,Ke).execute(r)}},Xt=new WeakMap,Cr=new WeakMap,Ke=new WeakMap,Zt=new WeakMap,sr=new WeakSet,ba=function(){var n;const r=((n=k(this,Ke))==null?void 0:n.state)??V0();W(this,Cr,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},kc=function(r){ke.batch(()=>{var n,i,a,o,l,c,u,d;if(k(this,Zt)&&this.hasListeners()){const h=k(this,Cr).variables,y=k(this,Cr).context,p={client:k(this,Xt),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(n=k(this,Zt)).onSuccess)==null||i.call(n,r.data,h,y,p),(o=(a=k(this,Zt)).onSettled)==null||o.call(a,r.data,null,h,y,p)):(r==null?void 0:r.type)==="error"&&((c=(l=k(this,Zt)).onError)==null||c.call(l,r.error,h,y,p),(d=(u=k(this,Zt)).onSettled)==null||d.call(u,void 0,r.error,h,y,p))}this.listeners.forEach(h=>{h(k(this,Cr))})})},cm),It,um,Vv=(um=class extends _n{constructor(t={}){super();Q(this,It);this.config=t,W(this,It,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??Bu(i,r);let o=this.get(a);return o||(o=new Dv({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){k(this,It).has(t.queryHash)||(k(this,It).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=k(this,It).get(t.queryHash);r&&(t.destroy(),r===t&&k(this,It).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ke.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return k(this,It).get(t)}getAll(){return[...k(this,It).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>gh(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>gh(t,n)):r}notify(t){ke.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ke.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ke.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},It=new WeakMap,um),ye,Er,Pr,an,on,Lr,ln,cn,dm,Hv=(dm=class{constructor(e={}){Q(this,ye);Q(this,Er);Q(this,Pr);Q(this,an);Q(this,on);Q(this,Lr);Q(this,ln);Q(this,cn);W(this,ye,e.queryCache||new Vv),W(this,Er,e.mutationCache||new Wv),W(this,Pr,e.defaultOptions||{}),W(this,an,new Map),W(this,on,new Map),W(this,Lr,0)}mount(){$i(this,Lr)._++,k(this,Lr)===1&&(W(this,ln,Iu.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,ye).onFocus())})),W(this,cn,eo.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,ye).onOnline())})))}unmount(){var e,t;$i(this,Lr)._--,k(this,Lr)===0&&((e=k(this,ln))==null||e.call(this),W(this,ln,void 0),(t=k(this,cn))==null||t.call(this),W(this,cn,void 0))}isFetching(e){return k(this,ye).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return k(this,Er).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=k(this,ye).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=k(this,ye).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Wr(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return k(this,ye).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=k(this,ye).get(n.queryHash),a=i==null?void 0:i.state.data,o=Cv(t,a);if(o!==void 0)return k(this,ye).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ke.batch(()=>k(this,ye).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=k(this,ye).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=k(this,ye);ke.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=k(this,ye);return ke.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ke.batch(()=>k(this,ye).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Ue).catch(Ue)}invalidateQueries(e,t={}){return ke.batch(()=>(k(this,ye).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ke.batch(()=>k(this,ye).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ue)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ue)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=k(this,ye).build(this,t);return r.isStaleByTime(Wr(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ue).catch(Ue)}fetchInfiniteQuery(e){return e.behavior=_h(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ue).catch(Ue)}ensureInfiniteQueryData(e){return e.behavior=_h(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return eo.isOnline()?k(this,Er).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,ye)}getMutationCache(){return k(this,Er)}getDefaultOptions(){return k(this,Pr)}setDefaultOptions(e){W(this,Pr,e)}setQueryDefaults(e,t){k(this,an).set(ks(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...k(this,an).values()],r={};return t.forEach(n=>{Ni(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){k(this,on).set(ks(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...k(this,on).values()],r={};return t.forEach(n=>{Ni(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...k(this,Pr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===$u&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...k(this,Pr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){k(this,ye).clear(),k(this,Er).clear()}},ye=new WeakMap,Er=new WeakMap,Pr=new WeakMap,an=new WeakMap,on=new WeakMap,Lr=new WeakMap,ln=new WeakMap,cn=new WeakMap,dm),H0=C.createContext(void 0),Jr=e=>{const t=C.useContext(H0);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Qv=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(H0.Provider,{value:e,children:t})),Q0=C.createContext(!1),Yv=()=>C.useContext(Q0);Q0.Provider;function Kv(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Gv=C.createContext(Kv()),Jv=()=>C.useContext(Gv),Xv=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Zv=e=>{C.useEffect(()=>{e.clearReset()},[e])},eb=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||$0(r,[e.error,n])),tb=e=>{if(e.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},rb=(e,t)=>e.isLoading&&e.isFetching&&!t,sb=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Sh=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function nb(e,t,r){var h,y,p,g,v;const n=Yv(),i=Jv(),a=Jr(),o=a.defaultQueryOptions(e);(y=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||y.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",tb(o),Xv(o,i),Zv(i);const l=!a.getQueryCache().get(o.queryHash),[c]=C.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(N=>{const x=d?c.subscribe(ke.batchCalls(N)):Ue;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),C.useEffect(()=>{c.setOptions(o)},[o,c]),sb(o,u))throw Sh(o,c,i);if(eb({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((g=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,o,u),o.experimental_prefetchInRender&&!_s&&rb(u,n)){const N=l?Sh(o,c,i):(v=a.getQueryCache().get(o.queryHash))==null?void 0:v.promise;N==null||N.catch(Ue).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function le(e,t){return nb(e,Bv)}function Be(e,t){const r=Jr(),[n]=C.useState(()=>new Uv(r,e));C.useEffect(()=>{n.setOptions(e)},[n,e]);const i=C.useSyncExternalStore(C.useCallback(o=>n.subscribe(ke.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=C.useCallback((o,l)=>{n.mutate(o,l).catch(Ue)},[n]);if(i.error&&$0(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const Ch=e=>{let t;const r=new Set,n=(u,d)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const y=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(p=>p(t,y))}},i=()=>t,l={setState:n,getState:i,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=t=e(n,i,l);return l},ib=e=>e?Ch(e):Ch,ab=e=>e;function ob(e,t=ab){const r=ts.useSyncExternalStore(e.subscribe,ts.useCallback(()=>t(e.getState()),[e,t]),ts.useCallback(()=>t(e.getInitialState()),[e,t]));return ts.useDebugValue(r),r}const lb=e=>{const t=ib(e),r=n=>ob(t,n);return Object.assign(r,t),r},cb=e=>lb;function Y0(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var a;const o=c=>c===null?null:JSON.parse(c,void 0),l=(a=r.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>r.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>r.removeItem(i)}}const Sc=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Sc(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Sc(n)(r)}}}},ub=(e,t)=>(r,n,i)=>{let a={storage:Y0(()=>localStorage),partialize:v=>v,version:0,merge:(v,N)=>({...N,...v}),...t},o=!1;const l=new Set,c=new Set;let u=a.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...v)},n,i);const d=()=>{const v=a.partialize({...n()});return u.setItem(a.name,{state:v,version:a.version})},h=i.setState;i.setState=(v,N)=>(h(v,N),d());const y=e((...v)=>(r(...v),d()),n,i);i.getInitialState=()=>y;let p;const g=()=>{var v,N;if(!u)return;o=!1,l.forEach(f=>{var m;return f((m=n())!=null?m:y)});const x=((N=a.onRehydrateStorage)==null?void 0:N.call(a,(v=n())!=null?v:y))||void 0;return Sc(u.getItem.bind(u))(a.name).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==a.version){if(a.migrate){const m=a.migrate(f.state,f.version);return m instanceof Promise?m.then(_=>[!0,_]):[!0,m]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,f.state];return[!1,void 0]}).then(f=>{var m;const[_,E]=f;if(p=a.merge(E,(m=n())!=null?m:y),r(p,!0),_)return d()}).then(()=>{x==null||x(p,void 0),p=n(),o=!0,c.forEach(f=>f(p))}).catch(f=>{x==null||x(void 0,f)})};return i.persist={setOptions:v=>{a={...a,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},a.skipHydration||g(),p||y},db=ub,Vt=Object.create(null);Vt.open="0";Vt.close="1";Vt.ping="2";Vt.pong="3";Vt.message="4";Vt.upgrade="5";Vt.noop="6";const wa=Object.create(null);Object.keys(Vt).forEach(e=>{wa[Vt[e]]=e});const Cc={type:"error",data:"parser error"},K0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",G0=typeof ArrayBuffer=="function",J0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,qu=({type:e,data:t},r,n)=>K0&&t instanceof Blob?r?n(t):Eh(t,n):G0&&(t instanceof ArrayBuffer||J0(t))?r?n(t):Eh(new Blob([t]),n):n(Vt[e]+(t||"")),Eh=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function Ph(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ll;function hb(e,t){if(K0&&e.data instanceof Blob)return e.data.arrayBuffer().then(Ph).then(t);if(G0&&(e.data instanceof ArrayBuffer||J0(e.data)))return t(Ph(e.data));qu(e,!1,r=>{ll||(ll=new TextEncoder),t(ll.encode(r))})}const Lh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Lh.length;e++)Yn[Lh.charCodeAt(e)]=e;const mb=e=>{let t=e.length*.75,r=e.length,n,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(n=0;n<r;n+=4)a=Yn[e.charCodeAt(n)],o=Yn[e.charCodeAt(n+1)],l=Yn[e.charCodeAt(n+2)],c=Yn[e.charCodeAt(n+3)],d[i++]=a<<2|o>>4,d[i++]=(o&15)<<4|l>>2,d[i++]=(l&3)<<6|c&63;return u},fb=typeof ArrayBuffer=="function",Wu=(e,t)=>{if(typeof e!="string")return{type:"message",data:X0(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:pb(e.substring(1),t)}:wa[r]?e.length>1?{type:wa[r],data:e.substring(1)}:{type:wa[r]}:Cc},pb=(e,t)=>{if(fb){const r=mb(e);return X0(r,t)}else return{base64:!0,data:e}},X0=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Z0="",xb=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((a,o)=>{qu(a,!1,l=>{n[o]=l,++i===r&&t(n.join(Z0))})})},gb=(e,t)=>{const r=e.split(Z0),n=[];for(let i=0;i<r.length;i++){const a=Wu(r[i],t);if(n.push(a),a.type==="error")break}return n};function yb(){return new TransformStream({transform(e,t){hb(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let cl;function na(e){return e.reduce((t,r)=>t+r.length,0)}function ia(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function vb(e,t){cl||(cl=new TextDecoder);const r=[];let n=0,i=-1,a=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(na(r)<1)break;const c=ia(r,1);a=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(na(r)<2)break;const c=ia(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(na(r)<8)break;const c=ia(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(Cc);break}i=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(na(r)<i)break;const c=ia(r,i);l.enqueue(Wu(a?c:cl.decode(c),t)),n=0}if(i===0||i>e){l.enqueue(Cc);break}}}})}const ep=4;function Ne(e){if(e)return bb(e)}function bb(e){for(var t in Ne.prototype)e[t]=Ne.prototype[t];return e}Ne.prototype.on=Ne.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ne.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Ne.prototype.off=Ne.prototype.removeListener=Ne.prototype.removeAllListeners=Ne.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Ne.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};Ne.prototype.emitReserved=Ne.prototype.emit;Ne.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ne.prototype.hasListeners=function(e){return!!this.listeners(e).length};const No=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),xt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),wb="arraybuffer";function tp(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const jb=xt.setTimeout,Nb=xt.clearTimeout;function _o(e,t){t.useNativeTimers?(e.setTimeoutFn=jb.bind(xt),e.clearTimeoutFn=Nb.bind(xt)):(e.setTimeoutFn=xt.setTimeout.bind(xt),e.clearTimeoutFn=xt.clearTimeout.bind(xt))}const _b=1.33;function kb(e){return typeof e=="string"?Sb(e):Math.ceil((e.byteLength||e.size)*_b)}function Sb(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function rp(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Cb(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function Eb(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class Pb extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class Uu extends Ne{constructor(t){super(),this.writable=!1,_o(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new Pb(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Wu(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=Cb(t);return r.length?"?"+r:""}}class Lb extends Uu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};gb(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,xb(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=rp()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let sp=!1;try{sp=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Rb=sp;function Tb(){}class Mb extends Lb{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Ut extends Ne{constructor(t,r,n){super(),this.createRequest=t,_o(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=tp(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Ut.requestsCount++,Ut.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Tb,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ut.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ut.requestsCount=0;Ut.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Rh);else if(typeof addEventListener=="function"){const e="onpagehide"in xt?"pagehide":"unload";addEventListener(e,Rh,!1)}}function Rh(){for(let e in Ut.requests)Ut.requests.hasOwnProperty(e)&&Ut.requests[e].abort()}const Ob=function(){const e=np({xdomain:!1});return e&&e.responseType!==null}();class Fb extends Mb{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=Ob&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Ut(np,this.uri(),t)}}function np(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Rb))return new XMLHttpRequest}catch{}if(!t)try{return new xt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ip=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ab extends Uu{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=ip?{}:tp(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;qu(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&No(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=rp()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const ul=xt.WebSocket||xt.MozWebSocket;class Db extends Ab{createSocket(t,r,n){return ip?new ul(t,r,n):r?new ul(t,r):new ul(t)}doWrite(t,r){this.ws.send(r)}}class Bb extends Uu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=vb(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=yb();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&No(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const $b={websocket:Db,webtransport:Bb,polling:Fb},Ib=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,zb=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ec(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=Ib.exec(e||""),a={},o=14;for(;o--;)a[zb[o]]=i[o]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=qb(a,a.path),a.queryKey=Wb(a,a.query),a}function qb(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Wb(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}const Pc=typeof addEventListener=="function"&&typeof removeEventListener=="function",ja=[];Pc&&addEventListener("offline",()=>{ja.forEach(e=>e())},!1);class Ur extends Ne{constructor(t,r){if(super(),this.binaryType=wb,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=Ec(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Ec(r.host).host);_o(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Eb(this.opts.query)),Pc&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ja.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=ep,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Ur.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Ur.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=kb(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,No(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Ur.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Pc&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=ja.indexOf(this._offlineEventListener);n!==-1&&ja.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Ur.protocol=ep;class Ub extends Ur{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Ur.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Ur.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=r.name,this.emitReserved("upgradeError",y)}}))};function a(){n||(n=!0,d(),r.close(),r=null)}const o=h=>{const y=new Error("probe error: "+h);y.transport=r.name,a(),this.emitReserved("upgradeError",y)};function l(){o("transport closed")}function c(){o("socket closed")}function u(h){r&&h.name!==r.name&&a()}const d=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let Vb=class extends Ub{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>$b[i]).filter(i=>!!i)),super(t,n)}};function Hb(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Ec(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const Qb=typeof ArrayBuffer=="function",Yb=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,ap=Object.prototype.toString,Kb=typeof Blob=="function"||typeof Blob<"u"&&ap.call(Blob)==="[object BlobConstructor]",Gb=typeof File=="function"||typeof File<"u"&&ap.call(File)==="[object FileConstructor]";function Vu(e){return Qb&&(e instanceof ArrayBuffer||Yb(e))||Kb&&e instanceof Blob||Gb&&e instanceof File}function Na(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Na(e[r]))return!0;return!1}if(Vu(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Na(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Na(e[r]))return!0;return!1}function Jb(e){const t=[],r=e.data,n=e;return n.data=Lc(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Lc(e,t){if(!e)return e;if(Vu(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Lc(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Lc(e[n],t));return r}return e}function Xb(e,t){return e.data=Rc(e.data,t),delete e.attachments,e}function Rc(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Rc(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Rc(e[r],t));return e}const Zb=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],e1=5;var te;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(te||(te={}));class t1{constructor(t){this.replacer=t}encode(t){return(t.type===te.EVENT||t.type===te.ACK)&&Na(t)?this.encodeAsBinary({type:t.type===te.EVENT?te.BINARY_EVENT:te.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===te.BINARY_EVENT||t.type===te.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=Jb(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function Th(e){return Object.prototype.toString.call(e)==="[object Object]"}class Hu extends Ne{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===te.BINARY_EVENT;n||r.type===te.BINARY_ACK?(r.type=n?te.EVENT:te.ACK,this.reconstructor=new r1(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Vu(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(te[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===te.BINARY_EVENT||n.type===te.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(a,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(Hu.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case te.CONNECT:return Th(r);case te.DISCONNECT:return r===void 0;case te.CONNECT_ERROR:return typeof r=="string"||Th(r);case te.EVENT:case te.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Zb.indexOf(r[0])===-1);case te.ACK:case te.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class r1{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=Xb(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const s1=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Hu,Encoder:t1,get PacketType(){return te},protocol:e1},Symbol.toStringTag,{value:"Module"}));function Ct(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const n1=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class op extends Ne{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ct(t,"open",this.onopen.bind(this)),Ct(t,"packet",this.onpacket.bind(this)),Ct(t,"error",this.onerror.bind(this)),Ct(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,a;if(n1.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:te.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,h=r.pop();this._registerAckCallback(d,h),o.id=d}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,i)=>{const a=(o,l)=>o?i(o):n(l);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:te.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case te.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case te.EVENT:case te.BINARY_EVENT:this.onevent(t);break;case te.ACK:case te.BINARY_ACK:this.onack(t);break;case te.DISCONNECT:this.ondisconnect();break;case te.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:te.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:te.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function kn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}kn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};kn.prototype.reset=function(){this.attempts=0};kn.prototype.setMin=function(e){this.ms=e};kn.prototype.setMax=function(e){this.max=e};kn.prototype.setJitter=function(e){this.jitter=e};class Tc extends Ne{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,_o(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new kn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||s1;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Vb(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Ct(r,"open",function(){n.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Ct(r,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ct(t,"ping",this.onping.bind(this)),Ct(t,"data",this.ondata.bind(this)),Ct(t,"error",this.onerror.bind(this)),Ct(t,"close",this.onclose.bind(this)),Ct(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){No(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new op(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Bn={};function _a(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=Hb(e,t.path||"/socket.io"),n=r.source,i=r.id,a=r.path,o=Bn[i]&&a in Bn[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new Tc(n,t):(Bn[i]||(Bn[i]=new Tc(n,t)),c=Bn[i]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(_a,{Manager:Tc,Socket:op,io:_a,connect:_a});function lp(e,t){return function(){return e.apply(t,arguments)}}const{toString:i1}=Object.prototype,{getPrototypeOf:Qu}=Object,{iterator:ko,toStringTag:cp}=Symbol,So=(e=>t=>{const r=i1.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Tt=e=>(e=e.toLowerCase(),t=>So(t)===e),Co=e=>t=>typeof t===e,{isArray:Sn}=Array,gn=Co("undefined");function Fi(e){return e!==null&&!gn(e)&&e.constructor!==null&&!gn(e.constructor)&&tt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const up=Tt("ArrayBuffer");function a1(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&up(e.buffer),t}const o1=Co("string"),tt=Co("function"),dp=Co("number"),Ai=e=>e!==null&&typeof e=="object",l1=e=>e===!0||e===!1,ka=e=>{if(So(e)!=="object")return!1;const t=Qu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(cp in e)&&!(ko in e)},c1=e=>{if(!Ai(e)||Fi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},u1=Tt("Date"),d1=Tt("File"),h1=Tt("Blob"),m1=Tt("FileList"),f1=e=>Ai(e)&&tt(e.pipe),p1=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||tt(e.append)&&((t=So(e))==="formdata"||t==="object"&&tt(e.toString)&&e.toString()==="[object FormData]"))},x1=Tt("URLSearchParams"),[g1,y1,v1,b1]=["ReadableStream","Request","Response","Headers"].map(Tt),w1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Di(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Sn(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(Fi(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,e[l],l,e)}}function hp(e,t){if(Fi(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const as=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mp=e=>!gn(e)&&e!==as;function Mc(){const{caseless:e,skipUndefined:t}=mp(this)&&this||{},r={},n=(i,a)=>{const o=e&&hp(r,a)||a;ka(r[o])&&ka(i)?r[o]=Mc(r[o],i):ka(i)?r[o]=Mc({},i):Sn(i)?r[o]=i.slice():(!t||!gn(i))&&(r[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Di(arguments[i],n);return r}const j1=(e,t,r,{allOwnKeys:n}={})=>(Di(t,(i,a)=>{r&&tt(i)?e[a]=lp(i,r):e[a]=i},{allOwnKeys:n}),e),N1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_1=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},k1=(e,t,r,n)=>{let i,a,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Qu(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},S1=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},C1=e=>{if(!e)return null;if(Sn(e))return e;let t=e.length;if(!dp(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},E1=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Qu(Uint8Array)),P1=(e,t)=>{const n=(e&&e[ko]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},L1=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},R1=Tt("HTMLFormElement"),T1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Mh=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),M1=Tt("RegExp"),fp=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Di(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},O1=e=>{fp(e,(t,r)=>{if(tt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(tt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},F1=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Sn(e)?n(e):n(String(e).split(t)),r},A1=()=>{},D1=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function B1(e){return!!(e&&tt(e.append)&&e[cp]==="FormData"&&e[ko])}const $1=e=>{const t=new Array(10),r=(n,i)=>{if(Ai(n)){if(t.indexOf(n)>=0)return;if(Fi(n))return n;if(!("toJSON"in n)){t[i]=n;const a=Sn(n)?[]:{};return Di(n,(o,l)=>{const c=r(o,i+1);!gn(c)&&(a[l]=c)}),t[i]=void 0,a}}return n};return r(e,0)},I1=Tt("AsyncFunction"),z1=e=>e&&(Ai(e)||tt(e))&&tt(e.then)&&tt(e.catch),pp=((e,t)=>e?setImmediate:t?((r,n)=>(as.addEventListener("message",({source:i,data:a})=>{i===as&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),as.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",tt(as.postMessage)),q1=typeof queueMicrotask<"u"?queueMicrotask.bind(as):typeof process<"u"&&process.nextTick||pp,W1=e=>e!=null&&tt(e[ko]),R={isArray:Sn,isArrayBuffer:up,isBuffer:Fi,isFormData:p1,isArrayBufferView:a1,isString:o1,isNumber:dp,isBoolean:l1,isObject:Ai,isPlainObject:ka,isEmptyObject:c1,isReadableStream:g1,isRequest:y1,isResponse:v1,isHeaders:b1,isUndefined:gn,isDate:u1,isFile:d1,isBlob:h1,isRegExp:M1,isFunction:tt,isStream:f1,isURLSearchParams:x1,isTypedArray:E1,isFileList:m1,forEach:Di,merge:Mc,extend:j1,trim:w1,stripBOM:N1,inherits:_1,toFlatObject:k1,kindOf:So,kindOfTest:Tt,endsWith:S1,toArray:C1,forEachEntry:P1,matchAll:L1,isHTMLForm:R1,hasOwnProperty:Mh,hasOwnProp:Mh,reduceDescriptors:fp,freezeMethods:O1,toObjectSet:F1,toCamelCase:T1,noop:A1,toFiniteNumber:D1,findKey:hp,global:as,isContextDefined:mp,isSpecCompliantForm:B1,toJSONObject:$1,isAsyncFn:I1,isThenable:z1,setImmediate:pp,asap:q1,isIterable:W1};function J(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}R.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.status}}});const xp=J.prototype,gp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{gp[e]={value:e}});Object.defineProperties(J,gp);Object.defineProperty(xp,"isAxiosError",{value:!0});J.from=(e,t,r,n,i,a)=>{const o=Object.create(xp);R.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return J.call(o,l,c,r,n,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const U1=null;function Oc(e){return R.isPlainObject(e)||R.isArray(e)}function yp(e){return R.endsWith(e,"[]")?e.slice(0,-2):e}function Oh(e,t,r){return e?e.concat(t).map(function(i,a){return i=yp(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function V1(e){return R.isArray(e)&&!e.some(Oc)}const H1=R.toFlatObject(R,{},null,function(t){return/^is[A-Z]/.test(t)});function Eo(e,t,r){if(!R.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=R.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,N){return!R.isUndefined(N[v])});const n=r.metaTokens,i=r.visitor||d,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(t);if(!R.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(R.isDate(g))return g.toISOString();if(R.isBoolean(g))return g.toString();if(!c&&R.isBlob(g))throw new J("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(g)||R.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,v,N){let x=g;if(g&&!N&&typeof g=="object"){if(R.endsWith(v,"{}"))v=n?v:v.slice(0,-2),g=JSON.stringify(g);else if(R.isArray(g)&&V1(g)||(R.isFileList(g)||R.endsWith(v,"[]"))&&(x=R.toArray(g)))return v=yp(v),x.forEach(function(m,_){!(R.isUndefined(m)||m===null)&&t.append(o===!0?Oh([v],_,a):o===null?v:v+"[]",u(m))}),!1}return Oc(g)?!0:(t.append(Oh(N,v,a),u(g)),!1)}const h=[],y=Object.assign(H1,{defaultVisitor:d,convertValue:u,isVisitable:Oc});function p(g,v){if(!R.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(g),R.forEach(g,function(x,f){(!(R.isUndefined(x)||x===null)&&i.call(t,x,R.isString(f)?f.trim():f,v,y))===!0&&p(x,v?v.concat(f):[f])}),h.pop()}}if(!R.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Fh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Yu(e,t){this._pairs=[],e&&Eo(e,this,t)}const vp=Yu.prototype;vp.append=function(t,r){this._pairs.push([t,r])};vp.toString=function(t){const r=t?function(n){return t.call(this,n,Fh)}:Fh;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Q1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function bp(e,t,r){if(!t)return e;const n=r&&r.encode||Q1;R.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=R.isURLSearchParams(t)?t.toString():new Yu(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Ah{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){R.forEach(this.handlers,function(n){n!==null&&t(n)})}}const wp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Y1=typeof URLSearchParams<"u"?URLSearchParams:Yu,K1=typeof FormData<"u"?FormData:null,G1=typeof Blob<"u"?Blob:null,J1={isBrowser:!0,classes:{URLSearchParams:Y1,FormData:K1,Blob:G1},protocols:["http","https","file","blob","url","data"]},Ku=typeof window<"u"&&typeof document<"u",Fc=typeof navigator=="object"&&navigator||void 0,X1=Ku&&(!Fc||["ReactNative","NativeScript","NS"].indexOf(Fc.product)<0),Z1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ew=Ku&&window.location.href||"http://localhost",tw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ku,hasStandardBrowserEnv:X1,hasStandardBrowserWebWorkerEnv:Z1,navigator:Fc,origin:ew},Symbol.toStringTag,{value:"Module"})),$e={...tw,...J1};function rw(e,t){return Eo(e,new $e.classes.URLSearchParams,{visitor:function(r,n,i,a){return $e.isNode&&R.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function sw(e){return R.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nw(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function jp(e){function t(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&R.isArray(i)?i.length:o,c?(R.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!R.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],a)&&R.isArray(i[o])&&(i[o]=nw(i[o])),!l)}if(R.isFormData(e)&&R.isFunction(e.entries)){const r={};return R.forEachEntry(e,(n,i)=>{t(sw(n),i,r,0)}),r}return null}function iw(e,t,r){if(R.isString(e))try{return(t||JSON.parse)(e),R.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Bi={transitional:wp,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=R.isObject(t);if(a&&R.isHTMLForm(t)&&(t=new FormData(t)),R.isFormData(t))return i?JSON.stringify(jp(t)):t;if(R.isArrayBuffer(t)||R.isBuffer(t)||R.isStream(t)||R.isFile(t)||R.isBlob(t)||R.isReadableStream(t))return t;if(R.isArrayBufferView(t))return t.buffer;if(R.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return rw(t,this.formSerializer).toString();if((l=R.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Eo(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),iw(t)):t}],transformResponse:[function(t){const r=this.transitional||Bi.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(R.isResponse(t)||R.isReadableStream(t))return t;if(t&&R.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?J.from(l,J.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$e.classes.FormData,Blob:$e.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],e=>{Bi.headers[e]={}});const aw=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ow=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&aw[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Dh=Symbol("internals");function $n(e){return e&&String(e).trim().toLowerCase()}function Sa(e){return e===!1||e==null?e:R.isArray(e)?e.map(Sa):String(e)}function lw(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const cw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function dl(e,t,r,n,i){if(R.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!R.isString(t)){if(R.isString(n))return t.indexOf(n)!==-1;if(R.isRegExp(n))return n.test(t)}}function uw(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function dw(e,t){const r=R.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}let rt=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(l,c,u){const d=$n(c);if(!d)throw new Error("header name must be a non-empty string");const h=R.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=Sa(l))}const o=(l,c)=>R.forEach(l,(u,d)=>a(u,d,c));if(R.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(R.isString(t)&&(t=t.trim())&&!cw(t))o(ow(t),r);else if(R.isObject(t)&&R.isIterable(t)){let l={},c,u;for(const d of t){if(!R.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?R.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=$n(t),t){const n=R.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return lw(i);if(R.isFunction(r))return r.call(this,i,n);if(R.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=$n(t),t){const n=R.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||dl(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(o){if(o=$n(o),o){const l=R.findKey(n,o);l&&(!r||dl(n,n[l],l,r))&&(delete n[l],i=!0)}}return R.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||dl(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return R.forEach(this,(i,a)=>{const o=R.findKey(n,a);if(o){r[o]=Sa(i),delete r[a];return}const l=t?uw(a):String(a).trim();l!==a&&delete r[a],r[l]=Sa(i),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return R.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&R.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[Dh]=this[Dh]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=$n(o);n[l]||(dw(i,o),n[l]=!0)}return R.isArray(t)?t.forEach(a):a(t),this}};rt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(rt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});R.freezeMethods(rt);function hl(e,t){const r=this||Bi,n=t||r,i=rt.from(n.headers);let a=n.data;return R.forEach(e,function(l){a=l.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function Np(e){return!!(e&&e.__CANCEL__)}function Cn(e,t,r){J.call(this,e??"canceled",J.ERR_CANCELED,t,r),this.name="CanceledError"}R.inherits(Cn,J,{__CANCEL__:!0});function _p(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new J("Request failed with status code "+r.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function hw(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mw(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];o||(o=u),r[i]=c,n[i]=u;let h=a,y=0;for(;h!==i;)y+=r[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(y*1e3/p):void 0}}function fw(e,t){let r=0,n=1e3/t,i,a;const o=(u,d=Date.now())=>{r=d,i=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?o(u,d):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},n-h)))},()=>i&&o(i)]}const to=(e,t,r=3)=>{let n=0;const i=mw(50,250);return fw(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,u=i(c),d=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},r)},Bh=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},$h=e=>(...t)=>R.asap(()=>e(...t)),pw=$e.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,$e.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL($e.origin),$e.navigator&&/(msie|trident)/i.test($e.navigator.userAgent)):()=>!0,xw=$e.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const o=[e+"="+encodeURIComponent(t)];R.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),R.isString(n)&&o.push("path="+n),R.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yw(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function kp(e,t,r){let n=!gw(t);return e&&(n||r==!1)?yw(e,t):t}const Ih=e=>e instanceof rt?{...e}:e;function Ss(e,t){t=t||{};const r={};function n(u,d,h,y){return R.isPlainObject(u)&&R.isPlainObject(d)?R.merge.call({caseless:y},u,d):R.isPlainObject(d)?R.merge({},d):R.isArray(d)?d.slice():d}function i(u,d,h,y){if(R.isUndefined(d)){if(!R.isUndefined(u))return n(void 0,u,h,y)}else return n(u,d,h,y)}function a(u,d){if(!R.isUndefined(d))return n(void 0,d)}function o(u,d){if(R.isUndefined(d)){if(!R.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,h){if(h in t)return n(u,d);if(h in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>i(Ih(u),Ih(d),h,!0)};return R.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||i,y=h(e[d],t[d],d);R.isUndefined(y)&&h!==l||(r[d]=y)}),r}const Sp=e=>{const t=Ss({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=rt.from(o),t.url=bp(kp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),R.isFormData(r)){if($e.hasStandardBrowserEnv||$e.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(R.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if($e.hasStandardBrowserEnv&&(n&&R.isFunction(n)&&(n=n(t)),n||n!==!1&&pw(t.url))){const c=i&&a&&xw.read(a);c&&o.set(i,c)}return t},vw=typeof XMLHttpRequest<"u",bw=vw&&function(e){return new Promise(function(r,n){const i=Sp(e);let a=i.data;const o=rt.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,h,y,p,g;function v(){p&&p(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let N=new XMLHttpRequest;N.open(i.method.toUpperCase(),i.url,!0),N.timeout=i.timeout;function x(){if(!N)return;const m=rt.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:m,config:e,request:N};_p(function(j){r(j),v()},function(j){n(j),v()},E),N=null}"onloadend"in N?N.onloadend=x:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(x)},N.onabort=function(){N&&(n(new J("Request aborted",J.ECONNABORTED,e,N)),N=null)},N.onerror=function(_){const E=_&&_.message?_.message:"Network Error",w=new J(E,J.ERR_NETWORK,e,N);w.event=_||null,n(w),N=null},N.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||wp;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),n(new J(_,E.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,N)),N=null},a===void 0&&o.setContentType(null),"setRequestHeader"in N&&R.forEach(o.toJSON(),function(_,E){N.setRequestHeader(E,_)}),R.isUndefined(i.withCredentials)||(N.withCredentials=!!i.withCredentials),l&&l!=="json"&&(N.responseType=i.responseType),u&&([y,g]=to(u,!0),N.addEventListener("progress",y)),c&&N.upload&&([h,p]=to(c),N.upload.addEventListener("progress",h),N.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=m=>{N&&(n(!m||m.type?new Cn(null,e,N):m),N.abort(),N=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const f=hw(i.url);if(f&&$e.protocols.indexOf(f)===-1){n(new J("Unsupported protocol "+f+":",J.ERR_BAD_REQUEST,e));return}N.send(a||null)})},ww=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof J?d:new Cn(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new J(`timeout ${t} of ms exceeded`,J.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>R.asap(l),c}},jw=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},Nw=async function*(e,t){for await(const r of _w(e))yield*jw(r,t)},_w=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},zh=(e,t,r,n)=>{const i=Nw(e,t);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let h=d.byteLength;if(r){let y=a+=h;r(y)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},qh=64*1024,{isFunction:aa}=R,kw=(({Request:e,Response:t})=>({Request:e,Response:t}))(R.global),{ReadableStream:Wh,TextEncoder:Uh}=R.global,Vh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Sw=e=>{e=R.merge.call({skipUndefined:!0},kw,e);const{fetch:t,Request:r,Response:n}=e,i=t?aa(t):typeof fetch=="function",a=aa(r),o=aa(n);if(!i)return!1;const l=i&&aa(Wh),c=i&&(typeof Uh=="function"?(g=>v=>g.encode(v))(new Uh):async g=>new Uint8Array(await new r(g).arrayBuffer())),u=a&&l&&Vh(()=>{let g=!1;const v=new r($e.origin,{body:new Wh,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!v}),d=o&&l&&Vh(()=>R.isReadableStream(new n("").body)),h={stream:d&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(v,N)=>{let x=v&&v[g];if(x)return x.call(v);throw new J(`Response type '${g}' is not supported`,J.ERR_NOT_SUPPORT,N)})});const y=async g=>{if(g==null)return 0;if(R.isBlob(g))return g.size;if(R.isSpecCompliantForm(g))return(await new r($e.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(R.isArrayBufferView(g)||R.isArrayBuffer(g))return g.byteLength;if(R.isURLSearchParams(g)&&(g=g+""),R.isString(g))return(await c(g)).byteLength},p=async(g,v)=>{const N=R.toFiniteNumber(g.getContentLength());return N??y(v)};return async g=>{let{url:v,method:N,data:x,signal:f,cancelToken:m,timeout:_,onDownloadProgress:E,onUploadProgress:w,responseType:j,headers:b,withCredentials:$="same-origin",fetchOptions:F}=Sp(g),Y=t||fetch;j=j?(j+"").toLowerCase():"text";let O=ww([f,m&&m.toAbortSignal()],_),P=null;const S=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let M;try{if(w&&u&&N!=="get"&&N!=="head"&&(M=await p(b,x))!==0){let U=new r(v,{method:"POST",body:x,duplex:"half"}),L;if(R.isFormData(x)&&(L=U.headers.get("content-type"))&&b.setContentType(L),U.body){const[ne,ce]=Bh(M,to($h(w)));x=zh(U.body,qh,ne,ce)}}R.isString($)||($=$?"include":"omit");const A=a&&"credentials"in r.prototype,K={...F,signal:O,method:N.toUpperCase(),headers:b.normalize().toJSON(),body:x,duplex:"half",credentials:A?$:void 0};P=a&&new r(v,K);let z=await(a?Y(P,F):Y(v,K));const T=d&&(j==="stream"||j==="response");if(d&&(E||T&&S)){const U={};["status","statusText","headers"].forEach(Mt=>{U[Mt]=z[Mt]});const L=R.toFiniteNumber(z.headers.get("content-length")),[ne,ce]=E&&Bh(L,to($h(E),!0))||[];z=new n(zh(z.body,qh,ne,()=>{ce&&ce(),S&&S()}),U)}j=j||"text";let I=await h[R.findKey(h,j)||"text"](z,g);return!T&&S&&S(),await new Promise((U,L)=>{_p(U,L,{data:I,headers:rt.from(z.headers),status:z.status,statusText:z.statusText,config:g,request:P})})}catch(A){throw S&&S(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,g,P),{cause:A.cause||A}):J.from(A,A&&A.code,g,P)}}},Cw=new Map,Cp=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:i}=t,a=[n,i,r];let o=a.length,l=o,c,u,d=Cw;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:Sw(t)),d=u;return u};Cp();const Ac={http:U1,xhr:bw,fetch:{get:Cp}};R.forEach(Ac,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Hh=e=>`- ${e}`,Ew=e=>R.isFunction(e)||e===null||e===!1,Ep={getAdapter:(e,t)=>{e=R.isArray(e)?e:[e];const{length:r}=e;let n,i;const a={};for(let o=0;o<r;o++){n=e[o];let l;if(i=n,!Ew(n)&&(i=Ac[(l=String(n)).toLowerCase()],i===void 0))throw new J(`Unknown adapter '${l}'`);if(i&&(R.isFunction(i)||(i=i.get(t))))break;a[l||"#"+o]=i}if(!i){const o=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(Hh).join(`
`):" "+Hh(o[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:Ac};function ml(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cn(null,e)}function Qh(e){return ml(e),e.headers=rt.from(e.headers),e.data=hl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ep.getAdapter(e.adapter||Bi.adapter,e)(e).then(function(n){return ml(e),n.data=hl.call(e,e.transformResponse,n),n.headers=rt.from(n.headers),n},function(n){return Np(n)||(ml(e),n&&n.response&&(n.response.data=hl.call(e,e.transformResponse,n.response),n.response.headers=rt.from(n.response.headers))),Promise.reject(n)})}const Pp="1.12.2",Po={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Po[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Yh={};Po.transitional=function(t,r,n){function i(a,o){return"[Axios v"+Pp+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new J(i(o," has been removed"+(r?" in "+r:"")),J.ERR_DEPRECATED);return r&&!Yh[o]&&(Yh[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};Po.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Pw(e,t,r){if(typeof e!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new J("option "+a+" must be "+c,J.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new J("Unknown option "+a,J.ERR_BAD_OPTION)}}const Ca={assertOptions:Pw,validators:Po},Ft=Ca.validators;let ys=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ah,response:new Ah}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ss(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&Ca.assertOptions(n,{silentJSONParsing:Ft.transitional(Ft.boolean),forcedJSONParsing:Ft.transitional(Ft.boolean),clarifyTimeoutError:Ft.transitional(Ft.boolean)},!1),i!=null&&(R.isFunction(i)?r.paramsSerializer={serialize:i}:Ca.assertOptions(i,{encode:Ft.function,serialize:Ft.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ca.assertOptions(r,{baseUrl:Ft.spelling("baseURL"),withXsrfToken:Ft.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&R.merge(a.common,a[r.method]);a&&R.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),r.headers=rt.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,y;if(!c){const g=[Qh.bind(this),void 0];for(g.unshift(...l),g.push(...u),y=g.length,d=Promise.resolve(r);h<y;)d=d.then(g[h++],g[h++]);return d}y=l.length;let p=r;for(;h<y;){const g=l[h++],v=l[h++];try{p=g(p)}catch(N){v.call(this,N);break}}try{d=Qh.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,y=u.length;h<y;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=Ss(this.defaults,t);const r=kp(t.baseURL,t.url,t.allowAbsoluteUrls);return bp(r,t.params,t.paramsSerializer)}};R.forEach(["delete","get","head","options"],function(t){ys.prototype[t]=function(r,n){return this.request(Ss(n||{},{method:t,url:r,data:(n||{}).data}))}});R.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,l){return this.request(Ss(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}ys.prototype[t]=r(),ys.prototype[t+"Form"]=r(!0)});let Lw=class Lp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new Cn(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Lp(function(i){t=i}),cancel:t}}};function Rw(e){return function(r){return e.apply(null,r)}}function Tw(e){return R.isObject(e)&&e.isAxiosError===!0}const Dc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dc).forEach(([e,t])=>{Dc[t]=e});function Rp(e){const t=new ys(e),r=lp(ys.prototype.request,t);return R.extend(r,ys.prototype,t,{allOwnKeys:!0}),R.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return Rp(Ss(e,i))},r}const q=Rp(Bi);q.Axios=ys;q.CanceledError=Cn;q.CancelToken=Lw;q.isCancel=Np;q.VERSION=Pp;q.toFormData=Eo;q.AxiosError=J;q.Cancel=q.CanceledError;q.all=function(t){return Promise.all(t)};q.spread=Rw;q.isAxiosError=Tw;q.mergeConfig=Ss;q.AxiosHeaders=rt;q.formToJSON=e=>jp(R.isHTMLForm(e)?new FormData(e):e);q.getAdapter=Ep.getAdapter;q.HttpStatusCode=Dc;q.default=q;const{Axios:Fj,AxiosError:Aj,CanceledError:Dj,isCancel:Bj,CancelToken:$j,VERSION:Ij,all:zj,Cancel:qj,isAxiosError:Wj,spread:Uj,toFormData:Vj,AxiosHeaders:Hj,HttpStatusCode:Qj,formToJSON:Yj,getAdapter:Kj,mergeConfig:Gj}=q;q.defaults.timeout=3e4;q.defaults.timeoutErrorMessage="Request timeout - please try again";const G=cb()(db((e,t)=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null},search_filters:{location:null,check_in:null,check_out:null,guest_count:null,price_min:null,price_max:null,property_types:[],amenities:[],sort_by:"recommended"},booking_cart:{listing_id:null,check_in:null,check_out:null,guest_count:null,special_requests:null},user_role:{role:null},notification_count:{unread_count:0},websocket_connection:null,websocket_connected:!1,currentLanguage:"ar",currentCurrency:"LYD",login_user:async(r,n)=>{var i,a;e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null}}));try{const o=await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/login",{email:r,password:n},{headers:{"Content-Type":"application/json"}}),{user:l,token:c}=o.data;e(()=>({authentication_state:{current_user:l,auth_token:c,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null},user_role:{role:l.role}})),t().connect_websocket(c)}catch(o){const l=((a=(i=o.response)==null?void 0:i.data)==null?void 0:a.message)||o.message||"Login failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:l}})),new Error(l)}},logout_user:()=>{t().disconnect_websocket(),e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null},user_role:{role:null}}))},register_user:async r=>{var n,i;e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null}}));try{const a=await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/register",r,{headers:{"Content-Type":"application/json"}}),{user:o,token:l}=a.data;e(()=>({authentication_state:{current_user:o,auth_token:l,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null},user_role:{role:o.role}})),t().connect_websocket(l)}catch(a){const o=((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||a.message||"Registration failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:o}})),new Error(o)}},initialize_auth:async()=>{const{auth_token:r}=t().authentication_state;if(!r){e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null}}));return}try{const n=await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/verify",{headers:{Authorization:`Bearer ${r}`}}),{user:i}=n.data;e(()=>({authentication_state:{current_user:i,auth_token:r,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null},user_role:{role:i.role}})),t().connect_websocket(r)}catch(n){console.error("Auth initialization error:",n),e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null},user_role:{role:null}}))}},clear_auth_error:()=>{e(r=>({authentication_state:{...r.authentication_state,error_message:null}}))},update_search_filters:r=>{e(n=>({search_filters:{...n.search_filters,...r}}))},reset_search_filters:()=>{e(()=>({search_filters:{location:null,check_in:null,check_out:null,guest_count:null,price_min:null,price_max:null,property_types:[],amenities:[],sort_by:"recommended"}}))},update_booking_cart:r=>{e(n=>({booking_cart:{...n.booking_cart,...r}}))},clear_booking_cart:()=>{e(()=>({booking_cart:{listing_id:null,check_in:null,check_out:null,guest_count:null,special_requests:null}}))},update_user_role:r=>{e(()=>({user_role:{role:r}}))},update_notification_count:r=>{e(()=>({notification_count:{unread_count:r}}))},increment_notification_count:()=>{e(r=>({notification_count:{unread_count:r.notification_count.unread_count+1}}))},decrement_notification_count:()=>{e(r=>({notification_count:{unread_count:Math.max(0,r.notification_count.unread_count-1)}}))},setLanguage:r=>{e(()=>({currentLanguage:r}))},connect_websocket:r=>{t().websocket_connection&&t().disconnect_websocket();const n=_a("https://123airbnb-but-just-for-libya.launchpulse.ai",{auth:{token:r}});n.on("connect",()=>{e(()=>({websocket_connected:!0}))}),n.on("disconnect",()=>{e(()=>({websocket_connected:!1}))}),e(()=>({websocket_connection:n})),t().subscribe_to_events()},disconnect_websocket:()=>{const r=t().websocket_connection;r&&(r.disconnect(),e(()=>({websocket_connection:null,websocket_connected:!1})))},subscribe_to_events:()=>{const r=t().websocket_connection;r&&(r.on("message:new",()=>{t().increment_notification_count()}),r.on("booking:request",()=>{t().increment_notification_count()}),r.on("booking:confirmed",()=>{t().increment_notification_count()}),r.on("booking:declined",()=>{t().increment_notification_count()}),r.on("booking:cancelled",()=>{t().increment_notification_count()}))}}),{name:"libyastay-storage",storage:Y0(()=>localStorage),partialize:e=>({authentication_state:{current_user:e.authentication_state.current_user,auth_token:e.authentication_state.auth_token,authentication_status:{is_authenticated:e.authentication_state.authentication_status.is_authenticated,is_loading:!1},error_message:null},search_filters:e.search_filters,booking_cart:e.booking_cart,user_role:e.user_role,notification_count:e.notification_count})}));class Mw extends C.Component{constructor(){super(...arguments);Zu(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Uncaught error:",r,n)}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:s.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:s.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Something went wrong"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>window.location.reload(),children:"Refresh Page"})}),!1]})})})}):this.props.children}}const Ow=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState(!1),i=G(g=>g.authentication_state.current_user),a=G(g=>g.authentication_state.authentication_status.is_authenticated),o=G(g=>g.notification_count.unread_count),l=G(g=>g.logout_user),c=Ps(),u=()=>{l(),n(!1)},d=()=>{t(!e)},h=()=>{t(!1)},y=()=>{n(!r)},p=()=>{n(!1)};return ts.useEffect(()=>{const g=()=>{r&&p()};return document.addEventListener("click",g),()=>{document.removeEventListener("click",g)}},[r]),ts.useEffect(()=>{h()},[c]),s.jsx(s.Fragment,{children:s.jsxs("nav",{className:"bg-white shadow-md sticky top-0 z-50",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between h-16",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(H,{to:"/",className:"flex-shrink-0 flex items-center",onClick:h,children:s.jsx("div",{className:"bg-red-600 text-white font-bold text-xl px-3 py-1 rounded",children:"LibyaStay"})}),s.jsxs("div",{className:"hidden md:ml-6 md:flex md:space-x-8",children:[s.jsx(H,{to:"/",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${c.pathname==="/"?"border-red-600 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,onClick:h,children:"Home"}),s.jsx(H,{to:"/search",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${c.pathname==="/search"?"border-red-600 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,onClick:h,children:"Search"}),a&&(i==null?void 0:i.role)==="host"&&s.jsx(H,{to:"/dashboard/listings",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${c.pathname==="/dashboard/listings"?"border-red-600 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,onClick:h,children:"Listings"}),a&&s.jsx(H,{to:"/messages",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${c.pathname==="/messages"?"border-red-600 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,onClick:h,children:"Messages"})]})]}),s.jsxs("div",{className:"flex items-center",children:[a?s.jsxs("div",{className:"flex items-center",children:[s.jsxs(H,{to:"/notifications",className:"p-1 rounded-full text-gray-600 hover:text-gray-900 focus:outline-none relative",onClick:h,children:[s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),o>0&&s.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:o})]}),s.jsxs("div",{className:"ml-3 relative",children:[s.jsx("div",{children:s.jsx("button",{onClick:y,className:"flex text-sm rounded-full focus:outline-none","aria-expanded":r,"aria-haspopup":"true",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:i!=null&&i.profile_picture_url?s.jsx("img",{className:"h-8 w-8 rounded-full",src:i.profile_picture_url,alt:i.name}):s.jsx("span",{className:"text-gray-700 font-medium",children:i==null?void 0:i.name.charAt(0)})})})}),r&&s.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-gray-200",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:i==null?void 0:i.name}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:i==null?void 0:i.email})]}),s.jsx(H,{to:"/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:p,children:"Dashboard"}),s.jsx(H,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:p,children:"Settings"}),(i==null?void 0:i.emergency_contact_name)&&s.jsxs("div",{className:"px-4 py-2 text-xs text-red-600 bg-red-50",children:[s.jsx("span",{className:"font-medium",children:"Emergency:"})," ",i.emergency_contact_name]}),s.jsx("button",{onClick:u,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Sign out"})]})]})]}):s.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[s.jsx(H,{to:"/login",className:"text-gray-700 hover:text-gray-900 text-sm font-medium",onClick:h,children:"Login"}),s.jsx(H,{to:"/register",className:"bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700",onClick:h,children:"Register"})]}),s.jsx("div",{className:"md:hidden flex items-center ml-4",children:s.jsxs("button",{onClick:d,className:"inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none","aria-expanded":"false",children:[s.jsx("span",{className:"sr-only",children:"Open main menu"}),e?s.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):s.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})]})}),e&&s.jsx("div",{className:"md:hidden",children:s.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[s.jsx(H,{to:"/",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${c.pathname==="/"?"bg-red-50 border-red-600 text-red-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:h,children:"Home"}),s.jsx(H,{to:"/search",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${c.pathname==="/search"?"bg-red-50 border-red-600 text-red-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:h,children:"Search"}),a&&(i==null?void 0:i.role)==="host"&&s.jsx(H,{to:"/dashboard/listings",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${c.pathname==="/dashboard/listings"?"bg-red-50 border-red-600 text-red-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:h,children:"Listings"}),a&&s.jsx(H,{to:"/messages",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${c.pathname==="/messages"?"bg-red-50 border-red-600 text-red-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:h,children:"Messages"}),a?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"border-t border-gray-200 pt-4 pb-3",children:[s.jsxs("div",{className:"flex items-center px-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:i!=null&&i.profile_picture_url?s.jsx("img",{className:"h-10 w-10 rounded-full",src:i.profile_picture_url,alt:i.name}):s.jsx("span",{className:"text-gray-700 font-medium",children:i==null?void 0:i.name.charAt(0)})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("div",{className:"text-base font-medium text-gray-800",children:i==null?void 0:i.name}),s.jsx("div",{className:"text-sm font-medium text-gray-500",children:i==null?void 0:i.email}),(i==null?void 0:i.emergency_contact_name)&&s.jsxs("div",{className:"text-xs text-red-600 mt-1",children:[s.jsx("span",{className:"font-medium",children:"Emergency:"})," ",i.emergency_contact_name]})]})]}),s.jsxs("div",{className:"mt-3 space-y-1",children:[s.jsx(H,{to:"/dashboard",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",onClick:h,children:"Dashboard"}),s.jsx(H,{to:"/settings",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",onClick:h,children:"Settings"}),s.jsx("button",{onClick:()=>{u(),h()},className:"block w-full text-left px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:"Sign out"})]})]})}):s.jsxs(s.Fragment,{children:[s.jsx(H,{to:"/login",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800",onClick:h,children:"Login"}),s.jsx(H,{to:"/register",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800",onClick:h,children:"Register"})]})]})})]})})},Fw=()=>{const e=G(n=>n.currentLanguage||"ar"),t=G(n=>n.setLanguage),r=n=>{t(n)};return s.jsx(s.Fragment,{children:s.jsx("footer",{className:"bg-gray-900 text-gray-300 mt-auto","aria-label":"Site footer",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white",lang:"ar",children:" "}),s.jsx("p",{className:"text-sm",children:e==="ar"?"              .":"LibyaStay connects travelers with local hosts for authentic Libyan accommodation experiences."}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold text-white",children:"Contact Us"}),s.jsx("p",{children:"123 Tripoli Street"}),s.jsx("p",{children:"Tripoli, Libya"}),s.jsx("p",{children:"+218 91 234 5678"}),s.jsx("p",{children:"support@libyastay.com"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:e==="ar"?"  ":"Legal & Support"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(H,{to:"/terms",className:"hover:text-white transition-colors",children:e==="ar"?" ":"Terms of Service"})}),s.jsx("li",{children:s.jsx(H,{to:"/privacy",className:"hover:text-white transition-colors",children:e==="ar"?" ":"Privacy Policy"})}),s.jsx("li",{children:s.jsx(H,{to:"/help",className:"hover:text-white transition-colors",children:e==="ar"?" ":"Help Center"})}),s.jsx("li",{children:s.jsx(H,{to:"/safety",className:"hover:text-white transition-colors",children:e==="ar"?" ":"Safety Guidelines"})}),s.jsx("li",{children:s.jsx(H,{to:"/contact",className:"hover:text-white transition-colors",children:e==="ar"?"  ":"Report Abuse"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:e==="ar"?"":"Follow Us"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Facebook",children:[s.jsx("span",{className:"sr-only",children:"Facebook"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Instagram",children:[s.jsx("span",{className:"sr-only",children:"Instagram"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Twitter",children:[s.jsx("span",{className:"sr-only",children:"Twitter"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]}),s.jsxs("div",{className:"text-sm mt-4",children:[s.jsx("p",{className:"font-semibold text-white",children:e==="ar"?"":"Partnerships"}),s.jsx("p",{children:e==="ar"?"    ":"In partnership with local institutions"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:e==="ar"?"":"Settings"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"language-select",className:"block text-sm font-medium text-gray-400 mb-1",children:e==="ar"?"":"Language"}),s.jsxs("select",{id:"language-select",value:e,onChange:n=>r(n.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-700 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md bg-gray-800 text-white",children:[s.jsx("option",{value:"ar",children:""}),s.jsx("option",{value:"en",children:"English"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:e==="ar"?"":"Currency"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:"LYD"}),s.jsxs("svg",{className:"h-4 w-6",viewBox:"0 0 30 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("rect",{width:"30",height:"20",fill:"#CE1126"}),s.jsx("rect",{y:"6.66663",width:"30",height:"6.66667",fill:"black"}),s.jsx("rect",{y:"13.3334",width:"30",height:"6.66667",fill:"#007A3D"})]})]})]})]})]})]}),s.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-800 text-center text-sm",children:[s.jsxs("p",{children:[" ",new Date().getFullYear()," LibyaStay. ",e==="ar"?"  .":"All rights reserved."]}),s.jsx("div",{className:"mt-2 flex justify-center space-x-6",children:s.jsx("span",{children:e==="ar"?" Libyan Market":"Libyan Market Platform"})})]})]})})})},Aw=()=>{const e=dr(),t=G(p=>p.update_search_filters),r=G(p=>p.authentication_state.authentication_status.is_authenticated),[n,i]=C.useState({location:"",check_in:"",check_out:"",guest_count:1}),{data:a,isLoading:o,error:l}=le({queryKey:["featuredProperties"],queryFn:async()=>(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties",{params:{limit:6,sort_by:"created_at"}})).data.properties,staleTime:5*60*1e3,retry:1}),{data:c,isLoading:u,error:d}=le({queryKey:["testimonials"],queryFn:async()=>{const g=(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/reviews",{params:{limit:3,sort_by:"created_at"}})).data.reviews;return await Promise.all(g.map(async N=>{try{const x=await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${N.reviewer_id}`);return{...N,reviewer_name:x.data.name,reviewer_profile_picture:x.data.profile_picture_url}}catch{return{...N,reviewer_name:"Verified Guest",reviewer_profile_picture:null}}}))},staleTime:10*60*1e3,retry:1}),h=p=>{if(p.preventDefault(),n.check_in&&n.check_out){const g=new Date(n.check_in+"T00:00:00"),v=new Date(n.check_out+"T00:00:00"),N=new Date;if(N.setHours(0,0,0,0),isNaN(g.getTime())||isNaN(v.getTime())){alert("Please enter valid dates");return}if(g<N){alert("Check-in date cannot be in the past");return}if(v<=g){alert("Check-out date must be after check-in date");return}}if(!n.location.trim()){alert("Please enter a location");return}t({location:n.location||null,check_in:n.check_in||null,check_out:n.check_out||null,guest_count:n.guest_count||null}),e("/search")},y=(p,g)=>{i(v=>({...v,[p]:g}))};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-slate-950 via-indigo-950 to-slate-950 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-10 -left-10 w-96 h-96 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-pulse"}),s.jsx("div",{className:"absolute top-20 -right-10 w-80 h-80 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-40 animate-bounce"}),s.jsx("div",{className:"absolute -bottom-20 left-1/4 w-72 h-72 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full mix-blend-multiply filter blur-3xl opacity-35 animate-pulse"}),s.jsx("div",{className:"absolute top-1/2 right-1/4 w-64 h-64 bg-gradient-to-r from-orange-400 to-red-500 rounded-full mix-blend-multiply filter blur-3xl opacity-25 animate-bounce"})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-950/80 via-indigo-950/60 to-slate-950/90"}),s.jsx("div",{className:"absolute inset-0 opacity-5",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),s.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 pt-24 pb-32 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[s.jsx("div",{className:"mb-12 animate-fade-in-up",children:s.jsxs("span",{className:"group inline-flex items-center px-6 py-3 rounded-full text-sm font-semibold bg-gradient-to-r from-white/10 to-white/5 text-white backdrop-blur-xl border border-white/20 shadow-2xl hover:shadow-cyan-500/25 transition-all duration-500 hover:scale-105",children:[s.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full mr-3 animate-pulse"}),s.jsx("svg",{className:"w-4 h-4 mr-2 text-cyan-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Trusted by 1000+ travelers worldwide",s.jsx("svg",{className:"w-4 h-4 ml-2 text-white/60 group-hover:text-white/80 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}),s.jsxs("div",{className:"mb-8 animate-fade-in-up animation-delay-200",children:[s.jsxs("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-black text-white leading-[0.9] mb-6 tracking-tight",children:[s.jsxs("span",{className:"block relative",children:["Discover",s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-purple-500/20 blur-lg rounded-lg"})]}),s.jsx("span",{className:"block bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent animate-gradient-x bg-300% mt-4",children:"Libya's Hidden Gems"})]}),s.jsxs("div",{className:"relative mt-8",children:[s.jsxs("p",{className:"text-xl md:text-2xl lg:text-3xl text-slate-300 max-w-4xl mx-auto leading-relaxed font-light",children:["Experience ",s.jsx("span",{className:"text-white font-medium",children:"authentic Libyan hospitality"})," with our curated collection of",s.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent font-medium",children:" unique accommodations"})," across the country's most beautiful destinations."]}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-24 h-1 bg-gradient-to-r from-cyan-400 to-purple-400 rounded-full opacity-60"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mt-12 animate-fade-in-up animation-delay-400",children:[s.jsxs("button",{onClick:()=>e("/search"),className:"group relative px-8 py-4 bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-semibold rounded-2xl shadow-2xl hover:shadow-cyan-500/25 transition-all duration-500 transform hover:scale-105 hover:-translate-y-1",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400 to-purple-500 rounded-2xl blur opacity-75 group-hover:opacity-100 transition duration-500"}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Start Exploring"]})]}),s.jsx("button",{onClick:()=>{const p=document.querySelector('[data-section="how-it-works"]');p?p.scrollIntoView({behavior:"smooth"}):e("/search")},className:"group px-8 py-4 bg-white/10 backdrop-blur-xl text-white font-semibold rounded-2xl border border-white/20 hover:bg-white/20 transition-all duration-500 transform hover:scale-105",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Watch Demo",s.jsx("svg",{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]}),s.jsx("div",{className:"max-w-6xl mx-auto mt-20 animate-fade-in-up animation-delay-600",children:s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 via-purple-500/20 to-pink-500/20 rounded-3xl blur-xl opacity-75 group-hover:opacity-100 transition duration-1000"}),s.jsxs("div",{className:"relative bg-white/10 backdrop-blur-2xl rounded-3xl border border-white/20 shadow-2xl p-8 lg:p-12",children:[s.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mb-10",children:[s.jsxs("button",{onClick:()=>e("/search"),className:"group relative px-8 py-4 text-sm font-bold text-white bg-gradient-to-r from-cyan-500 to-purple-600 rounded-2xl shadow-xl hover:shadow-cyan-500/25 transition-all duration-500 transform hover:scale-105 modern-button",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400 to-purple-500 rounded-2xl blur opacity-50 group-hover:opacity-75 transition duration-500"}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Rent"]})]}),s.jsx("button",{onClick:()=>e("/search"),className:"group px-8 py-4 text-sm font-semibold text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-2xl border border-white/20 hover:border-white/40 transition-all duration-500 transform hover:scale-105",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"Buy"]})}),s.jsx("button",{onClick:()=>{e(r?"/listings/create":"/register")},className:"group px-8 py-4 text-sm font-semibold text-white/80 hover:text-white bg-white/10 hover:bg-white/20 rounded-2xl border border-white/20 hover:border-white/40 transition-all duration-500 transform hover:scale-105",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Sell"]})})]}),s.jsxs("form",{onSubmit:h,className:"space-y-8",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-8 flex items-center pointer-events-none z-10",children:s.jsx("div",{className:"p-2 bg-gradient-to-r from-cyan-500 to-purple-600 rounded-xl",children:s.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 12.414a6 6 0 111.414-1.414l4.243 4.243a1 1 0 01-1.414 1.414z"})})})}),s.jsx("input",{type:"text",id:"location",placeholder:"Where do you want to stay? (City, neighborhood, or landmark)",value:n.location,onChange:p=>y("location",p.target.value),className:"w-full pl-20 pr-8 py-6 text-lg bg-white/95 backdrop-blur-xl border-2 border-white/30 rounded-3xl focus:ring-4 focus:ring-cyan-500/30 focus:border-cyan-400 text-gray-900 placeholder-gray-500 shadow-2xl transition-all duration-500 hover:shadow-cyan-500/10 group-hover:border-white/50",required:!0}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 to-purple-500/10 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("label",{className:"block text-sm font-bold text-white/95 mb-3 tracking-wide",children:"Check-in"}),s.jsx("input",{type:"date",id:"check_in",value:n.check_in,onChange:p=>y("check_in",p.target.value),min:new Date().toISOString().split("T")[0],max:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],className:"w-full px-6 py-5 bg-white/95 backdrop-blur-xl border-2 border-white/30 rounded-2xl focus:ring-4 focus:ring-cyan-500/30 focus:border-cyan-400 text-gray-900 shadow-xl transition-all duration-500 hover:shadow-cyan-500/10 group-hover:border-white/50",required:!0})]}),s.jsxs("div",{className:"relative group",children:[s.jsx("label",{className:"block text-sm font-bold text-white/95 mb-3 tracking-wide",children:"Check-out"}),s.jsx("input",{type:"date",id:"check_out",value:n.check_out,onChange:p=>y("check_out",p.target.value),min:n.check_in?new Date(new Date(n.check_in).getTime()+24*60*60*1e3).toISOString().split("T")[0]:new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],max:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],className:"w-full px-6 py-5 bg-white/95 backdrop-blur-xl border-2 border-white/30 rounded-2xl focus:ring-4 focus:ring-cyan-500/30 focus:border-cyan-400 text-gray-900 shadow-xl transition-all duration-500 hover:shadow-cyan-500/10 group-hover:border-white/50",required:!0})]}),s.jsxs("div",{className:"relative group",children:[s.jsx("label",{className:"block text-sm font-bold text-white/95 mb-3 tracking-wide",children:"Guests"}),s.jsx("select",{id:"guests",value:n.guest_count,onChange:p=>y("guest_count",parseInt(p.target.value)),className:"w-full px-6 py-5 bg-white/95 backdrop-blur-xl border-2 border-white/30 rounded-2xl focus:ring-4 focus:ring-cyan-500/30 focus:border-cyan-400 text-gray-900 shadow-xl transition-all duration-500 hover:shadow-cyan-500/10 group-hover:border-white/50",children:[1,2,3,4,5,6,7,8].map(p=>s.jsxs("option",{value:p,children:[p," ",p===1?"Guest":"Guests"]},p))})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("button",{type:"submit",className:"group relative w-full bg-gradient-to-r from-cyan-600 via-purple-600 to-pink-600 hover:from-cyan-500 hover:via-purple-500 hover:to-pink-500 text-white font-bold py-5 px-8 rounded-2xl transition-all duration-500 flex items-center justify-center shadow-2xl hover:shadow-cyan-500/25 transform hover:scale-105 hover:-translate-y-1 modern-button overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 opacity-0 group-hover:opacity-20 transition-opacity duration-500"}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx("svg",{className:"w-6 h-6 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search Now"]})]})})]})]})]})]})}),s.jsxs("div",{className:"mt-24 grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[s.jsx("div",{className:"text-center group animate-fade-in-up animation-delay-200",children:s.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl rounded-3xl p-8 border border-white/20 hover:bg-white/15 transition-all duration-500 transform hover:scale-110 hover:-translate-y-2 shadow-2xl hover:shadow-cyan-500/20",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/10 to-purple-500/10 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"text-5xl lg:text-6xl font-black bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent mb-3 animate-gradient-x bg-300%",children:"500+"}),s.jsx("div",{className:"text-white/90 font-semibold text-lg tracking-wide",children:"Properties Listed"}),s.jsx("div",{className:"mt-2 w-12 h-1 bg-gradient-to-r from-cyan-400 to-purple-400 rounded-full mx-auto"})]})]})}),s.jsx("div",{className:"text-center group animate-fade-in-up animation-delay-400",children:s.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl rounded-3xl p-8 border border-white/20 hover:bg-white/15 transition-all duration-500 transform hover:scale-110 hover:-translate-y-2 shadow-2xl hover:shadow-purple-500/20",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"text-5xl lg:text-6xl font-black bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-3 animate-gradient-x bg-300%",children:"50+"}),s.jsx("div",{className:"text-white/90 font-semibold text-lg tracking-wide",children:"Cities Covered"}),s.jsx("div",{className:"mt-2 w-12 h-1 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full mx-auto"})]})]})}),s.jsx("div",{className:"text-center group animate-fade-in-up animation-delay-600",children:s.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl rounded-3xl p-8 border border-white/20 hover:bg-white/15 transition-all duration-500 transform hover:scale-110 hover:-translate-y-2 shadow-2xl hover:shadow-emerald-500/20",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/10 to-cyan-500/10 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"text-5xl lg:text-6xl font-black bg-gradient-to-r from-emerald-400 to-cyan-400 bg-clip-text text-transparent mb-3 animate-gradient-x bg-300%",children:"1000+"}),s.jsx("div",{className:"text-white/90 font-semibold text-lg tracking-wide",children:"Happy Guests"}),s.jsx("div",{className:"mt-2 w-12 h-1 bg-gradient-to-r from-emerald-400 to-cyan-400 rounded-full mx-auto"})]})]})})]})]}),s.jsx("div",{className:"py-16 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Featured Destinations"}),s.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Discover amazing places to stay across Libya"})]}),o?s.jsx("div",{className:"flex justify-center mt-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-600"})}):l?s.jsx("div",{className:"text-center mt-12 text-red-600",children:"Failed to load featured destinations. Please try again later."}):a&&a.length>0?s.jsx("div",{className:"mt-12 grid gap-5 max-w-lg mx-auto lg:grid-cols-3 lg:max-w-none",children:a.map(p=>{var g,v;return s.jsxs("div",{className:"flex flex-col rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[s.jsxs("div",{className:"flex-shrink-0 relative",children:[s.jsx("img",{className:"h-48 w-full object-cover",src:`https://picsum.photos/400/300?random=${p.property_id}`,alt:p.title,onError:N=>{const x=N.target;x.src=`https://via.placeholder.com/400x300/4ade80/ffffff?text=${encodeURIComponent(p.property_type)}`}}),p.instant_book&&s.jsx("div",{className:"absolute top-3 left-3 bg-green-500 text-white px-2 py-1 rounded text-xs font-semibold",children:"Instant Book"})]}),s.jsxs("div",{className:"flex-1 bg-white p-6 flex flex-col justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm font-medium text-green-600",children:[p.city,p.neighborhood?`, ${p.neighborhood}`:""]}),s.jsxs("div",{className:"flex items-center text-yellow-400",children:[s.jsx("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),s.jsx("span",{className:"text-sm text-gray-600 ml-1",children:"4.8"})]})]}),s.jsxs(H,{to:`/properties/${p.property_id}`,className:"block mt-2 hover:text-green-600 transition-colors",children:[s.jsx("p",{className:"text-xl font-semibold text-gray-900",children:p.title}),s.jsx("p",{className:"mt-3 text-base text-gray-500 line-clamp-3",children:p.description})]}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[(g=p.amenities)==null?void 0:g.split(",").slice(0,3).map((N,x)=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800",children:N.trim()},x)),((v=p.amenities)==null?void 0:v.split(",").length)>3&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800",children:["+",p.amenities.split(",").length-3," more"]})]})]}),s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[p.guest_capacity," guests"]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[p.bedrooms," bed",p.bedrooms!==1?"s":"","  ",p.bathrooms," bath",p.bathrooms!==1?"s":""]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[p.base_price_per_night," LYD"]}),s.jsx("p",{className:"text-sm text-gray-500",children:"/night"})]})]})]})]},p.property_id)})}):s.jsx("div",{className:"mt-12 grid gap-5 max-w-lg mx-auto lg:grid-cols-3 lg:max-w-none",children:[1,2,3].map(p=>s.jsxs("div",{className:"flex flex-col rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[s.jsxs("div",{className:"flex-shrink-0 relative",children:[s.jsx("img",{className:"h-48 w-full object-cover",src:`https://picsum.photos/400/300?random=fallback${p}`,alt:`Featured property ${p}`}),s.jsx("div",{className:"absolute top-3 left-3 bg-green-500 text-white px-2 py-1 rounded text-xs font-semibold",children:"Featured"})]}),s.jsxs("div",{className:"flex-1 bg-white p-6 flex flex-col justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-green-600",children:p===1?"Tripoli, Al-Hadba":p===2?"Benghazi, Al-Wahda":"Misrata, City Center"}),s.jsxs("div",{className:"flex items-center text-yellow-400",children:[s.jsx("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),s.jsx("span",{className:"text-sm text-gray-600 ml-1",children:"4.9"})]})]}),s.jsxs("div",{className:"block mt-2",children:[s.jsx("p",{className:"text-xl font-semibold text-gray-900",children:p===1?"Luxury Seafront Villa":p===2?"Traditional Libyan House":"Modern City Apartment"}),s.jsx("p",{className:"mt-3 text-base text-gray-500 line-clamp-3",children:p===1?"Stunning luxury villa with panoramic Mediterranean views, private beach access, and world-class amenities. Perfect for families and groups seeking an unforgettable Libyan experience.":p===2?"Authentic traditional house in the historic quarter of Benghazi. Features beautiful courtyards, traditional architecture, and warm Libyan hospitality.":"Contemporary apartment in the bustling heart of Misrata. Walking distance to markets, restaurants, and cultural sites. Ideal for business and leisure travelers."})]}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[(p===1?["WiFi","Beach Access","Pool"]:p===2?["WiFi","Courtyard","Traditional"]:["WiFi","City Center","Modern"]).map((g,v)=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800",children:g},v)),s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800",children:["+",p+2," more"]})]})]}),s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[p===1?"8":p===2?"6":"4"," guests"]}),s.jsx("span",{className:"text-sm text-gray-500",children:p===1?"4 beds  3 baths":p===2?"3 beds  2 baths":"2 beds  1 bath"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[p===1?"300":p===2?"180":"120"," LYD"]}),s.jsx("p",{className:"text-sm text-gray-500",children:"/night"})]})]})]})]},p))})]})}),s.jsx("div",{className:"py-16 bg-white","data-section":"how-it-works",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"lg:text-center",children:[s.jsx("h2",{className:"text-base text-green-600 font-semibold tracking-wide uppercase",children:"How It Works"}),s.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"For Travelers & Hosts"})]}),s.jsx("div",{className:"mt-16",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"For Travelers"}),s.jsx("div",{className:"space-y-10",children:[{title:"Search & Discover",description:"Browse our extensive collection of accommodations in Libyan cities."},{title:"Book Your Stay",description:"Secure your accommodation with our simple booking process."},{title:"Enjoy Your Trip",description:"Experience authentic Libyan hospitality and culture."}].map((p,g)=>s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-green-500 text-white font-bold",children:g+1})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h4",{className:"text-lg leading-6 font-medium text-gray-900",children:p.title}),s.jsx("p",{className:"mt-2 text-base text-gray-500",children:p.description})]})]},g))}),s.jsx("div",{className:"mt-8",children:s.jsx(H,{to:"/search",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700",children:"Find Your Stay"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"For Hosts"}),s.jsx("div",{className:"space-y-10",children:[{title:"List Your Property",description:"Create a detailed listing of your space with photos and amenities."},{title:"Receive Booking Requests",description:"Get notified when travelers want to book your property."},{title:"Earn Income",description:"Welcome guests and earn money from your listing."}].map((p,g)=>s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-red-500 text-white font-bold",children:g+1})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h4",{className:"text-lg leading-6 font-medium text-gray-900",children:p.title}),s.jsx("p",{className:"mt-2 text-base text-gray-500",children:p.description})]})]},g))}),s.jsx("div",{className:"mt-8",children:r?s.jsx(H,{to:"/listings/create",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:"Add Your Property"}):s.jsx(H,{to:"/register",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:"Become a Host"})})]})]})})]})}),s.jsx("div",{className:"py-16 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Your Safety is Our Priority"}),s.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"We ensure secure and trustworthy experiences for all users"})]}),s.jsx("div",{className:"mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Verified Listings",description:"All properties are verified for accuracy and safety"},{title:"Secure Payments",description:"Safe and transparent payment processing"},{title:"24/7 Support",description:"Round-the-clock assistance for all your needs"},{title:"Local Community",description:"Authentic experiences with Libyan hosts"}].map((p,g)=>s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-green-500 text-white",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),s.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:p.title}),s.jsx("p",{className:"mt-2 text-base text-gray-500",children:p.description})]},g))})]})}),s.jsx("div",{className:"py-16 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"What Our Guests Say"}),s.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Hear from travelers who've experienced Libya through LibyaStay"})]}),u?s.jsx("div",{className:"flex justify-center mt-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-600"})}):d?s.jsx("div",{className:"text-center mt-12 text-red-600",children:"Failed to load testimonials. Please try again later."}):s.jsx("div",{className:"mt-12 grid gap-8 lg:grid-cols-3",children:c&&c.length>0?c.map(p=>{var g;return s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 hover:bg-gray-100 transition-colors duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((v,N)=>s.jsx("svg",{className:`h-5 w-5 ${N<p.overall_rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},N))}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(p.created_at).toLocaleDateString()})]}),s.jsx("blockquote",{className:"mt-4",children:s.jsxs("p",{className:"text-base text-gray-700 italic",children:['"',p.comment||"This was an amazing experience. The host was very welcoming and the place was exactly as described.",'"']})}),s.jsxs("div",{className:"mt-6 flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:p.reviewer_profile_picture?s.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:p.reviewer_profile_picture,alt:p.reviewer_name}):s.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-green-400 to-blue-500 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:((g=p.reviewer_name)==null?void 0:g.charAt(0))||"G"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.reviewer_name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Verified Guest  ",p.overall_rating,"/5 stars"]})]})]})]},p.review_id)}):[1,2,3].map(p=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((g,v)=>s.jsx("svg",{className:"h-5 w-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},v))}),s.jsx("blockquote",{className:"mt-4",children:s.jsxs("p",{className:"text-base text-gray-700 italic",children:['"',p===1?"Incredible experience! The property was exactly as advertised and the host went above and beyond to make our stay memorable.":p===2?"Beautiful location, clean facilities, and excellent hospitality. Will definitely be returning!":"Outstanding service and authentic Libyan hospitality. Highly recommend to anyone visiting Libya!",'"']})}),s.jsxs("div",{className:"mt-6 flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-green-400 to-blue-500 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:p===1?"A":p===2?"M":"S"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:p===1?"Ahmed K.":p===2?"Maria L.":"Sarah M."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Verified Guest  5/5 stars"})]})]})]},p))})]})}),s.jsx("div",{className:"py-16 bg-gradient-to-r from-green-700 to-red-700",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold text-white",children:"Ready to Experience Libya?"}),s.jsx("p",{className:"mt-4 text-lg text-green-100",children:"Join thousands of travelers and hosts on LibyaStay"}),s.jsxs("div",{className:"mt-10 flex justify-center space-x-4",children:[s.jsx(H,{to:"/search",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-green-700 bg-white hover:bg-green-50",children:"Find Your Stay"}),r?s.jsx(H,{to:"/listings/create",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:"Add Your Property"}):s.jsx(H,{to:"/register",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:"Become a Host"})]})]})})})]})})},Dw=()=>{var E;const[e,t]=Nn(),r=G(w=>w.update_search_filters),[n,i]=C.useState(!1),[a,o]=C.useState(1),[l,c]=C.useState({location:e.get("location")||"",check_in:e.get("check_in")||"",check_out:e.get("check_out")||"",guest_count:e.get("guests")?parseInt(e.get("guests")||"1"):null,price_min:e.get("price_min")?parseFloat(e.get("price_min")||"0"):null,price_max:e.get("price_max")?parseFloat(e.get("price_max")||"0"):null,property_type:e.get("property_type")||"",amenities:e.get("amenities")?((E=e.get("amenities"))==null?void 0:E.split(","))||[]:[],instant_book:null,sort_by:e.get("sort_by")||"created_at"});C.useEffect(()=>{const w=e.get("amenities");w&&c(j=>({...j,amenities:w.split(",")}))},[e]),C.useEffect(()=>{r({location:l.location||null,check_in:l.check_in||null,check_out:l.check_out||null,guest_count:l.guest_count,price_min:l.price_min,price_max:l.price_max,property_types:l.property_type?[l.property_type]:[],amenities:l.amenities,sort_by:l.sort_by})},[l,r]);const u=async()=>{const w={limit:10,offset:(a-1)*10};return l.location&&(w.location=l.location),l.check_in&&(w.check_in=l.check_in),l.check_out&&(w.check_out=l.check_out),l.guest_count&&(w.guests=l.guest_count.toString()),l.price_min&&(w.price_min=l.price_min),l.price_max&&(w.price_max=l.price_max),l.property_type&&(w.property_type=l.property_type),l.amenities.length>0&&(w.amenities=l.amenities.join(",")),l.instant_book!==null&&(w.instant_book=l.instant_book.toString()),l.sort_by&&(w.sort_by=l.sort_by),(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties",{params:w})).data},{data:d,isLoading:h,error:y,refetch:p}=le({queryKey:["properties",l,a],queryFn:u,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),g=(w,j)=>{c($=>({...$,[w]:j})),o(1);const b=new URLSearchParams(e.toString());j!==null&&j!==""?w==="amenities"?b.set("amenities",j.join(",")):b.set(w,j.toString()):b.delete(w),t(b)},v=w=>{const j=l.amenities.includes(w)?l.amenities.filter(b=>b!==w):[...l.amenities,w];g("amenities",j)},N=w=>{g("property_type",l.property_type===w?"":w)},x=()=>{c({location:"",check_in:"",check_out:"",guest_count:null,price_min:null,price_max:null,property_type:"",amenities:[],instant_book:null,sort_by:"created_at"}),t({}),o(1)},f=d?Math.ceil(d.total_count/10):1,m=a<f,_=a>1;return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Find Your Stay in Libya"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:d?`${d.total_count} properties found`:"Searching properties..."})]}),s.jsx("div",{className:"mt-4 flex md:mt-0",children:s.jsx("button",{onClick:()=>i(!n),className:"ml-3 inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:n?"List View":"Map View"})})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("div",{className:"w-full lg:w-1/4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Filters"}),s.jsx("button",{onClick:x,className:"text-sm text-blue-600 hover:text-blue-800",children:"Reset all"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),s.jsx("input",{type:"text",id:"location",value:l.location,onChange:w=>g("location",w.target.value),placeholder:"City or neighborhood",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guests"}),s.jsxs("select",{value:l.guest_count||"",onChange:w=>g("guest_count",w.target.value?parseInt(w.target.value):null),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[s.jsx("option",{value:"",children:"Any number"}),[1,2,3,4,5,6,7,8].map(w=>s.jsxs("option",{value:w,children:[w," guest",w>1?"s":""]},w))]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price per night (LYD)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Min",value:l.price_min||"",onChange:w=>g("price_min",w.target.value?parseFloat(w.target.value):null),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Max",value:l.price_max||"",onChange:w=>g("price_max",w.target.value?parseFloat(w.target.value):null),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property type"}),s.jsx("div",{className:"space-y-2",children:["entire_place","private_room","shared_room"].map(w=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:`type-${w}`,name:"property-type",type:"checkbox",checked:l.property_type===w,onChange:()=>N(w),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:`type-${w}`,className:"ml-3 text-sm text-gray-700 capitalize",children:w.replace("_"," ")})]},w))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amenities"}),s.jsx("div",{className:"space-y-2",children:["wifi","ac","kitchen","parking","laundry","tv","pool","gym","generator_power_backup","water_tank"].map(w=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:`amenity-${w}`,name:`amenity-${w}`,type:"checkbox",checked:l.amenities.includes(w),onChange:()=>v(w),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:`amenity-${w}`,className:"ml-3 text-sm text-gray-700 capitalize",children:w.replace(/_/g," ")})]},w))})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"instant-book",name:"instant-book",type:"checkbox",checked:l.instant_book===!0,onChange:w=>g("instant_book",w.target.checked?!0:null),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"instant-book",className:"ml-3 text-sm text-gray-700",children:"Instant book"})]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"sort-by",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort by"}),s.jsxs("select",{id:"sort-by",value:l.sort_by,onChange:w=>g("sort_by",w.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[s.jsx("option",{value:"created_at",children:"Newest"}),s.jsx("option",{value:"price_low_to_high",children:"Price: Low to High"}),s.jsx("option",{value:"price_high_to_low",children:"Price: High to Low"}),s.jsx("option",{value:"rating_high_to_low",children:"Rating"})]})]})]})}),s.jsx("div",{className:"w-full lg:w-3/4",children:h?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):y?s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading properties"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:s.jsx("p",{children:y instanceof Error?y.message:"An error occurred while loading properties"})}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{type:"button",onClick:()=>p(),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Try again"})})]})]})}):n?s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Map View Coming Soon"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"Interactive map view with property markers will be available in a future update."}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>i(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to List View"})})]}):s.jsxs(s.Fragment,{children:[d&&d.properties.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.properties.map(w=>s.jsxs(H,{to:`/properties/${w.property_id}`,className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-md transition-shadow duration-300",children:[s.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-t-lg w-full h-48 flex items-center justify-center",children:s.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:w.title}),s.jsxs("p",{className:"text-sm text-gray-500",children:[w.city,w.neighborhood?`, ${w.neighborhood}`:""]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),s.jsx("span",{className:"ml-1 text-sm font-medium text-gray-900",children:"4.85"})]})]}),s.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[s.jsxs("span",{children:[w.guest_capacity," guests"]}),s.jsx("span",{className:"mx-2",children:""}),s.jsxs("span",{children:[w.bedrooms," bedroom",w.bedrooms!==1?"s":""]}),s.jsx("span",{className:"mx-2",children:""}),s.jsxs("span",{children:[w.bathrooms," bath"]})]}),s.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[w.has_power_backup&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Power Backup"}),w.has_water_tank&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Water Tank"}),w.instant_book&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Instant Book"})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[w.base_price_per_night," LYD ",s.jsx("span",{className:"text-sm font-normal text-gray-500",children:"night"})]})}),s.jsx("button",{className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Details"})]})]})]},w.property_id))}):s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No properties found"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"Try adjusting your search filters to find more properties."}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:x,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Reset all filters"})})]}),d&&d.total_count>10&&s.jsxs("div",{className:"mt-8 flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 rounded-lg shadow",children:[s.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>o(w=>Math.max(1,w-1)),disabled:!_,className:`relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${_?"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-300 bg-gray-100 border border-gray-200 cursor-not-allowed"}`,children:"Previous"}),s.jsx("button",{onClick:()=>o(w=>Math.min(f,w+1)),disabled:!m,className:`relative ml-3 inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${m?"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-300 bg-gray-100 border border-gray-200 cursor-not-allowed"}`,children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(a-1)*10+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(a*10,d.total_count)})," ","of ",s.jsx("span",{className:"font-medium",children:d.total_count})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[s.jsxs("button",{onClick:()=>o(w=>Math.max(1,w-1)),disabled:!_,className:`relative inline-flex items-center rounded-l-md px-2 py-2 ${_?"text-gray-400 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-200 bg-gray-100 border border-gray-200 cursor-not-allowed"}`,children:[s.jsx("span",{className:"sr-only",children:"Previous"}),s.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:Math.min(5,f)},(w,j)=>{let b;return f<=5||a<=3?b=j+1:a>=f-2?b=f-4+j:b=a-2+j,s.jsx("button",{onClick:()=>o(b),"aria-current":b===a?"page":void 0,className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${b===a?"z-10 bg-blue-600 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:outline-offset-0"}`,children:b},b)}),s.jsxs("button",{onClick:()=>o(w=>Math.min(f,w+1)),disabled:!m,className:`relative inline-flex items-center rounded-r-md px-2 py-2 ${m?"text-gray-400 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-200 bg-gray-100 border border-gray-200 cursor-not-allowed"}`,children:[s.jsx("span",{className:"sr-only",children:"Next"}),s.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})})]})})]})})};function st(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function lr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Bw(e,t){const r=st(e);return isNaN(t)?lr(e,NaN):(r.setDate(r.getDate()+t),r)}const Tp=6048e5,$w=864e5,Mp=6e4,Op=36e5;let Iw={};function Lo(){return Iw}function _i(e,t){var l,c,u,d;const r=Lo(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=st(e),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ro(e){return _i(e,{weekStartsOn:1})}function Fp(e){const t=st(e),r=t.getFullYear(),n=lr(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=ro(n),a=lr(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=ro(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function so(e){const t=st(e);return t.setHours(0,0,0,0),t}function Kh(e){const t=st(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function zw(e,t){const r=so(e),n=so(t),i=+r-Kh(r),a=+n-Kh(n);return Math.round((i-a)/$w)}function qw(e){const t=Fp(e),r=lr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ro(r)}function Ap(e){return lr(e,Date.now())}function no(e,t){const r=so(e),n=so(t);return+r==+n}function Ww(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Uw(e){if(!Ww(e)&&typeof e!="number")return!1;const t=st(e);return!isNaN(Number(t))}function Vw(e){const t=st(e),r=lr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Hw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qw=(e,t,r)=>{let n;const i=Hw[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function fl(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Yw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Kw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jw={date:fl({formats:Yw,defaultWidth:"full"}),time:fl({formats:Kw,defaultWidth:"full"}),dateTime:fl({formats:Gw,defaultWidth:"full"})},Xw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Zw=(e,t,r,n)=>Xw[e];function In(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const e2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},t2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},r2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},s2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},n2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},i2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},a2=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},o2={ordinalNumber:a2,era:In({values:e2,defaultWidth:"wide"}),quarter:In({values:t2,defaultWidth:"wide",argumentCallback:e=>e-1}),month:In({values:r2,defaultWidth:"wide"}),day:In({values:s2,defaultWidth:"wide"}),dayPeriod:In({values:n2,defaultWidth:"wide",formattingValues:i2,defaultFormattingWidth:"wide"})};function zn(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?c2(l,h=>h.test(o)):l2(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function l2(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function c2(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function u2(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const d2=/^(\d+)(th|st|nd|rd)?/i,h2=/\d+/i,m2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},f2={any:[/^b/i,/^(a|c)/i]},p2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},x2={any:[/1/i,/2/i,/3/i,/4/i]},g2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},y2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},v2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},b2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},w2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},j2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},N2={ordinalNumber:u2({matchPattern:d2,parsePattern:h2,valueCallback:e=>parseInt(e,10)}),era:zn({matchPatterns:m2,defaultMatchWidth:"wide",parsePatterns:f2,defaultParseWidth:"any"}),quarter:zn({matchPatterns:p2,defaultMatchWidth:"wide",parsePatterns:x2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:zn({matchPatterns:g2,defaultMatchWidth:"wide",parsePatterns:y2,defaultParseWidth:"any"}),day:zn({matchPatterns:v2,defaultMatchWidth:"wide",parsePatterns:b2,defaultParseWidth:"any"}),dayPeriod:zn({matchPatterns:w2,defaultMatchWidth:"any",parsePatterns:j2,defaultParseWidth:"any"})},_2={code:"en-US",formatDistance:Qw,formatLong:Jw,formatRelative:Zw,localize:o2,match:N2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function k2(e){const t=st(e);return zw(t,Vw(t))+1}function S2(e){const t=st(e),r=+ro(t)-+qw(t);return Math.round(r/Tp)+1}function Dp(e,t){var d,h,y,p;const r=st(e),n=r.getFullYear(),i=Lo(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(y=i.locale)==null?void 0:y.options)==null?void 0:p.firstWeekContainsDate)??1,o=lr(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=_i(o,t),c=lr(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=_i(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function C2(e,t){var l,c,u,d;const r=Lo(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=Dp(e,t),a=lr(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),_i(a,t)}function E2(e,t){const r=st(e),n=+_i(r,t)-+C2(r,t);return Math.round(n/Tp)+1}function ae(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const pr={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ae(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ae(r+1,2)},d(e,t){return ae(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ae(e.getHours()%12||12,t.length)},H(e,t){return ae(e.getHours(),t.length)},m(e,t){return ae(e.getMinutes(),t.length)},s(e,t){return ae(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ae(i,t.length)}},Ts={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gh={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return pr.y(e,t)},Y:function(e,t,r,n){const i=Dp(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return ae(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):ae(a,t.length)},R:function(e,t){const r=Fp(e);return ae(r,t.length)},u:function(e,t){const r=e.getFullYear();return ae(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ae(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ae(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return pr.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ae(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=E2(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):ae(i,t.length)},I:function(e,t,r){const n=S2(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ae(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):pr.d(e,t)},D:function(e,t,r){const n=k2(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ae(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ae(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ae(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return ae(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Ts.noon:n===0?i=Ts.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Ts.evening:n>=12?i=Ts.afternoon:n>=4?i=Ts.morning:i=Ts.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return pr.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):pr.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ae(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ae(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):pr.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):pr.s(e,t)},S:function(e,t){return pr.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Xh(n);case"XXXX":case"XX":return es(n);case"XXXXX":case"XXX":default:return es(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Xh(n);case"xxxx":case"xx":return es(n);case"xxxxx":case"xxx":default:return es(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Jh(n,":");case"OOOO":default:return"GMT"+es(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Jh(n,":");case"zzzz":default:return"GMT"+es(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ae(n,t.length)},T:function(e,t,r){const n=e.getTime();return ae(n,t.length)}};function Jh(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+ae(a,2)}function Xh(e,t){return e%60===0?(e>0?"-":"+")+ae(Math.abs(e)/60,2):es(e,t)}function es(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=ae(Math.trunc(n/60),2),a=ae(n%60,2);return r+i+t+a}const Zh=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Bp=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},P2=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Zh(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Zh(n,t)).replace("{{time}}",Bp(i,t))},L2={p:Bp,P:P2},R2=/^D+$/,T2=/^Y+$/,M2=["D","DD","YY","YYYY"];function O2(e){return R2.test(e)}function F2(e){return T2.test(e)}function A2(e,t,r){const n=D2(e,t,r);if(console.warn(n),M2.includes(e))throw new RangeError(n)}function D2(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const B2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,I2=/^'([^]*?)'?$/,z2=/''/g,q2=/[a-zA-Z]/;function vr(e,t,r){var d,h,y,p;const n=Lo(),i=n.locale??_2,a=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(y=n.locale)==null?void 0:y.options)==null?void 0:p.weekStartsOn)??0,l=st(e);if(!Uw(l))throw new RangeError("Invalid time value");let c=t.match($2).map(g=>{const v=g[0];if(v==="p"||v==="P"){const N=L2[v];return N(g,i.formatLong)}return g}).join("").match(B2).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const v=g[0];if(v==="'")return{isToken:!1,value:W2(g)};if(Gh[v])return{isToken:!0,value:g};if(v.match(q2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(g=>{if(!g.isToken)return g.value;const v=g.value;(F2(v)||O2(v))&&A2(v,t,String(e));const N=Gh[v[0]];return N(l,v,i.localize,u)}).join("")}function W2(e){const t=e.match(I2);return t?t[1].replace(z2,"'"):e}function U2(e,t){const r=st(e),n=st(t);return+r<+n}function V2(e){return no(e,Ap(e))}function H2(e,t){return Bw(e,-1)}function Q2(e){return no(e,H2(Ap(e)))}function Y2(e,t){const n=X2(e);let i;if(n.date){const c=Z2(n.date,2);i=ej(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let o=0,l;if(n.time&&(o=tj(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=rj(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+o+l)}const oa={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},K2=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,G2=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,J2=/^([+-])(\d{2})(?::?(\d{2}))?$/;function X2(e){const t={},r=e.split(oa.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],oa.timeZoneDelimiter.test(t.date)&&(t.date=e.split(oa.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=oa.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function Z2(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function ej(e,t){if(t===null)return new Date(NaN);const r=e.match(K2);if(!r)return new Date(NaN);const n=!!r[4],i=qn(r[1]),a=qn(r[2])-1,o=qn(r[3]),l=qn(r[4]),c=qn(r[5])-1;if(n)return oj(t,l,c)?sj(t,l,c):new Date(NaN);{const u=new Date(0);return!ij(t,a,o)||!aj(t,i)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(i,o)),u)}}function qn(e){return e?parseInt(e):1}function tj(e){const t=e.match(G2);if(!t)return NaN;const r=pl(t[1]),n=pl(t[2]),i=pl(t[3]);return lj(r,n,i)?r*Op+n*Mp+i*1e3:NaN}function pl(e){return e&&parseFloat(e.replace(",","."))||0}function rj(e){if(e==="Z")return 0;const t=e.match(J2);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return cj(n,i)?r*(n*Op+i*Mp):NaN}function sj(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const nj=[31,null,31,30,31,30,31,31,30,31,30,31];function $p(e){return e%400===0||e%4===0&&e%100!==0}function ij(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(nj[t]||($p(e)?29:28))}function aj(e,t){return t>=1&&t<=($p(e)?366:365)}function oj(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function lj(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function cj(e,t){return t>=0&&t<=59}const uj=()=>{var Gu,Ju;const{property_id:e}=Du(),[t]=Nn(),r=G(D=>D.authentication_state.authentication_status.is_authenticated),n=G(D=>D.authentication_state.current_user),i=G(D=>D.authentication_state.auth_token),a=G(D=>D.booking_cart),[o,l]=C.useState(0),[c,u]=C.useState(!1),[d,h]=C.useState(t.get("check_in")||a.check_in),[y,p]=C.useState(t.get("check_out")||a.check_out),[g,v]=C.useState(t.get("guests")?parseInt(t.get("guests")):a.guest_count||1),[N,x]=C.useState(""),[f,m]=C.useState(!1),[_,E]=C.useState(!1),[w,j]=C.useState({start:null,end:null}),{data:b,isLoading:$,error:F}=le({queryKey:["property",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}`)).data,enabled:!!e}),{data:Y=[]}=le({queryKey:["property-photos",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/photos`)).data,enabled:!!e}),{data:O}=le({queryKey:["host",b==null?void 0:b.host_id],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${b==null?void 0:b.host_id}`)).data,enabled:!!(b!=null&&b.host_id)}),{data:P=[]}=le({queryKey:["property-reviews",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/reviews`)).data,enabled:!!e}),{data:S=[],refetch:M}=le({queryKey:["property-availability",e,w.start,w.end],queryFn:async()=>{const D=new URLSearchParams;return w.start&&D.append("start_date",w.start),w.end&&D.append("end_date",w.end),(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/availability?${D}`)).data},enabled:!!e&&!!w.start&&!!w.end}),A=b!=null&&b.amenities?b.amenities.split(",").map(D=>D.trim()):[],K=d&&y?Math.max(0,Math.ceil((new Date(y).getTime()-new Date(d).getTime())/(1e3*60*60*24))):0,z=b&&K>0?b.base_price_per_night*K:0,T=z*.1,I=z+T,U=()=>{if(!d||!y)return!1;const D=new Date(d),re=new Date(y);for(let Ce=new Date(D);Ce<re;Ce.setDate(Ce.getDate()+1)){const nt=vr(Ce,"yyyy-MM-dd"),it=S.find(En=>En.date===nt);if(!it||!it.is_available)return!1}return!0},L=D=>{l(D),u(!0)},ne=()=>{u(!1)};C.useEffect(()=>{if(d&&y){const D=new Date(d),re=new Date(y),Ce=new Date(D);Ce.setMonth(Ce.getMonth()-1);const nt=new Date(re);nt.setMonth(nt.getMonth()+1),j({start:vr(Ce,"yyyy-MM-dd"),end:vr(nt,"yyyy-MM-dd")})}},[d,y]),C.useEffect(()=>{w.start&&w.end&&M()},[w,M]);const ce=async()=>{if(!(!b||!n||!i))try{const D={property_id:b.property_id,guest_id:n.user_id,host_id:b.host_id,check_in:d,check_out:y,guest_count:g,total_price:I,service_fee:T,special_requests:N,status:"pending"};await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings",D,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}}),h(null),p(null),v(1),x(""),m(!1),alert("Booking request submitted successfully!")}catch(D){console.error("Booking error:",D),alert("Failed to submit booking request. Please try again.")}},Mt=async()=>{if(!b||!n||!i){alert("You need to be logged in to contact the host.");return}try{const D={guest_id:n.user_id,host_id:b.host_id};await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/conversations",D,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}}),alert("Messaging initiated! You can now communicate with the host.")}catch(D){console.error("Messaging error:",D),alert("Failed to initiate messaging. Please try again.")}},me=(()=>{if(P.length===0)return null;const D={cleanliness:0,accuracy:0,communication:0,location:0,check_in:0,value:0,overall:0};return P.forEach(re=>{D.cleanliness+=re.cleanliness_rating,D.accuracy+=re.accuracy_rating,D.communication+=re.communication_rating,D.location+=re.location_rating,D.check_in+=re.check_in_rating,D.value+=re.value_rating,D.overall+=re.overall_rating}),{cleanliness:D.cleanliness/P.length,accuracy:D.accuracy/P.length,communication:D.communication/P.length,location:D.location/P.length,check_in:D.check_in/P.length,value:D.value/P.length,overall:D.overall/P.length}})(),Ro=D=>s.jsxs("div",{className:"flex",children:[[...Array(5)].map((re,Ce)=>s.jsx("svg",{className:`w-5 h-5 ${Ce<Math.floor(D)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Ce)),s.jsx("span",{className:"ml-1 text-sm text-gray-600",children:D.toFixed(1)})]}),zp=D=>{switch(D.toLowerCase()){case"wifi":return s.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})});case"ac":case"air conditioning":return s.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15c0-2.8 2.2-5 5-5h11c1.7 0 3 1.3 3 3 0 .4-.1.8-.3 1.1l-4.4 7.9c-.6 1-1.7 1.6-2.9 1.6H8c-2.8 0-5-2.2-5-5z"})});case"kitchen":return s.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})});case"parking":return s.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})});case"generator":return s.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})});case"water tank":return s.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})});default:return s.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}},To=D=>{const re=vr(D,"yyyy-MM-dd"),Ce=S.find(Ls=>Ls.date===re);let nt=!0,it=!1;if(d&&y){const Ls=new Date(d),Mo=new Date(y);(no(D,Ls)||no(D,Mo)||D>Ls&&D<Mo)&&(it=!0)}Ce&&(nt=Ce.is_available);const mr=U2(D,new Date);let Pn="bg-white";return it?Pn="bg-blue-100":(!nt||mr)&&(Pn="bg-gray-100"),s.jsx("button",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm ${Pn} ${nt&&!mr&&!it?"hover:bg-blue-50 cursor-pointer":"cursor-not-allowed"}`,onClick:()=>{!nt||mr||it||(d?y?(h(re),p(null)):new Date(re)>new Date(d)?p(re):(p(d),h(re)):h(re))},disabled:!nt||mr||it,children:vr(D,"d")},re)},qp=()=>{const D=[],re=new Date,Ce=new Date(re.getFullYear(),re.getMonth(),1),nt=new Date(re.getFullYear(),re.getMonth()+2,0),it=new Date(Ce);it.setMonth(it.getMonth()-1);const En=new Date(it.getFullYear(),it.getMonth()+1,0),mr=new Date(Ce);mr.setMonth(mr.getMonth()+1);const Pn=En.getDay();for(let wt=Pn;wt>0;wt--){const Ht=new Date(En);Ht.setDate(Ht.getDate()-wt+1),D.push(To(Ht))}const Ls=nt.getDate();for(let wt=1;wt<=Ls;wt++){const Ht=new Date(Ce);Ht.setDate(wt),D.push(To(Ht))}const Wp=42-D.length;for(let wt=1;wt<=Wp;wt++){const Ht=new Date(mr);Ht.setDate(wt),D.push(To(Ht))}return D};return $?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):F?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Property Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find the property you're looking for."}),s.jsx(H,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Browse Properties"})]})})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c&&s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:[s.jsx("button",{onClick:ne,className:"absolute top-4 right-4 text-white text-3xl",children:""}),s.jsx("button",{onClick:()=>l(D=>D>0?D-1:Y.length-1),className:"absolute left-4 text-white text-4xl",disabled:Y.length<=1,children:""}),s.jsx("button",{onClick:()=>l(D=>D<Y.length-1?D+1:0),className:"absolute right-4 text-white text-4xl",disabled:Y.length<=1,children:""}),s.jsx("img",{src:(Gu=Y[o])==null?void 0:Gu.photo_url,alt:"Property",className:"max-h-full max-w-full object-contain"})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:Y.length>0?s.jsx("img",{src:(Ju=Y[0])==null?void 0:Ju.photo_url,alt:"Property",className:"w-full h-96 object-cover rounded-lg cursor-pointer",onClick:()=>L(0)}):s.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-full h-96 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-500",children:"No photos available"})})}),Y.slice(1,5).map((D,re)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:D.photo_url,alt:"Property",className:"w-full h-48 object-cover rounded-lg cursor-pointer",onClick:()=>L(re+1)}),re===3&&Y.length>5&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center cursor-pointer",onClick:()=>L(4),children:s.jsxs("span",{className:"text-white text-xl font-bold",children:["+",Y.length-5," more"]})})]},D.photo_id))]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:b==null?void 0:b.title}),s.jsxs("p",{className:"text-gray-600",children:[b==null?void 0:b.city,b!=null&&b.neighborhood?`, ${b.neighborhood}`:""]})]}),s.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"flex-shrink-0",children:O!=null&&O.profile_picture_url?s.jsx("img",{src:O.profile_picture_url,alt:O.name,className:"w-16 h-16 rounded-full object-cover"}):s.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-full w-16 h-16 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-500 text-2xl",children:"?"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Hosted by ",O==null?void 0:O.name]}),s.jsx("div",{className:"flex items-center mt-1",children:O!=null&&O.is_verified?s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Verified"}):s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Not Verified"})})]})]}),r&&(O==null?void 0:O.emergency_contact_name)&&s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Emergency Contact"}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Name:"})," ",O.emergency_contact_name]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",O.emergency_contact_phone]})]}),s.jsx("button",{onClick:Mt,className:"mt-4 w-full bg-white border border-gray-300 rounded-md py-2 px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Contact Host"})]}),s.jsx("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:b==null?void 0:b.guest_capacity}),s.jsx("p",{className:"text-sm text-gray-500",children:"Guests"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:b==null?void 0:b.bedrooms}),s.jsx("p",{className:"text-sm text-gray-500",children:"Bedrooms"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:b==null?void 0:b.beds}),s.jsx("p",{className:"text-sm text-gray-500",children:"Beds"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:b==null?void 0:b.bathrooms}),s.jsx("p",{className:"text-sm text-gray-500",children:"Bathrooms"})]})]})}),s.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"About this place"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:b==null?void 0:b.description})]}),s.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"What this place offers"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.map(D=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-3",children:zp(D)}),s.jsx("span",{className:"text-gray-700",children:D})]},D))}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Infrastructure Status"}),s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${b!=null&&b.has_power_backup?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-gray-700",children:"Generator Power Backup"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${b!=null&&b.has_water_tank?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-gray-700",children:"Water Tank/Stable Supply"})]})]})]}),(b==null?void 0:b.house_rules)&&s.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"House Rules"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:b.house_rules})]}),s.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Cancellation Policy"}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:(b==null?void 0:b.cancellation_policy)==="flexible"?s.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):(b==null?void 0:b.cancellation_policy)==="moderate"?s.jsx("svg",{className:"w-6 h-6 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):s.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-lg font-medium text-gray-900 capitalize",children:b==null?void 0:b.cancellation_policy}),s.jsx("p",{className:"text-gray-600 mt-1",children:(b==null?void 0:b.cancellation_policy)==="flexible"?"Free cancellation up to 24 hours before check-in":(b==null?void 0:b.cancellation_policy)==="moderate"?"Free cancellation up to 7 days before check-in":"Non-refundable"})]})]})]}),s.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Reviews"}),me&&s.jsxs("div",{className:"flex items-center",children:[me&&Ro(me.overall),s.jsxs("span",{className:"ml-2 text-gray-600",children:["(",P.length," reviews)"]})]})]}),me&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Cleanliness"}),s.jsx("span",{className:"text-gray-900 font-medium",children:me.cleanliness.toFixed(1)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${me.cleanliness/5*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Accuracy"}),s.jsx("span",{className:"text-gray-900 font-medium",children:me.accuracy.toFixed(1)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${me.accuracy/5*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Communication"}),s.jsx("span",{className:"text-gray-900 font-medium",children:me.communication.toFixed(1)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${me.communication/5*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Location"}),s.jsx("span",{className:"text-gray-900 font-medium",children:me.location.toFixed(1)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${me.location/5*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Check-in"}),s.jsx("span",{className:"text-gray-900 font-medium",children:me.check_in.toFixed(1)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${me.check_in/5*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Value"}),s.jsx("span",{className:"text-gray-900 font-medium",children:me.value.toFixed(1)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${me.value/5*100}%`}})})]})]}),s.jsx("div",{className:"space-y-6",children:(_?P:P.slice(0,3)).map(D=>s.jsxs("div",{className:"border-b border-gray-200 pb-6 last:border-0 last:pb-0",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-full w-10 h-10 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-500 text-sm",children:"U"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"User"}),s.jsx("p",{className:"text-xs text-gray-500",children:vr(Y2(D.created_at),"MMMM d, yyyy")})]})]}),s.jsx("div",{className:"ml-13 mb-2",children:Ro(D.overall_rating)}),s.jsx("p",{className:"ml-13 text-gray-700",children:D.comment})]},D.review_id))}),P.length>3&&s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>E(!_),className:"text-blue-600 hover:text-blue-800 font-medium",children:_?"Show less":`Show all ${P.length} reviews`})})]})]}),s.jsx("div",{children:s.jsxs("div",{className:"sticky top-8 p-6 bg-white rounded-lg shadow-md border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[b==null?void 0:b.base_price_per_night," ",b==null?void 0:b.currency," ",s.jsx("span",{className:"text-base font-normal text-gray-600",children:"/ night"})]})}),me&&s.jsxs("div",{className:"flex items-center",children:[me&&Ro(me.overall),s.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:["(",P.length,")"]}),"                    "]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Select dates"}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(D=>s.jsx("div",{className:"text-center text-sm text-gray-500 py-1",children:D},D))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:qp()})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guests"}),s.jsx("select",{value:g,onChange:D=>v(parseInt(D.target.value)),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",disabled:!d||!y,children:[...Array((b==null?void 0:b.guest_capacity)||1)].map((D,re)=>s.jsxs("option",{value:re+1,children:[re+1," ",re===0?"guest":"guests"]},re))})]}),d&&y&&s.jsxs("div",{className:"mb-6 border-t border-gray-200 pt-4",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsxs("span",{className:"text-gray-600",children:[b==null?void 0:b.base_price_per_night," ",b==null?void 0:b.currency," x ",K," nights"]}),s.jsxs("span",{className:"text-gray-900",children:[z," ",b==null?void 0:b.currency]})]}),s.jsxs("div",{className:"flex justify-between mb-4",children:[s.jsx("span",{className:"text-gray-600",children:"Service fee"}),s.jsxs("span",{className:"text-gray-900",children:[T.toFixed(2)," ",b==null?void 0:b.currency]})]}),s.jsxs("div",{className:"flex justify-between pt-4 border-t border-gray-200",children:[s.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total"}),s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[I.toFixed(2)," ",b==null?void 0:b.currency]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special requests"}),s.jsx("textarea",{value:N,onChange:D=>x(D.target.value),rows:3,className:"block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Any special requests or notes for the host?"})]}),s.jsxs("div",{className:"mb-6 flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:"terms",name:"terms",type:"checkbox",checked:f,onChange:D=>m(D.target.checked),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),s.jsx("div",{className:"ml-3 text-sm",children:s.jsxs("label",{htmlFor:"terms",className:"font-medium text-gray-700",children:["I agree to the ",s.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"House Rules"})," and"," ",s.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Cancellation Policy"})]})})]}),r?s.jsx("button",{onClick:ce,disabled:!d||!y||!f||!U()||g>((b==null?void 0:b.guest_capacity)||0),className:`w-full py-3 px-4 rounded-md text-white font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 ${!d||!y||!f||!U()||g>((b==null?void 0:b.guest_capacity)||0)?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}`,children:!d||!y?"Select dates":U()?g>((b==null?void 0:b.guest_capacity)||0)?"Too many guests":f?b!=null&&b.instant_book?"Book instantly":"Request to book":"Accept terms":"Dates not available"}):s.jsx(H,{to:"/login",className:"w-full py-3 px-4 rounded-md bg-blue-600 hover:bg-blue-700 text-white font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 text-center block",children:"Sign in to book"}),!U()&&d&&y&&s.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Selected dates are not available"})]})})]})]})]})})},dj=()=>{const e=dr(),t=G(m=>m.authentication_state.authentication_status.is_authenticated),r=G(m=>m.register_user),n=G(m=>m.clear_auth_error),[i,a]=C.useState("guest"),[o,l]=C.useState({email:"",phone_number:"",password_hash:"",name:"",profile_picture_url:null,bio:null,emergency_contact_name:null,emergency_contact_phone:null}),[c,u]=C.useState({email:null,phone_number:null,password_hash:null,name:null,verification_code:null}),[d,h]=C.useState(!1),[y,p]=C.useState({terms_of_service:!1,privacy_policy:!1,libya_terms:!1,content_guidelines:!1,accommodation_laws:!1});C.useEffect(()=>{t&&e("/dashboard")},[t,e]);const g=()=>{const m={};return o.email?/\S+@\S+\.\S+/.test(o.email)||(m.email="Email address is invalid"):m.email="Email is required",o.phone_number?/^\+?[0-9]{10,15}$/.test(o.phone_number)||(m.phone_number="Phone number is invalid"):m.phone_number="Phone number is required",o.password_hash?o.password_hash.length<8&&(m.password_hash="Password must be at least 8 characters"):m.password_hash="Password is required",o.name?o.name.length<2&&(m.name="Full name must be at least 2 characters"):m.name="Full name is required",u({email:m.email||null,phone_number:m.phone_number||null,password_hash:m.password_hash||null,name:m.name||null,verification_code:null}),!m.email&&!m.phone_number&&!m.password_hash&&!m.name},v=m=>{const{name:_,value:E}=m.target;l(w=>({...w,[_]:E})),c[_]&&u(w=>({...w,[_]:null}))},N=m=>{const{name:_,checked:E}=m.target;p(w=>({...w,[_]:E}))},x=async m=>{if(m.preventDefault(),!g())return;if(!Object.values(y).every(Boolean)){alert("Please accept all terms and conditions");return}h(!0),n();try{await r({email:o.email,phone_number:o.phone_number,password_hash:o.password_hash,name:o.name,profile_picture_url:o.profile_picture_url,bio:o.bio,emergency_contact_name:o.emergency_contact_name,emergency_contact_phone:o.emergency_contact_phone,role:i==="guest"?"traveler":i}),e("/dashboard")}catch(E){console.error("Registration error:",E)}finally{h(!1)}},f=Object.values(y).every(Boolean);return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Create Your Account"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Join LibyaStay to start booking accommodations or hosting your property"})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6 sm:p-8",children:[s.jsxs("form",{onSubmit:x,className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"I want to"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>a("guest"),className:`p-4 border rounded-lg text-center ${i==="guest"?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Book Stays"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Find and book accommodations"})]}),s.jsxs("button",{type:"button",onClick:()=>a("host"),className:`p-4 border rounded-lg text-center ${i==="host"?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Host Guests"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"List your property"})]}),s.jsxs("button",{type:"button",onClick:()=>a("both"),className:`p-4 border rounded-lg text-center ${i==="both"?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Both"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Book and host"})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsx("input",{id:"name",name:"name",type:"text",value:o.name,onChange:v,className:`mt-1 block w-full px-3 py-2 border ${c.name?"border-red-300":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),c.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),s.jsx("input",{id:"email",name:"email",type:"email",value:o.email,onChange:v,className:`mt-1 block w-full px-3 py-2 border ${c.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),c.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),s.jsx("input",{id:"phone_number",name:"phone_number",type:"tel",value:o.phone_number,onChange:v,className:`mt-1 block w-full px-3 py-2 border ${c.phone_number?"border-red-300":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),c.phone_number&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.phone_number})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password_hash",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsx("input",{id:"password_hash",name:"password_hash",type:"password",value:o.password_hash,onChange:v,className:`mt-1 block w-full px-3 py-2 border ${c.password_hash?"border-red-300":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),c.password_hash&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.password_hash}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Password must be at least 8 characters"})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Setup"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio (Optional)"}),s.jsx("textarea",{id:"bio",name:"bio",rows:3,value:o.bio||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Tell us about yourself in a few sentences"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"emergency_contact_name",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Name"}),s.jsx("input",{id:"emergency_contact_name",name:"emergency_contact_name",type:"text",value:o.emergency_contact_name||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"emergency_contact_phone",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Phone"}),s.jsx("input",{id:"emergency_contact_phone",name:"emergency_contact_phone",type:"tel",value:o.emergency_contact_phone||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Terms & Conditions"}),s.jsx("div",{className:"space-y-3",children:Object.entries(y).map(([m,_])=>s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:m,name:m,type:"checkbox",checked:_,onChange:N,className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),s.jsx("div",{className:"ml-3 text-sm",children:s.jsxs("label",{htmlFor:m,className:"font-medium text-gray-700",children:[m==="terms_of_service"&&"I agree to the Terms of Service",m==="privacy_policy"&&"I agree to the Privacy Policy",m==="libya_terms"&&"I agree to Libya-specific Terms",m==="content_guidelines"&&"I agree to the Content Guidelines",m==="accommodation_laws"&&"I acknowledge the Local Accommodation Laws"]})})]},m))})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Or register with"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})}),s.jsx("span",{className:"ml-2",children:"Google"})]}),s.jsxs("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),s.jsx("span",{className:"ml-2",children:"Facebook"})]})]})]}),s.jsxs("div",{children:[s.jsx("button",{type:"submit",disabled:d||!f,className:`w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${d||!f?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}`,children:d?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"}),!f&&s.jsx("p",{className:"mt-2 text-sm text-red-600 text-center",children:"Please accept all terms and conditions"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600 text-center",children:"Email and phone verification will be available after account creation"})]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(H,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})]})})})},hj=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(""),[i,a]=C.useState(!1),[o,l]=C.useState(!1),[c,u]=C.useState({email:"",password:"",general:""}),d=dr(),h=G(m=>m.authentication_state.authentication_status.is_authenticated),y=G(m=>m.authentication_state.authentication_status.is_loading),p=G(m=>m.authentication_state.error_message),g=G(m=>m.login_user),v=G(m=>m.clear_auth_error);C.useEffect(()=>{h&&d("/dashboard")},[h,d]),C.useEffect(()=>{(c.email||c.password||c.general)&&(u({email:"",password:"",general:""}),v())},[e,r,v,c.email,c.password,c.general]),C.useEffect(()=>{p&&!c.general&&u(m=>({...m,general:p}))},[p,c.general]);const N=()=>{let m=!0;const _={email:"",password:"",general:""};return e?/\S+@\S+\.\S+/.test(e)||(_.email="Email address is invalid",m=!1):(_.email="Email is required",m=!1),r?r.length<6&&(_.password="Password must be at least 6 characters",m=!1):(_.password="Password is required",m=!1),u(_),m},x=async m=>{if(m.preventDefault(),!!N())try{await g(e,r)}catch(_){console.error("Login error:",_);const E=p||_.message||"An error occurred during login";u(w=>({...w,general:E}))}},f=m=>{console.log(`Social login with ${m}`)};return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Discover amazing places to stay in Libya"})]}),c.general&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",role:"alert","aria-live":"polite",children:s.jsx("p",{className:"text-sm",children:c.general})}),s.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[s.jsxs("form",{className:"space-y-6",onSubmit:x,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:m=>t(m.target.value),className:`appearance-none block w-full px-3 py-2 border ${c.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,"aria-invalid":!!c.email,"aria-describedby":c.email?"email-error":void 0}),c.email&&s.jsx("p",{className:"mt-2 text-sm text-red-600",id:"email-error",children:c.email})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:m=>n(m.target.value),className:`appearance-none block w-full px-3 py-2 border ${c.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,"aria-invalid":!!c.password,"aria-describedby":c.password?"password-error":void 0}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!i),"aria-label":i?"Hide password":"Show password",children:i?s.jsxs("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):s.jsxs("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),s.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})}),c.password&&s.jsx("p",{className:"mt-2 text-sm text-red-600",id:"password-error",children:c.password})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:o,onChange:m=>l(m.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),s.jsx("div",{className:"text-sm",children:s.jsx(H,{to:"/reset-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:y,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:y?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[s.jsx("div",{children:s.jsxs("button",{onClick:()=>f("google"),className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50","aria-label":"Continue with Google",children:[s.jsx("span",{className:"sr-only",children:"Continue with Google"}),s.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"})})]})}),s.jsx("div",{children:s.jsxs("button",{onClick:()=>f("facebook"),className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50","aria-label":"Continue with Facebook",children:[s.jsx("span",{className:"sr-only",children:"Continue with Facebook"}),s.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})]})})]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx(H,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})})]})]})})})},mj=()=>{const[e,t]=Nn(),r=e.get("tab")||"default",[n,i]=C.useState(r),a=G(b=>b.authentication_state.current_user),o=G(b=>b.authentication_state.auth_token),l=G(b=>b.notification_count.unread_count);C.useEffect(()=>{n==="default"&&(a!=null&&a.role)&&(a.role==="host"?i("host"):a.role==="admin"?i("admin"):i("traveler"))},[n,a==null?void 0:a.role]),C.useEffect(()=>{n!=="default"&&t({tab:n})},[n,t]);const{data:c,isLoading:u}=le({queryKey:["userBookings",a==null?void 0:a.user_id,n],queryFn:async()=>{if(!(a!=null&&a.user_id)||!o)return null;const b=a.role==="traveler"?"confirmed":"pending";return(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${a.user_id}/bookings`,{headers:{Authorization:`Bearer ${o}`},params:{status:b}})).data},enabled:!!(a!=null&&a.user_id)&&!!o,staleTime:6e4,refetchOnWindowFocus:!1}),{data:d,isLoading:h}=le({queryKey:["userNotifications",a==null?void 0:a.user_id],queryFn:async()=>!(a!=null&&a.user_id)||!o?[]:(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/notifications",{headers:{Authorization:`Bearer ${o}`},params:{limit:5,is_read:!1}})).data,enabled:!!(a!=null&&a.user_id)&&!!o,staleTime:6e4,refetchOnWindowFocus:!1}),y=u?0:(a==null?void 0:a.role)==="traveler"&&(c==null?void 0:c.filter(b=>b.status==="confirmed"&&new Date(b.check_in)>new Date).length)||0,p=u?0:(a==null?void 0:a.role)==="host"&&(c==null?void 0:c.filter(b=>b.status==="pending").length)||0,v=(()=>{if(!a)return 0;let b=0;const $=5;return a.name&&b++,a.email&&b++,a.phone_number&&b++,a.bio&&b++,a.profile_picture_url&&b++,Math.round(b/$*100)})(),N=!!(a!=null&&a.emergency_contact_name)&&!!(a!=null&&a.emergency_contact_phone),x=()=>{const b=[];return((a==null?void 0:a.role)==="traveler"||(a==null?void 0:a.role)==="both")&&b.push(s.jsx("button",{className:`px-4 py-2 font-medium text-sm rounded-md ${n==="traveler"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>i("traveler"),children:"Traveler Dashboard"},"traveler")),((a==null?void 0:a.role)==="host"||(a==null?void 0:a.role)==="both")&&b.push(s.jsx("button",{className:`px-4 py-2 font-medium text-sm rounded-md ${n==="host"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>i("host"),children:"Host Dashboard"},"host")),(a==null?void 0:a.role)==="admin"&&b.push(s.jsx("button",{className:`px-4 py-2 font-medium text-sm rounded-md ${n==="admin"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>i("admin"),children:"Admin Panel"},"admin")),b},f=()=>s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(a==null?void 0:a.role)==="traveler"&&s.jsxs(H,{to:"/search",className:"flex flex-col items-center justify-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-full mb-2",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Search Stays"})]}),((a==null?void 0:a.role)==="host"||(a==null?void 0:a.role)==="both")&&s.jsxs(H,{to:"/listings/create",className:"flex flex-col items-center justify-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[s.jsx("div",{className:"bg-green-100 p-3 rounded-full mb-2",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Create Listing"})]}),s.jsxs(H,{to:"/messages",className:"flex flex-col items-center justify-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[s.jsx("div",{className:"bg-purple-100 p-3 rounded-full mb-2",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Messages"}),l>0&&s.jsx("span",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:l})]}),s.jsxs(H,{to:"/settings",className:"flex flex-col items-center justify-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx("div",{className:"bg-gray-100 p-3 rounded-full mb-2",children:s.jsxs("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Settings"})]})]})]}),m=()=>s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Activity Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:(a==null?void 0:a.role)==="traveler"?"Upcoming Bookings":"Pending Requests"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:(a==null?void 0:a.role)==="traveler"?y:p})]})]})}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Unread Messages"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l})]})]})}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Profile Completeness"}),s.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[v,"%"]})]})]})})]})]}),_=()=>h?s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Notifications"}),s.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(b=>s.jsxs("div",{className:"flex items-center p-4 border border-gray-200 rounded-lg",children:[s.jsx("div",{className:"bg-gray-200 rounded-full h-10 w-10"}),s.jsxs("div",{className:"ml-4 flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},b))})]}):s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Notifications"}),s.jsx(H,{to:"/messages",className:"text-sm text-blue-600 hover:text-blue-800",children:"View all"})]}),d&&d.length>0?s.jsx("div",{className:"space-y-4",children:d.slice(0,5).map(b=>s.jsxs("div",{className:"flex items-start p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:s.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:b.title}),s.jsx("p",{className:"text-sm text-gray-500",children:b.message}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(b.created_at).toLocaleDateString()})]})]},b.notification_id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No notifications"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You're all caught up!"})]})]}),E=()=>s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Completeness"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Profile Completion"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[v,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${v}%`}})})]}),v<100&&s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("p",{children:"Complete your profile to build trust with other users:"}),s.jsxs("ul",{className:"mt-2 space-y-1 list-disc list-inside",children:[!(a!=null&&a.bio)&&s.jsx("li",{children:"Add a bio"}),!(a!=null&&a.profile_picture_url)&&s.jsx("li",{children:"Upload a profile picture"})]}),s.jsx(H,{to:"/settings",className:"mt-3 inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Complete Profile"})]})]})]}),w=()=>N?s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Emergency Contact Verified"}),s.jsx("div",{className:"mt-1 text-sm text-green-700",children:s.jsx("p",{children:"Your emergency contact information is up to date."})})]})]})}):s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Emergency Contact Required"}),s.jsxs("div",{className:"mt-1 text-sm text-yellow-700",children:[s.jsx("p",{children:"Please add your emergency contact information for safety purposes."}),s.jsx(H,{to:"/settings",className:"font-medium text-yellow-800 underline hover:text-yellow-900",children:"Add emergency contact"})]})]})]})}),j=()=>s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),s.jsx("div",{className:"flow-root",children:s.jsxs("ul",{className:"divide-y divide-gray-200",children:[s.jsx("li",{className:"py-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:s.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"New booking request"}),s.jsx("p",{className:"text-sm text-gray-500 truncate",children:"You have a new booking request for your property"})]}),s.jsx("div",{className:"text-sm text-gray-500 whitespace-nowrap",children:"2h ago"})]})}),s.jsx("li",{className:"py-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:s.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Profile updated"}),s.jsx("p",{className:"text-sm text-gray-500 truncate",children:"You updated your profile information"})]}),s.jsx("div",{className:"text-sm text-gray-500 whitespace-nowrap",children:"1d ago"})]})}),s.jsx("li",{className:"py-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:s.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"New message"}),s.jsx("p",{className:"text-sm text-gray-500 truncate",children:"You received a new message from a guest"})]}),s.jsx("div",{className:"text-sm text-gray-500 whitespace-nowrap",children:"2d ago"})]})})]})})]});return a?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Welcome back, ",a.name,"!"]})]}),s.jsx("div",{className:"mb-6",children:s.jsx("nav",{className:"flex space-x-4",children:x()})}),s.jsx("div",{className:"mb-6",children:w()}),s.jsx("div",{className:"mb-6",children:f()}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[m(),E(),j()]}),s.jsx("div",{children:_()})]})]})})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})})},fj=()=>{const[e,t]=Nn(),r=Jr(),n=G(j=>j.authentication_state.current_user),i=G(j=>j.authentication_state.auth_token),a=e.get("status")||"upcoming",[o,l]=C.useState(a);C.useEffect(()=>{const j=e.get("status")||"upcoming";l(j)},[e]);const c=j=>{l(j),t({status:j})},u=async j=>!(n!=null&&n.user_id)||!i?[]:(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${n.user_id}/bookings`,{headers:{Authorization:`Bearer ${i}`},params:{status:j}})).data.map($=>({...$,check_in:new Date($.check_in),check_out:new Date($.check_out),created_at:new Date($.created_at),updated_at:new Date($.updated_at)})),{data:d=[],isLoading:h,isError:y,error:p}=le({queryKey:["bookings",o,n==null?void 0:n.user_id],queryFn:()=>u(o),enabled:!!(n!=null&&n.user_id)&&!!i,staleTime:6e4,refetchOnWindowFocus:!1}),g=Be({mutationFn:async j=>{if(!i)throw new Error("No auth token");return(await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings/${j}`,{status:"cancelled"},{headers:{Authorization:`Bearer ${i}`}})).data},onSuccess:j=>{r.setQueryData(["bookings",o,n==null?void 0:n.user_id],(b=[])=>b.map($=>$.booking_id===j.booking_id?j:$)),r.invalidateQueries({queryKey:["bookings"]})}}),v=Be({mutationFn:async j=>{if(!i||!n)throw new Error("Not authenticated");return(await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/conversations",{booking_id:j.booking_id,guest_id:n.user_id,host_id:j.host_id},{headers:{Authorization:`Bearer ${i}`}})).data},onSuccess:j=>{window.location.href=`/messages?conversation_id=${j.conversation_id}`}}),N=j=>{window.confirm("Are you sure you want to cancel this booking?")&&g.mutate(j)},x=j=>{v.mutate(j)},f=j=>j.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),m=j=>new Intl.NumberFormat("en-LY",{style:"currency",currency:"LYD"}).format(j),_=j=>{switch(j){case"flexible":return"Free cancellation up to 24 hours before check-in";case"moderate":return"Free cancellation up to 7 days before check-in";case"strict":return"Non-refundable";default:return"Cancellation policy not specified"}},E=j=>{const b={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800"},$={pending:"Pending",confirmed:"Confirmed",cancelled:"Cancelled",completed:"Completed"};return s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b[j]}`,children:$[j]})},w=j=>{switch(j.status){case"pending":return s.jsx("div",{className:"flex space-x-2",children:s.jsx("button",{onClick:()=>N(j.booking_id),disabled:g.isPending,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200 disabled:opacity-50",children:g.isPending?"Cancelling...":"Cancel"})});case"confirmed":return s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:()=>x(j),disabled:v.isPending,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 disabled:opacity-50",children:"Message Host"}),s.jsx("button",{onClick:()=>N(j.booking_id),disabled:g.isPending,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200 disabled:opacity-50",children:g.isPending?"Cancelling...":"Cancel"})]});case"completed":return s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(H,{to:`/reviews/create/${j.booking_id}`,className:"px-3 py-1 text-sm bg-green-100 text-green-700 rounded-md hover:bg-green-200",children:"Leave Review"}),s.jsx("button",{onClick:()=>x(j),disabled:v.isPending,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 disabled:opacity-50",children:"Message Host"})]});default:return s.jsx("button",{onClick:()=>x(j),disabled:v.isPending,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 disabled:opacity-50",children:"Message Host"})}};return h?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Bookings"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your accommodation reservations"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex -mb-px",children:["upcoming","past","pending","cancelled"].map(j=>s.jsx("button",{className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${o===j?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>c(j),children:j.charAt(0).toUpperCase()+j.slice(1)},j))})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})})]})]})})}):y?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Bookings"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your accommodation reservations"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex -mb-px",children:["upcoming","past","pending","cancelled"].map(j=>s.jsx("button",{className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${o===j?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>c(j),children:j.charAt(0).toUpperCase()+j.slice(1)},j))})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading bookings"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:s.jsx("p",{children:p instanceof Error?p.message:"An unexpected error occurred"})})]})]})})})]})]})})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Bookings"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your accommodation reservations"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex -mb-px",children:["upcoming","past","pending","cancelled"].map(j=>s.jsxs("button",{className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${o===j?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>c(j),children:[j.charAt(0).toUpperCase()+j.slice(1),d.filter(b=>b.status===j).length>0&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:d.filter(b=>b.status===j).length})]},j))})}),s.jsx("div",{className:"p-6",children:d.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No bookings"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o==="upcoming"?"You don't have any upcoming trips.":o==="past"?"You haven't taken any trips yet.":o==="pending"?"You don't have any pending bookings.":"You haven't cancelled any bookings."}),s.jsx("div",{className:"mt-6",children:s.jsx(H,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Explore Listings"})})]}):s.jsx("div",{className:"space-y-6",children:d.map(j=>s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 w-24 h-24 bg-gray-200 rounded-md overflow-hidden",children:s.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-full h-full"})}),s.jsxs("div",{className:"ml-4 flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.jsxs(H,{to:`/properties/${j.property_id}`,className:"hover:text-blue-600",children:["Property #",j.property_id.substring(0,8)]})}),E(j.status)]}),s.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Dates"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[f(new Date(j.check_in))," - ",f(new Date(j.check_out))]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Guests"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[j.guest_count," guests"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:m(j.total_price)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Booking ID"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:j.booking_id.substring(0,8)})]})]}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Power: Available"}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Water: Available"})]}),j.status==="confirmed"&&s.jsx("div",{className:"mt-2 text-xs text-gray-500",children:s.jsxs("p",{children:["Cancellation Policy: ",_("moderate")]})})]})]})}),s.jsxs("div",{className:"mt-4 md:mt-0 flex flex-col items-end space-y-3",children:[w(j),s.jsx(H,{to:`/properties/${j.property_id}`,className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"View property details"})]})]})}),j.status==="confirmed"&&s.jsx("div",{className:"bg-blue-50 px-6 py-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"flex-shrink-0 h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Emergency Contact"}),s.jsxs("div",{className:"mt-1 text-sm text-blue-700",children:[s.jsx("p",{children:"Host: John Doe"}),s.jsx("p",{children:"Phone: +218 91 000 0000"})]})]})]})})]},j.booking_id))})})]})]})})})},pj=()=>{const e=G(E=>E.authentication_state.current_user),t=G(E=>E.authentication_state.auth_token),[r,n]=C.useState("active"),[i,a]=C.useState({is_verified:!1,documents_submitted:!1}),o=Jr(),l="https://123airbnb-but-just-for-libya.launchpulse.ai",{data:c=[],isLoading:u,error:d}=le({queryKey:["hostListings",e==null?void 0:e.user_id,r],queryFn:async()=>{if(!(e!=null&&e.user_id)||!t)return[];const E=await q.get(`${l}/api/users/${e.user_id}/listings`,{headers:{Authorization:`Bearer ${t}`}});return r==="active"?E.data.filter(w=>w.is_active):r==="inactive"?E.data.filter(w=>!w.is_active):r==="pending"?E.data.filter(w=>!w.is_active):E.data},enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1}),{data:h,isLoading:y}=le({queryKey:["performanceMetrics",e==null?void 0:e.user_id],queryFn:async()=>{if(!(e!=null&&e.user_id)||!t)return{total_bookings:0,total_earnings:0,average_rating:0,pending_requests:0};const w=(await q.get(`${l}/api/users/${e.user_id}/bookings`,{headers:{Authorization:`Bearer ${t}`}})).data,j=w.filter($=>$.status==="completed").reduce(($,F)=>$+F.total_price,0),b=w.filter($=>$.status==="pending").length;return{total_bookings:w.filter($=>$.status==="completed").length,total_earnings:j,average_rating:0,pending_requests:b}},enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1}),p=Be({mutationFn:async({property_id:E,is_active:w})=>{if(!t)throw new Error("No auth token");return(await q.patch(`${l}/api/properties/${E}`,{is_active:w},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data},onSuccess:()=>{o.invalidateQueries({queryKey:["hostListings"]})}});C.useEffect(()=>{e&&a({is_verified:e.is_verified,documents_submitted:!!e.verification_document_url})},[e]);const g=(E,w)=>{p.mutate({property_id:E,is_active:!w})},v=E=>new Intl.NumberFormat(" ly-LY",{style:"currency",currency:"LYD",minimumFractionDigits:2}).format(E),N=E=>E?s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"}):s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactive"}),x=()=>i.is_verified?s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx("svg",{className:"h-5 w-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{children:"Verified"})]}):i.documents_submitted?s.jsxs("div",{className:"flex items-center text-yellow-600",children:[s.jsx("svg",{className:"h-5 w-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),s.jsx("span",{children:"Pending Verification"})]}):s.jsxs("div",{className:"flex items-center text-red-600",children:[s.jsx("svg",{className:"h-5 w-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsx("span",{children:"Not Verified"})]}),f=()=>{const E=[{key:"active",label:"Active Listings"},{key:"inactive",label:"Inactive Listings"},{key:"pending",label:"Pending Review"}];return s.jsx("div",{className:"flex space-x-2",children:E.map(w=>s.jsx("button",{onClick:()=>n(w.key),className:`px-4 py-2 text-sm font-medium rounded-md ${r===w.key?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:w.label},w.key))})},m=()=>y?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[1,2,3,4].map(E=>s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]},E))}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Total Bookings"}),s.jsx("div",{className:"text-2xl font-bold mt-1",children:(h==null?void 0:h.total_bookings)||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Total Earnings"}),s.jsx("div",{className:"text-2xl font-bold mt-1",children:v((h==null?void 0:h.total_earnings)||0)})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Average Rating"}),s.jsxs("div",{className:"text-2xl font-bold mt-1",children:[(h==null?void 0:h.average_rating)||0,s.jsx("span",{className:"text-base font-normal",children:"/5"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Pending Requests"}),s.jsx("div",{className:"text-2xl font-bold mt-1",children:(h==null?void 0:h.pending_requests)||0})]})]}),_=()=>u?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(E=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden animate-pulse",children:[s.jsx("div",{className:"h-48 bg-gray-200"}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"})]})]})]},E))}):d?s.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-red-700",children:"Failed to load listings. Please try again later."})})]})}):c.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No listings found"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"Get started by creating a new property listing."}),s.jsx("div",{className:"mt-6",children:s.jsxs(H,{to:"/listings/create",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Create New Listing"]})})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(E=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-md transition-shadow duration-200",children:[s.jsxs("div",{className:"h-48 bg-gray-200 relative",children:[E.is_active?s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})}):s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactive"})}),s.jsx("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:E.city})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:E.title}),N(E.is_active)]}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:[E.description.substring(0,100),"..."]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[v(E.base_price_per_night),s.jsx("span",{className:"text-sm font-normal text-gray-500",children:"/night"})]})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(H,{to:`/listings/${E.property_id}/edit`,className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Edit"}),s.jsx("button",{onClick:()=>g(E.property_id,E.is_active),disabled:p.isPending,className:`inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${E.is_active?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:p.isPending?"Updating...":E.is_active?"Deactivate":"Activate"})]})]})]})]},E.property_id))});return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Listings"}),s.jsxs(H,{to:"/listings/create",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Create New Listing"]})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-4",children:s.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Account Verification"}),s.jsx("div",{className:"mt-1",children:x()})]})]}),!i.is_verified&&s.jsx("div",{className:"mt-4 md:mt-0",children:s.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Submit Documents"})})]})}),m(),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"My Property Listings"}),s.jsx("div",{className:"mt-4 md:mt-0",children:f()})]})}),s.jsx("div",{className:"px-4 py-5 sm:p-6",children:_()})]})]})]})})},xj=["Tripoli","Benghazi","Misrata","Tobruk","Derna","Zliten","Zuwara","Khoms","Sirte","Al-Bayda","Tajura"],em=[{id:"wifi",name:"WiFi",category:"Essentials"},{id:"ac",name:"Air Conditioning",category:"Comfort"},{id:"kitchen",name:"Kitchen",category:"Essentials"},{id:"parking",name:"Parking",category:"Essentials"},{id:"washer",name:"Washer",category:"Essentials"},{id:"tv",name:"TV",category:"Entertainment"},{id:"pool",name:"Pool",category:"Luxury"},{id:"gym",name:"Gym",category:"Luxury"},{id:"power_backup",name:"Generator Power Backup",category:"Libya-Specific"},{id:"water_tank",name:"Water Tank/Stable Supply",category:"Libya-Specific"},{id:"balcony",name:"Balcony/Patio",category:"Comfort"},{id:"heating",name:"Heating",category:"Comfort"}],gj=[{id:"flexible",name:"Flexible",description:"Full refund 24 hours prior to arrival"},{id:"moderate",name:"Moderate",description:"Full refund 7 days prior to arrival"},{id:"strict",name:"Strict",description:"Non-refundable"}],yj=()=>{const e=G(O=>O.authentication_state.current_user),t=G(O=>O.authentication_state.auth_token),r=dr(),[n,i]=C.useState(1),[a,o]=C.useState({host_id:(e==null?void 0:e.user_id)||"",title:"",description:"",city:"",neighborhood:"",address:"",property_type:"",guest_capacity:1,bedrooms:1,beds:1,bathrooms:1,amenities:[],base_price_per_night:0,currency:"LYD",has_power_backup:!1,has_water_tank:!1,house_rules:"",cancellation_policy:"moderate",instant_book:!1,is_active:!0}),[l,c]=C.useState({}),[u,d]=C.useState([]),[h,y]=C.useState([]),[p,g]=C.useState(!1),[v,N]=C.useState(null);C.useEffect(()=>{!e||!t?r("/login"):o(O=>({...O,host_id:e.user_id}))},[e,t,r]);const x=O=>{if(O.target.files){const P=Array.from(O.target.files),S=P.map(M=>URL.createObjectURL(M));d(M=>[...M,...P]),y(M=>[...M,...S]),c(M=>{const A={...M};return delete A.photos,A})}},f=O=>{d(P=>P.filter((S,M)=>M!==O)),y(P=>P.filter((S,M)=>M!==O))},m=O=>{const{name:P,value:S,type:M}=O.target;if(M==="checkbox"){const A=O.target.checked;o(K=>({...K,[P]:A}))}else o(A=>({...A,[P]:S}));l[P]&&c(A=>{const K={...A};return delete K[P],K})},_=O=>{o(P=>{const S=[...P.amenities],M=S.indexOf(O);return M>-1?S.splice(M,1):S.push(O),{...P,amenities:S}})},E=O=>{const P={};switch(O){case 1:a.title.trim()||(P.title="Title is required"),a.title.length<10&&(P.title="Title must be at least 10 characters"),a.description.trim()||(P.description="Description is required"),a.description.length<50&&(P.description="Description must be at least 50 characters"),a.property_type||(P.property_type="Property type is required");break;case 2:a.city||(P.city="City is required"),a.address.trim()||(P.address="Address is required");break;case 3:a.guest_capacity<1&&(P.guest_capacity="At least 1 guest required"),a.bedrooms<0&&(P.bedrooms="Number of bedrooms cannot be negative"),a.beds<1&&(P.beds="At least 1 bed required"),a.bathrooms<1&&(P.bathrooms="At least 1 bathroom required");break;case 4:break;case 5:u.length<5&&(P.photos="At least 5 photos are required");break;case 6:a.base_price_per_night<=0&&(P.base_price_per_night="Price must be greater than 0");break}return c(P),Object.keys(P).length===0},w=()=>{E(n)&&i(O=>Math.min(O+1,8))},j=()=>{i(O=>Math.max(O-1,1))},b=Be({mutationFn:async O=>(await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties",O,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data,onSuccess:()=>{r("/dashboard/listings")},onError:O=>{var P,S;N(((S=(P=O.response)==null?void 0:P.data)==null?void 0:S.message)||"Failed to create listing. Please try again."),g(!1)}}),$=()=>{if(E(n)){g(!0),N(null);const O={...a,amenities:a.amenities.join(","),latitude:null,longitude:null,house_rules:a.house_rules||"",neighborhood:a.neighborhood||"",address:a.address||""};b.mutate(O)}},F=(a.base_price_per_night*.1).toFixed(2),Y=(a.base_price_per_night+parseFloat(F)).toFixed(2);return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsxs("div",{className:"px-6 pt-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Create New Listing"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Follow the steps to list your property"}),s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex justify-between items-center mb-2",children:[1,2,3,4,5,6,7,8].map(O=>s.jsxs("div",{className:`flex flex-col items-center w-1/8 ${O<=n?"text-blue-600":"text-gray-400"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mb-1 ${O===n?"bg-blue-600 text-white":O<n?"bg-green-500 text-white":"bg-gray-200"}`,children:O<n?"":O}),s.jsxs("span",{className:"text-xs text-center",children:[O===1&&"Basic Info",O===2&&"Location",O===3&&"Specs",O===4&&"Amenities",O===5&&"Photos",O===6&&"Pricing",O===7&&"Availability",O===8&&"Rules"]})]},O))}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${n/8*100}%`}})})]})]}),s.jsxs("div",{className:"px-6 py-6 border-t border-gray-200",children:[n===1&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Basic Information"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Title *"}),s.jsx("input",{type:"text",id:"title",name:"title",value:a.title,onChange:m,className:`w-full px-3 py-2 border rounded-md ${l.title?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Beautiful apartment in downtown Tripoli"}),l.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.title}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Create a descriptive title that highlights your property's best features"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),s.jsx("textarea",{id:"description",name:"description",rows:5,value:a.description,onChange:m,className:`w-full px-3 py-2 border rounded-md ${l.description?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Describe your property in detail. Mention what makes it special for travelers in Libya..."}),l.description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.description}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Include details about the space, neighborhood, and what guests will love"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"property_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Type *"}),s.jsxs("select",{id:"property_type",name:"property_type",value:a.property_type,onChange:m,className:`w-full px-3 py-2 border rounded-md ${l.property_type?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[s.jsx("option",{value:"",children:"Select property type"}),s.jsx("option",{value:"entire_place",children:"Entire Place"}),s.jsx("option",{value:"private_room",children:"Private Room"}),s.jsx("option",{value:"shared_room",children:"Shared Room"})]}),l.property_type&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.property_type})]})]})]}),n===2&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Location Details"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),s.jsxs("select",{id:"city",name:"city",value:a.city,onChange:m,className:`w-full px-3 py-2 border rounded-md ${l.city?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[s.jsx("option",{value:"",children:"Select a city"}),xj.map(O=>s.jsx("option",{value:O,children:O},O))]}),l.city&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.city})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"neighborhood",className:"block text-sm font-medium text-gray-700 mb-1",children:"Neighborhood"}),s.jsx("input",{type:"text",id:"neighborhood",name:"neighborhood",value:a.neighborhood,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Al-Sabah, Souq Al-Juma"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),s.jsx("textarea",{id:"address",name:"address",rows:3,value:a.address,onChange:m,className:`w-full px-3 py-2 border rounded-md ${l.address?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Enter the full address with nearby landmarks if needed"}),l.address&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.address}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"For areas with inconsistent addressing, include nearby landmarks"})]})]})]}),n===3&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Accommodation Specifications"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"guest_capacity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Guests *"}),s.jsx("input",{type:"number",id:"guest_capacity",name:"guest_capacity",min:"1",value:a.guest_capacity,onChange:m,className:`w-full px-3 py-2 border rounded-md ${l.guest_capacity?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),l.guest_capacity&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.guest_capacity})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrooms"}),s.jsx("input",{type:"number",id:"bedrooms",name:"bedrooms",min:"0",value:a.bedrooms,onChange:m,className:`w-full px-3 py-2 border rounded-md ${l.bedrooms?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),l.bedrooms&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.bedrooms})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"beds",className:"block text-sm font-medium text-gray-700 mb-1",children:"Beds *"}),s.jsx("input",{type:"number",id:"beds",name:"beds",min:"1",value:a.beds,onChange:m,className:`w-full px-3 py-2 border rounded-md ${l.beds?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),l.beds&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.beds})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bathrooms *"}),s.jsx("input",{type:"number",id:"bathrooms",name:"bathrooms",min:"1",step:"0.5",value:a.bathrooms,onChange:m,className:`w-full px-3 py-2 border rounded-md ${l.bathrooms?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),l.bathrooms&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.bathrooms})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-md",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Tip:"})," For Libya-specific accommodations, describe unique features like rooftop spaces, traditional architecture, or local decor that make your listing special."]})})]}),n===4&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Amenities"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Select all amenities available at your property. This helps guests find exactly what they need."}),s.jsx("div",{className:"space-y-6",children:Array.from(new Set(em.map(O=>O.category))).map(O=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:O}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:em.filter(P=>P.category===O).map(P=>s.jsxs("div",{className:`flex items-center p-3 border rounded-md cursor-pointer ${a.amenities.includes(P.id)?"border-blue-500 bg-blue-50":"border-gray-300 hover:bg-gray-50"}`,onClick:()=>_(P.id),children:[s.jsx("input",{type:"checkbox",checked:a.amenities.includes(P.id),onChange:()=>_(P.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-3 text-sm text-gray-700",children:P.name})]},P.id))})]},O))})]}),n===5&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Photo Upload"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Add clear photos of your property. Upload at least 5 photos for best results."}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Photos *"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed border-gray-300 rounded-md",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"photos",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[s.jsx("span",{children:"Upload files"}),s.jsx("input",{id:"photos",name:"photos",type:"file",multiple:!0,accept:"image/*",onChange:x,className:"sr-only"})]}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 5MB"})]})}),l.photos&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.photos})]}),h.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Preview"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:h.map((O,P)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:O,alt:`Preview ${P+1}`,className:"h-32 w-full object-cover rounded-md"}),s.jsx("button",{type:"button",onClick:()=>f(P),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},P))})]}),u.length>=5&&s.jsx("div",{className:"p-4 bg-green-50 rounded-md",children:s.jsxs("p",{className:"text-sm text-green-700",children:[s.jsx("strong",{children:"Great!"})," You've uploaded ",u.length," photos. This meets the minimum requirement."]})})]})]}),n===6&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Pricing"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"base_price_per_night",className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Price per Night (LYD) *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:"LYD"})}),s.jsx("input",{type:"number",id:"base_price_per_night",name:"base_price_per_night",min:"0",step:"0.5",value:a.base_price_per_night,onChange:m,className:`pl-12 w-full px-3 py-2 border rounded-md ${l.base_price_per_night?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),l.base_price_per_night&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.base_price_per_night}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This is the nightly rate before service fees"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[s.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Price Breakdown"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Base Price:"}),s.jsxs("span",{className:"font-medium",children:["LYD ",a.base_price_per_night.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Service Fee (10%):"}),s.jsxs("span",{className:"font-medium",children:["LYD ",F]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[s.jsx("span",{className:"font-medium",children:"Total per night:"}),s.jsxs("span",{className:"font-bold text-lg",children:["LYD ",Y]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Discounts"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Coming soon: Offer weekly or monthly discounts to attract longer stays"}),s.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:!0,children:"Add Discount"})]})]})]}),n===7&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Availability Calendar"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Set when your property is available for bookings. You can adjust this later."}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mb-6",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Tip:"})," For now, your property will be available by default. You can set specific dates in the property management section after creation."]})}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(O=>s.jsx("div",{className:"text-center text-sm font-medium text-gray-500 py-2",children:O},O))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:Array.from({length:35}).map((O,P)=>{const S=new Date;return S.setDate(S.getDate()+P),s.jsx("div",{className:"h-12 flex items-center justify-center text-sm rounded-md bg-green-100 text-green-800 border border-green-200",children:S.getDate()},P)})}),s.jsxs("div",{className:"mt-6 flex items-center",children:[s.jsxs("div",{className:"flex items-center mr-6",children:[s.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-200 rounded-md mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Available"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded-md mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Unavailable"})]})]})]}),n===8&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"House Rules & Policies"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"house_rules",className:"block text-sm font-medium text-gray-700 mb-1",children:"House Rules"}),s.jsx("textarea",{id:"house_rules",name:"house_rules",rows:4,value:a.house_rules,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"List any specific rules for your guests (e.g., no smoking, no pets, quiet hours)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cancellation Policy *"}),s.jsx("div",{className:"space-y-3",children:gj.map(O=>s.jsx("div",{className:`p-4 border rounded-md cursor-pointer ${a.cancellation_policy===O.id?"border-blue-500 bg-blue-50":"border-gray-300 hover:bg-gray-50"}`,onClick:()=>o(P=>({...P,cancellation_policy:O.id})),children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{type:"radio",name:"cancellation_policy",value:O.id,checked:a.cancellation_policy===O.id,onChange:m,className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("span",{className:"block text-sm font-medium text-gray-900",children:O.name}),s.jsx("span",{className:"block text-sm text-gray-500",children:O.description})]})]})},O.id))})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:"instant_book",name:"instant_book",type:"checkbox",checked:a.instant_book,onChange:m,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),s.jsxs("div",{className:"ml-3 text-sm",children:[s.jsx("label",{htmlFor:"instant_book",className:"font-medium text-gray-700",children:"Enable instant booking"}),s.jsx("p",{className:"text-gray-500",children:"Allow guests to book without your approval (recommended for better conversion)"})]})]}),s.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:s.jsxs("p",{className:"text-sm text-yellow-700",children:[s.jsx("strong",{children:"Important:"})," By submitting this listing, you confirm that you have the right to rent this property and that it complies with all local laws and regulations in Libya."]})})]})]}),s.jsxs("div",{className:"mt-8 flex justify-between",children:[s.jsx("button",{type:"button",onClick:j,disabled:n===1,className:`px-4 py-2 border border-gray-300 rounded-md text-sm font-medium ${n===1?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"}`,children:"Back"}),n<8?s.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-blue-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Next"}):s.jsx("button",{type:"button",onClick:$,disabled:p,className:"px-4 py-2 bg-green-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:p?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Listing..."]}):"Create Listing"})]}),v&&s.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:s.jsx("p",{className:"text-sm",children:v})}),b.isSuccess&&s.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md",children:s.jsx("p",{className:"text-sm",children:"Your listing has been created successfully! You'll be redirected to your listings dashboard."})})]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(H,{to:"/dashboard/listings",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:" Back to Listings Dashboard"})})]})})})},vj=()=>{var M,A,K,z;const{listing_id:e}=Du(),t=dr(),r=G(T=>T.authentication_state.auth_token),n=G(T=>T.authentication_state.current_user),[i,a]=C.useState({}),[o,l]=C.useState([]),[c,u]=C.useState([]),[d,h]=C.useState(!1),[y,p]=C.useState(null),[g,v]=C.useState(null),N=Jr(),x=["Tripoli","Benghazi","Misrata","Tobruk","Derna","Zliten","Zuwara","Khoms","Sirte","Al-Bayda","Tajura","Sabha","Al-Marj","Ghat","Murzuq","Waddan","Jalu","Jaghbub"],{data:f,isLoading:m,isError:_}=le({queryKey:["property",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}`,{headers:{Authorization:`Bearer ${r}`}})).data,enabled:!!e&&!!r}),{data:E=[],refetch:w}=le({queryKey:["property-photos",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/photos`,{headers:{Authorization:`Bearer ${r}`}})).data,enabled:!!e&&!!r});C.useEffect(()=>{f&&(a({...f}),h(!1))},[f]),C.useEffect(()=>{if(f){const T=JSON.stringify(i)!==JSON.stringify(f)||o.length>0;h(T)}},[i,o,f]);const j=(T,I)=>{a(U=>({...U,[T]:I})),p(null)},b=T=>{if(T.target.files&&T.target.files.length>0){const I=Array.from(T.target.files),U=I.map(ne=>({id:`temp-${Date.now()}-${Math.random()}`,file:ne,url:URL.createObjectURL(ne)}));u(ne=>[...ne,...U]);const L=I.map((ne,ce)=>({type:"add",tempId:U[ce].id,file:ne}));l(ne=>[...ne,...L])}T.target.value=""},$=T=>{"photo_id"in T?l(I=>[...I,{type:"remove",photo:T}]):(u(I=>I.filter(U=>U.id!==T.id)),l(I=>I.filter(U=>U.tempId!==T.id)))},F=Be({mutationFn:async T=>(await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}`,T,{headers:{Authorization:`Bearer ${r}`}})).data,onSuccess:()=>{N.invalidateQueries({queryKey:["property",e]}),v("Listing updated successfully!"),h(!1),setTimeout(()=>v(null),3e3)},onError:T=>{var I,U;p(((U=(I=T.response)==null?void 0:I.data)==null?void 0:U.message)||"Failed to update listing")}}),Y=async()=>{var T,I;if(!(!i||!e)){p(null),v(null);try{const U={property_id:e,...i};Object.keys(U).forEach(L=>{L!=="property_id"&&JSON.stringify(U[L])===JSON.stringify(f==null?void 0:f[L])&&delete U[L]}),Object.keys(U).length>1&&await F.mutateAsync(U);for(const L of o)if(L.type==="add"&&L.file){new FormData().append("file",L.file);const ce=URL.createObjectURL(L.file);await q.post(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/photos`,{property_id:e,photo_url:ce,display_order:E.length+c.length},{headers:{Authorization:`Bearer ${r}`}})}else L.type==="remove"&&L.photo&&await q.delete(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/photos/${L.photo.photo_id}`,{headers:{Authorization:`Bearer ${r}`}});l([]),u([]),w(),v("All changes saved successfully!"),h(!1)}catch(U){p(((I=(T=U.response)==null?void 0:T.data)==null?void 0:I.message)||"Failed to save changes")}}},O=async()=>{var T,I;if(window.confirm("Are you sure you want to delete this listing? This action cannot be undone."))try{await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}`,{property_id:e,is_active:!1},{headers:{Authorization:`Bearer ${r}`}}),t("/dashboard/listings")}catch(U){p(((I=(T=U.response)==null?void 0:T.data)==null?void 0:I.message)||"Failed to delete listing")}},P=async()=>{var T,I;if(f)try{await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}`,{property_id:e,is_active:!f.is_active},{headers:{Authorization:`Bearer ${r}`}}),N.invalidateQueries({queryKey:["property",e]}),v(`Listing ${f.is_active?"unpublished":"published"} successfully!`),setTimeout(()=>v(null),3e3)}catch(U){p(((I=(T=U.response)==null?void 0:T.data)==null?void 0:I.message)||"Failed to update listing status")}};if(!r||!n)return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to edit your listing."}),s.jsx(H,{to:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors",children:"Go to Login"})]})})});if(m)return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(_||!f)return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Listing"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find the listing you're trying to edit."}),s.jsx(H,{to:"/dashboard/listings",className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors",children:"Back to My Listings"})]})})});if(f.host_id!==n.user_id)return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to edit this listing."}),s.jsx(H,{to:"/dashboard/listings",className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors",children:"Back to My Listings"})]})})});const S=[...E.map(T=>({...T,temp:!1})),...c.map(T=>({photo_id:T.id,property_id:e||"",photo_url:T.url,caption:null,display_order:E.length,created_at:new Date().toISOString(),temp:!0}))];return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Listing"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Make changes to your property listing below"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>t("/dashboard/listings"),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:P,className:`${f.is_active?"bg-yellow-500 hover:bg-yellow-600":"bg-green-600 hover:bg-green-700"} text-white px-4 py-2 rounded-md font-medium transition-colors`,children:f.is_active?"Unpublish":"Publish"}),s.jsx("button",{onClick:Y,disabled:!d||F.isPending,className:`${d?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"} text-white px-4 py-2 rounded-md font-medium transition-colors`,children:F.isPending?"Saving...":"Save Changes"})]})]}),y&&s.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:s.jsx("p",{children:y})}),g&&s.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md",children:s.jsx("p",{children:g})})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"divide-y divide-gray-200",children:[s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Listing Title"}),s.jsx("input",{type:"text",id:"title",value:i.title||"",onChange:T=>j("title",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Beautiful apartment in central Tripoli"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"property_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Type"}),s.jsxs("select",{id:"property_type",value:i.property_type||"",onChange:T=>j("property_type",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select property type"}),s.jsx("option",{value:"entire_place",children:"Entire Place"}),s.jsx("option",{value:"private_room",children:"Private Room"}),s.jsx("option",{value:"shared_room",children:"Shared Room"})]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{id:"description",rows:4,value:i.description||"",onChange:T=>j("description",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe your property in detail..."})]})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Location"}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),s.jsxs("select",{id:"city",value:i.city||"",onChange:T=>j("city",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select a city"}),x.map(T=>s.jsx("option",{value:T,children:T},T))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"neighborhood",className:"block text-sm font-medium text-gray-700 mb-1",children:"Neighborhood"}),s.jsx("input",{type:"text",id:"neighborhood",value:i.neighborhood||"",onChange:T=>j("neighborhood",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional neighborhood"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),s.jsx("input",{type:"text",id:"address",value:i.address||"",onChange:T=>j("address",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Full address"})]})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Accommodation Details"}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"guest_capacity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Guests"}),s.jsx("input",{type:"number",id:"guest_capacity",min:"1",value:i.guest_capacity||1,onChange:T=>j("guest_capacity",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrooms"}),s.jsx("input",{type:"number",id:"bedrooms",min:"0",value:i.bedrooms||0,onChange:T=>j("bedrooms",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"beds",className:"block text-sm font-medium text-gray-700 mb-1",children:"Beds"}),s.jsx("input",{type:"number",id:"beds",min:"1",value:i.beds||1,onChange:T=>j("beds",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bathrooms"}),s.jsx("input",{type:"number",id:"bathrooms",min:"1",step:"0.5",value:i.bathrooms||1,onChange:T=>j("bathrooms",parseFloat(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Amenities"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"has_power_backup",type:"checkbox",checked:i.has_power_backup||!1,onChange:T=>j("has_power_backup",T.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"has_power_backup",className:"ml-2 block text-sm text-gray-900",children:"Generator Power Backup"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"has_water_tank",type:"checkbox",checked:i.has_water_tank||!1,onChange:T=>j("has_water_tank",T.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"has_water_tank",className:"ml-2 block text-sm text-gray-900",children:"Water Tank/Stable Supply"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"wifi",type:"checkbox",checked:((M=i.amenities)==null?void 0:M.includes("WiFi"))||!1,onChange:T=>{const I=i.amenities||"",U=T.target.checked?`${I}${I?",":""}WiFi`:I.replace(/WiFi,?/g,"").replace(/^,|,$/g,"");j("amenities",U)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"wifi",className:"ml-2 block text-sm text-gray-900",children:"WiFi"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"ac",type:"checkbox",checked:((A=i.amenities)==null?void 0:A.includes("Air Conditioning"))||!1,onChange:T=>{const I=i.amenities||"",U=T.target.checked?`${I}${I?",":""}Air Conditioning`:I.replace(/Air Conditioning,?/g,"").replace(/^,|,$/g,"");j("amenities",U)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"ac",className:"ml-2 block text-sm text-gray-900",children:"Air Conditioning"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"kitchen",type:"checkbox",checked:((K=i.amenities)==null?void 0:K.includes("Kitchen"))||!1,onChange:T=>{const I=i.amenities||"",U=T.target.checked?`${I}${I?",":""}Kitchen`:I.replace(/Kitchen,?/g,"").replace(/^,|,$/g,"");j("amenities",U)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"kitchen",className:"ml-2 block text-sm text-gray-900",children:"Kitchen"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"parking",type:"checkbox",checked:((z=i.amenities)==null?void 0:z.includes("Parking"))||!1,onChange:T=>{const I=i.amenities||"",U=T.target.checked?`${I}${I?",":""}Parking`:I.replace(/Parking,?/g,"").replace(/^,|,$/g,"");j("amenities",U)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"parking",className:"ml-2 block text-sm text-gray-900",children:"Parking"})]})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Photos"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add New Photos"}),s.jsx("div",{className:"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"photo-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[s.jsx("span",{children:"Upload files"}),s.jsx("input",{id:"photo-upload",name:"photo-upload",type:"file",multiple:!0,accept:"image/*",onChange:b,className:"sr-only"})]}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]}),S.length>0&&s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:S.map(T=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:T.photo_url,alt:"Property",className:"h-32 w-full object-cover rounded-md"}),s.jsx("button",{type:"button",onClick:()=>$(T.temp?{id:T.photo_id}:T),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},T.photo_id))})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Pricing"}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"base_price_per_night",className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Price per Night (LYD)"}),s.jsxs("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("input",{type:"number",id:"base_price_per_night",min:"0",step:"0.01",value:i.base_price_per_night||0,onChange:T=>j("base_price_per_night",parseFloat(T.target.value)),className:"focus:ring-blue-500 focus:border-blue-500 block w-full pr-12 sm:text-sm border-gray-300 rounded-md"}),s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:"LYD"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cancellation_policy",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cancellation Policy"}),s.jsxs("select",{id:"cancellation_policy",value:i.cancellation_policy||"moderate",onChange:T=>j("cancellation_policy",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"flexible",children:"Flexible (Free cancellation up to 24 hours)"}),s.jsx("option",{value:"moderate",children:"Moderate (Free cancellation up to 7 days)"}),s.jsx("option",{value:"strict",children:"Strict (Non-refundable)"})]})]}),s.jsxs("div",{className:"flex items-center pt-6",children:[s.jsx("input",{id:"instant_book",type:"checkbox",checked:i.instant_book||!1,onChange:T=>j("instant_book",T.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"instant_book",className:"ml-2 block text-sm text-gray-900",children:"Enable Instant Booking"})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-between",children:[s.jsx("button",{onClick:O,className:"text-red-600 hover:text-red-800 font-medium",children:"Delete Listing"}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>t("/dashboard/listings"),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:Y,disabled:!d||F.isPending,className:`${d?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"} text-white px-4 py-2 rounded-md font-medium transition-colors`,children:F.isPending?"Saving...":"Save Changes"})]})]})]})]})})})},bj=()=>{const e=G(S=>S.authentication_state.current_user),t=G(S=>S.authentication_state.auth_token),r=Jr(),[n,i]=C.useState("pending"),[a,o]=C.useState(null),[l,c]=C.useState(!1),[u,d]=C.useState(""),[h,y]=C.useState("month"),p="https://123airbnb-but-just-for-libya.launchpulse.ai",{data:g=[],isLoading:v}=le({queryKey:["hostBookings","pending",e==null?void 0:e.user_id],queryFn:async()=>!(e!=null&&e.user_id)||!t?[]:(await q.get(`${p}/api/bookings`,{headers:{Authorization:`Bearer ${t}`},params:{host_id:e.user_id,status:"pending"}})).data.bookings,enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),{data:N=[],isLoading:x}=le({queryKey:["hostBookings","confirmed",e==null?void 0:e.user_id],queryFn:async()=>!(e!=null&&e.user_id)||!t?[]:(await q.get(`${p}/api/bookings`,{headers:{Authorization:`Bearer ${t}`},params:{host_id:e.user_id,status:"confirmed"}})).data.bookings,enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),{data:f=[],isLoading:m}=le({queryKey:["hostBookings","history",e==null?void 0:e.user_id],queryFn:async()=>!(e!=null&&e.user_id)||!t?[]:(await q.get(`${p}/api/bookings`,{headers:{Authorization:`Bearer ${t}`},params:{host_id:e.user_id,status:["completed","cancelled"]}})).data.bookings,enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),_=Be({mutationFn:async S=>{if(!t)throw new Error("No auth token");return(await q.patch(`${p}/api/bookings/${S}`,{status:"confirmed"},{headers:{Authorization:`Bearer ${t}`}})).data},onSuccess:S=>{r.setQueryData(["hostBookings","pending",e==null?void 0:e.user_id],M=>(M==null?void 0:M.filter(A=>A.booking_id!==S.booking_id))||[]),r.setQueryData(["hostBookings","confirmed",e==null?void 0:e.user_id],M=>[...M||[],S]),o(null)},onError:S=>{console.error("Error approving booking:",S),alert("Failed to approve booking. Please try again.")}}),E=Be({mutationFn:async({bookingId:S,reason:M})=>{if(!t)throw new Error("No auth token");return(await q.patch(`${p}/api/bookings/${S}`,{status:"declined",special_requests:M||"No reason provided"},{headers:{Authorization:`Bearer ${t}`}})).data},onSuccess:S=>{r.setQueryData(["hostBookings","pending",e==null?void 0:e.user_id],M=>(M==null?void 0:M.filter(A=>A.booking_id!==S.booking_id))||[]),c(!1),d(""),o(null)},onError:S=>{console.error("Error declining booking:",S),alert("Failed to decline booking. Please try again.")}}),w=S=>{_.mutate(S)},j=S=>{o(g.find(M=>M.booking_id===S)||null),c(!0)},b=()=>{a&&E.mutate({bookingId:a.booking_id,reason:u})},$=S=>new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),F=S=>new Intl.NumberFormat("en-LY",{style:"currency",currency:"LYD"}).format(S),Y=S=>s.jsxs("div",{className:"border rounded-lg p-4 mb-4 shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Booking #",S.booking_id.substring(0,8)]}),s.jsxs("p",{className:"text-gray-600",children:[$(S.check_in)," - ",$(S.check_out)]}),s.jsxs("p",{className:"text-gray-600",children:[S.guest_count," guest",S.guest_count>1?"s":""]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-lg font-bold",children:F(S.total_price)}),s.jsxs("p",{className:"text-sm text-gray-500",children:["+",F(S.service_fee)," service fee"]})]})]}),S.special_requests&&s.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("span",{className:"font-medium",children:"Special requests:"})," ",S.special_requests]})}),s.jsxs("div",{className:"mt-4 flex space-x-2",children:[s.jsx("button",{onClick:()=>w(S.booking_id),disabled:_.isPending,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md transition-colors disabled:opacity-50",children:_.isPending?"Approving...":"Approve"}),s.jsx("button",{onClick:()=>j(S.booking_id),disabled:E.isPending,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-md transition-colors disabled:opacity-50",children:E.isPending?"Declining...":"Decline"})]})]},S.booking_id),O=S=>s.jsx("div",{className:"border rounded-lg p-4 mb-4 shadow-sm",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Booking #",S.booking_id.substring(0,8)]}),s.jsxs("p",{className:"text-gray-600",children:[$(S.check_in)," - ",$(S.check_out)]}),s.jsxs("p",{className:"text-gray-600",children:[S.guest_count," guest",S.guest_count>1?"s":""]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-lg font-bold",children:F(S.total_price)}),s.jsx("p",{className:`text-sm font-medium ${S.status==="completed"?"text-green-600":"text-red-600"}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)})]})]})},S.booking_id),P=()=>{const S={};return N.forEach(M=>{const A=new Date(M.check_in).toLocaleString("default",{month:"long",year:"numeric"});S[A]||(S[A]=[]),S[A].push(M)}),s.jsx("div",{className:"space-y-8",children:Object.entries(S).map(([M,A])=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:M}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(K=>s.jsx("div",{className:"border rounded-lg p-4 bg-white shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>o(K),children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold",children:["Booking #",K.booking_id.substring(0,8)]}),s.jsxs("p",{className:"text-gray-600",children:[$(K.check_in)," - ",$(K.check_out)]}),s.jsxs("p",{className:"text-gray-600",children:[K.guest_count," guest",K.guest_count>1?"s":""]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"font-bold",children:F(K.total_price)})})]})},K.booking_id))})]},M))})};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Host Bookings"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your booking requests, confirmed bookings, and booking history"})]}),s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsxs("button",{onClick:()=>i("pending"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${n==="pending"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Booking Requests",g.length>0&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:g.length})]}),s.jsx("button",{onClick:()=>i("confirmed"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${n==="confirmed"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Confirmed Bookings"}),s.jsx("button",{onClick:()=>i("history"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${n==="history"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Booking History"})]})}),n==="pending"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Pending Booking Requests"}),v?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):g.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No pending booking requests"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"When guests request to book your properties, they'll appear here."})]}):s.jsx("div",{children:g.map(Y)})]}),n==="confirmed"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Confirmed Bookings"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>y("month"),className:`px-3 py-1 rounded ${h==="month"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Month"}),s.jsx("button",{onClick:()=>y("week"),className:`px-3 py-1 rounded ${h==="week"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Week"}),s.jsx("button",{onClick:()=>y("day"),className:`px-3 py-1 rounded ${h==="day"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Day"})]})]}),x?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):N.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No confirmed bookings"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"When guests confirm bookings, they'll appear here."})]}):s.jsx("div",{children:P()})]}),n==="history"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Booking History"}),m?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No booking history"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"Your completed and cancelled bookings will appear here."})]}):s.jsx("div",{children:f.map(O)})]})]})}),l&&a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Decline Booking Request"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to decline this booking request? You can provide a reason for declining."}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"declineReason",className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for declining (optional)"}),s.jsx("textarea",{id:"declineReason",rows:3,className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 mt-1 block w-full sm:text-sm border border-gray-300 rounded-md p-2",placeholder:"Enter reason for declining...",value:u,onChange:S=>d(S.target.value)})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),s.jsx("button",{onClick:b,disabled:E.isPending,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:E.isPending?"Declining...":"Decline Booking"})]})]})})}),a&&!l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Booking Details"}),s.jsx("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-500",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Booking Information"}),s.jsxs("dl",{className:"mt-2 space-y-2",children:[s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Booking ID"}),s.jsx("dd",{className:"text-sm text-gray-900",children:a.booking_id})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Check-in"}),s.jsx("dd",{className:"text-sm text-gray-900",children:$(a.check_in)})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Check-out"}),s.jsx("dd",{className:"text-sm text-gray-900",children:$(a.check_out)})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Guests"}),s.jsx("dd",{className:"text-sm text-gray-900",children:a.guest_count})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),s.jsx("dd",{className:"text-sm text-gray-900 capitalize",children:a.status})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Financial Details"}),s.jsxs("dl",{className:"mt-2 space-y-2",children:[s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Total Price"}),s.jsx("dd",{className:"text-sm text-gray-900",children:F(a.total_price)})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Service Fee"}),s.jsx("dd",{className:"text-sm text-gray-900",children:F(a.service_fee)})]}),a.special_requests&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Special Requests"}),s.jsx("dd",{className:"text-sm text-gray-900",children:a.special_requests})]})]})]})]}),s.jsx("div",{className:"mt-6 flex justify-end space-x-3",children:s.jsx("button",{onClick:()=>o(null),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Close"})})]})})})]})},wj=()=>{var P;const e=G(S=>S.authentication_state.current_user),t=G(S=>S.authentication_state.auth_token),[r,n]=C.useState([]),[i,a]=C.useState(null),[o,l]=C.useState([]),[c,u]=C.useState({}),[d,h]=C.useState(""),[y]=Nn(),[p,g]=C.useState(!0),[v,N]=C.useState(!1),[x,f]=C.useState(null),m="https://123airbnb-but-just-for-libya.launchpulse.ai",_=C.useCallback(async()=>{if(!t)return[];try{return(await q.get(`${m}/api/conversations`,{headers:{Authorization:`Bearer ${t}`},params:{limit:20,offset:0}})).data.conversations}catch(S){throw console.error("Error fetching conversations:",S),new Error("Failed to load conversations")}},[t,m]),E=C.useCallback(async S=>{if(!t)return[];try{return(await q.get(`${m}/api/conversations/${S}/messages`,{headers:{Authorization:`Bearer ${t}`},params:{limit:50,offset:0}})).data}catch(M){throw console.error("Error fetching messages:",M),new Error("Failed to load messages")}},[t,m]),w=Be({mutationFn:async S=>{if(!t)throw new Error("Not authenticated");return(await q.post(`${m}/api/conversations/${S.conversation_id}/messages`,{content:S.content,sender_id:e==null?void 0:e.user_id},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data},onSuccess:S=>{l(M=>[...M,S]),h(""),n(M=>M.map(A=>A.conversation_id===S.conversation_id?{...A,updated_at:new Date().toISOString()}:A).sort((A,K)=>new Date(K.updated_at).getTime()-new Date(A.updated_at).getTime()))},onError:S=>{console.error("Error sending message:",S),f("Failed to send message. Please try again.")}}),j=Be({mutationFn:async S=>{if(!t)throw new Error("Not authenticated");return(await q.patch(`${m}/api/messages/${S}`,{is_read:!0},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data},onSuccess:S=>{l(M=>M.map(A=>A.message_id===S.message_id?{...A,is_read:S.is_read}:A)),u(M=>{const A=S.conversation_id,K=M[A]||0;return{...M,[A]:Math.max(0,K-1)}})}});C.useEffect(()=>{t&&(async()=>{try{g(!0);const M=await _();n(M);const A=y.get("conversation_id");if(A){const K=M.find(z=>z.conversation_id===A);K&&a(K)}else M.length>0&&a(M[0])}catch(M){f("Failed to load conversations"),console.error("Error loading conversations:",M)}finally{g(!1)}})()},[t,_,y]),C.useEffect(()=>{(async()=>{if(!i){l([]);return}try{N(!0);const M=await E(i.conversation_id);l(M),M.filter(A=>!A.is_read&&A.sender_id!==(e==null?void 0:e.user_id)).forEach(A=>{j.mutate(A.message_id)})}catch(M){f("Failed to load messages"),console.error("Error loading messages:",M)}finally{N(!1)}})()},[i,E,e,j]);const b=S=>{S.preventDefault(),!(!d.trim()||!i||w.isPending)&&w.mutate({conversation_id:i.conversation_id,content:d})},$=S=>{const M=new Date(S);return V2(M)?vr(M,"HH:mm"):Q2(M)?"Yesterday":vr(M,"MMM dd")},F=S=>e?S.guest_id===e.user_id?S.host_id:S.guest_id:null,Y=S=>{const M=c[S.conversation_id]||0,A=(i==null?void 0:i.conversation_id)===S.conversation_id,K=F(S);return s.jsx("div",{className:`p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50 ${A?"bg-blue-50 border-l-4 border-l-blue-500":""}`,onClick:()=>a(S),children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-700 font-medium",children:(K==null?void 0:K.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:K===S.guest_id?"Guest":"Host"}),s.jsx("time",{className:"text-xs text-gray-500",children:$(S.updated_at)})]}),s.jsxs("p",{className:"text-sm text-gray-500 truncate",children:["Conversation about booking #",S.booking_id.substring(0,8)]})]}),M>0&&s.jsx("div",{className:"ml-2 flex-shrink-0",children:s.jsx("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full",children:M})})]})},S.conversation_id)},O=S=>{const M=S.sender_id===(e==null?void 0:e.user_id),A=M?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none";return s.jsx("div",{className:`flex ${M?"justify-end":"justify-start"} mb-4`,children:s.jsxs("div",{className:`max-w-xs md:max-w-md lg:max-w-lg px-4 py-2 rounded-lg ${A}`,children:[s.jsx("p",{className:"text-sm",children:S.content}),s.jsxs("div",{className:`text-xs mt-1 ${M?"text-blue-100":"text-gray-500"}`,children:[s.jsx("span",{children:$(S.created_at)}),M&&s.jsx("span",{className:"ml-2",children:S.is_read?"":""})]})]})},S.message_id)};return!t||!e?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Authentication Required"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to access your messages"}),s.jsx(H,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go to Login"})]})})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:s.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-200px)]",children:[s.jsxs("div",{className:"w-full md:w-1/3 border-r border-gray-200 flex flex-col",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Messages"})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:p?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):x?s.jsx("div",{className:"p-4 text-center text-red-500",children:x}):r.length===0?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"No conversations yet. Start a conversation from a booking."}):r.map(Y)})]}),s.jsx("div",{className:"w-full md:w-2/3 flex flex-col",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-700 font-medium",children:((P=F(i))==null?void 0:P.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:F(i)===i.guest_id?"Guest":"Host"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Booking #",i.booking_id.substring(0,8)]})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-white",children:v?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):x?s.jsx("div",{className:"p-4 text-center text-red-500",children:x}):o.length===0?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("p",{className:"text-gray-500",children:"No messages yet. Start the conversation!"})}):s.jsx("div",{className:"space-y-4",children:o.map(O)})}),s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("form",{onSubmit:b,className:"flex",children:[s.jsx("input",{type:"text",value:d,onChange:S=>h(S.target.value),placeholder:"Type a message...",className:"flex-1 rounded-l-lg border border-gray-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:w.isPending}),s.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-r-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",disabled:!d.trim()||w.isPending,children:w.isPending?"Sending...":"Send"})]})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No conversation selected"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"Select a conversation from the list to start messaging"})]})})})]})})})})})},jj=()=>{const{booking_id:e}=Du(),t=dr(),r=G(P=>P.authentication_state.current_user),n=G(P=>P.authentication_state.auth_token),[i,a]=C.useState({cleanliness_rating:0,accuracy_rating:0,communication_rating:0,location_rating:0,check_in_rating:0,value_rating:0,overall_rating:0}),[o,l]=C.useState(""),[c,u]=C.useState([]),[d,h]=C.useState([]),[y,p]=C.useState(null),[g,v]=C.useState(!1),N=Jr(),{data:x,isLoading:f,error:m}=le({queryKey:["booking",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings/${e}`,{headers:{Authorization:`Bearer ${n}`}})).data,enabled:!!e&&!!n}),{data:_}=le({queryKey:["property",x==null?void 0:x.property_id],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${x==null?void 0:x.property_id}`)).data,enabled:!!(x!=null&&x.property_id)}),{data:E}=le({queryKey:["host",x==null?void 0:x.host_id],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${x==null?void 0:x.host_id}`)).data,enabled:!!(x!=null&&x.host_id)});C.useEffect(()=>{if(x&&r){const P=new Date,S=new Date(x.check_out);x.guest_id===r.user_id&&x.status==="completed"&&P>S||t("/dashboard/bookings")}},[x,r,t]);const w=P=>{if(P.target.files){const M=Array.from(P.target.files).slice(0,5-c.length);u(K=>[...K,...M]);const A=M.map(K=>URL.createObjectURL(K));h(K=>[...K,...A])}},j=P=>{u(S=>S.filter((M,A)=>A!==P)),h(S=>S.filter((M,A)=>A!==P))};C.useEffect(()=>{const S=[i.cleanliness_rating,i.accuracy_rating,i.communication_rating,i.location_rating,i.check_in_rating,i.value_rating].filter(A=>A>0),M=S.length>0?Math.round(S.reduce((A,K)=>A+K,0)/S.length):0;a(A=>({...A,overall_rating:M}))},[i.cleanliness_rating,i.accuracy_rating,i.communication_rating,i.location_rating,i.check_in_rating,i.value_rating]);const b=async P=>{const S=new FormData;S.append("file",P);try{return(await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/upload",S,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${n}`}})).data.url}catch(M){throw console.error("Error uploading photo:",M),M}},$=async(P,S)=>(await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/review-photos",{review_id:S,photo_url:P,caption:null},{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).data,F=Be({mutationFn:async P=>(await q.post(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings/${e}/reviews`,P,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).data,onSuccess:async P=>{if(c.length>0)try{for(const S of c){const M=await b(S);await $(M,P.review_id)}}catch(S){console.error("Error uploading photos:",S)}v(!0),N.invalidateQueries({queryKey:["bookings"]})},onError:P=>{var S,M;p(((M=(S=P.response)==null?void 0:S.data)==null?void 0:M.message)||"Failed to submit review")}}),Y=P=>{if(P.preventDefault(),p(null),[i.cleanliness_rating,i.accuracy_rating,i.communication_rating,i.location_rating,i.check_in_rating,i.value_rating].some(A=>A===0)){p("Please provide ratings for all categories");return}if(!x||!r){p("Booking or user information missing");return}const M={booking_id:x.booking_id,property_id:x.property_id,reviewer_id:r.user_id,host_id:x.host_id,cleanliness_rating:i.cleanliness_rating,accuracy_rating:i.accuracy_rating,communication_rating:i.communication_rating,location_rating:i.location_rating,check_in_rating:i.check_in_rating,value_rating:i.value_rating,overall_rating:i.overall_rating,comment:o||null};F.mutate(M)},O=(P,S,M)=>s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:P}),s.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(A=>s.jsx("button",{type:"button",onClick:()=>M(A),className:"text-2xl focus:outline-none","aria-label":`Rate ${A} out of 5 stars`,children:A<=S?s.jsx("span",{className:"text-yellow-400",children:""}):s.jsx("span",{className:"text-gray-300",children:""})},A))})]});return f?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-8"}),s.jsx("div",{className:"space-y-4",children:[...Array(6)].map((P,S)=>s.jsx("div",{className:"h-16 bg-gray-200 rounded"},S))})]})})})})}):m?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Error Loading Booking"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"We couldn't load the booking information. Please try again later."}),s.jsx(H,{to:"/dashboard/bookings",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Bookings"})]})})})})}):g?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[s.jsx("div",{className:"text-green-500 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Review Submitted!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for sharing your experience. Your review helps other travelers make informed decisions."}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[s.jsx(H,{to:"/dashboard/bookings",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Bookings"}),s.jsx(H,{to:`/properties/${x==null?void 0:x.property_id}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Property"})]})]})})})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Leave a Review"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Share your experience to help other travelers"})]}),s.jsxs("div",{className:"p-6",children:[x&&_&&E&&s.jsxs("div",{className:"mb-8 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:_.title}),s.jsxs("p",{className:"text-gray-600",children:[_.neighborhood?`${_.neighborhood}, `:"",_.city]}),s.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[s.jsxs("span",{children:["Stayed from ",new Date(x.check_in).toLocaleDateString()," to ",new Date(x.check_out).toLocaleDateString()]}),s.jsx("span",{className:"mx-2",children:""}),s.jsxs("span",{children:["Hosted by ",E.name]})]})]}),s.jsxs("form",{onSubmit:Y,children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Your Rating"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[O("Cleanliness",i.cleanliness_rating,P=>a(S=>({...S,cleanliness_rating:P}))),O("Accuracy",i.accuracy_rating,P=>a(S=>({...S,accuracy_rating:P}))),O("Communication",i.communication_rating,P=>a(S=>({...S,communication_rating:P}))),O("Location",i.location_rating,P=>a(S=>({...S,location_rating:P}))),O("Check-in",i.check_in_rating,P=>a(S=>({...S,check_in_rating:P}))),O("Value",i.value_rating,P=>a(S=>({...S,value_rating:P})))]}),s.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-gray-700 mr-2",children:"Overall Rating:"}),s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(P=>s.jsx("span",{className:`text-2xl ${P<=i.overall_rating?"text-yellow-400":"text-gray-300"}`,children:""},P))}),s.jsx("span",{className:"ml-2 text-gray-700",children:i.overall_rating>0?`${i.overall_rating}/5`:"Not rated"})]})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("label",{htmlFor:"review",className:"block text-lg font-medium text-gray-900 mb-2",children:"Your Review"}),s.jsx("textarea",{id:"review",rows:6,value:o,onChange:P=>{l(P.target.value),p(null)},className:"block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-3",placeholder:"Share details about your stay, what you liked, and any suggestions for improvement..."}),s.jsxs("div",{className:"mt-2 flex justify-between text-sm text-gray-500",children:[s.jsx("span",{children:"Helpful reviews include specific details about your stay"}),s.jsxs("span",{children:[o.length,"/1000 characters"]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("label",{className:"block text-lg font-medium text-gray-900 mb-2",children:"Photos (Optional)"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Upload up to 5 photos from your stay"}),s.jsx("div",{className:"mt-2 flex flex-col items-center justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"photo-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[s.jsx("span",{children:"Upload a file"}),s.jsx("input",{id:"photo-upload",name:"photo-upload",type:"file",className:"sr-only",accept:"image/*",multiple:!0,onChange:w,disabled:c.length>=5})]}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]})}),d.length>0&&s.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:d.map((P,S)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:P,alt:`Preview ${S+1}`,className:"h-24 w-full object-cover rounded-md"}),s.jsx("button",{type:"button",onClick:()=>j(S),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove photo",children:s.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},S))})]}),y&&s.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:s.jsx("p",{className:"text-sm",children:y})}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx(H,{to:"/dashboard/bookings",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:F.isPending,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:F.isPending?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit Review"})]})]})]})]})})})})},Nj=()=>{const e=G(L=>L.authentication_state.current_user),t=G(L=>L.authentication_state.auth_token),[r,n]=C.useState({total_users:0,total_properties:0,total_bookings:0,total_reviews:0,active_conversations:0,pending_moderation:0}),[i,a]=C.useState({users:!0,listings:!1,bookings:!1,reviews:!1}),[o,l]=C.useState("dashboard"),[c,u]=C.useState({user_query:"",user_role:"",user_verified:!1,property_query:"",property_status:"",booking_status:"",review_query:""});C.useEffect(()=>{e&&e.role!=="admin"&&(window.location.href="/")},[e]);const d=async()=>{try{const L=await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/users",{headers:{Authorization:`Bearer ${t}`},params:{limit:1}}),ne=await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties",{headers:{Authorization:`Bearer ${t}`},params:{limit:1}}),ce=await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings",{headers:{Authorization:`Bearer ${t}`},params:{limit:1}}),Mt=await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/reviews",{headers:{Authorization:`Bearer ${t}`},params:{limit:1}});return{total_users:L.data.total_count||0,total_properties:ne.data.total_count||0,total_bookings:ce.data.total_count||0,total_reviews:Mt.data.total_count||0,active_conversations:0,pending_moderation:0}}catch(L){throw console.error("Failed to load dashboard metrics:",L),L}},{data:h,isLoading:y,refetch:p}=le({queryKey:["dashboard-metrics"],queryFn:d,enabled:!!t,staleTime:6e4,retry:1});C.useEffect(()=>{h&&n(h)},[h]);const g=async()=>{try{return(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/users",{headers:{Authorization:`Bearer ${t}`},params:{query:c.user_query,role:c.user_role,is_verified:c.user_verified,limit:50,offset:0}})).data}catch(L){throw console.error("Failed to search users:",L),L}},{data:v,isLoading:N,refetch:x}=le({queryKey:["users",c.user_query,c.user_role,c.user_verified],queryFn:g,enabled:!!t&&o==="users",staleTime:6e4,retry:1}),f=async()=>{try{return(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties",{headers:{Authorization:`Bearer ${t}`},params:{query:c.property_query,is_active:c.property_status==="active"?!0:c.property_status==="inactive"?!1:void 0,limit:50,offset:0}})).data.properties}catch(L){throw console.error("Failed to search properties:",L),L}},{data:m,isLoading:_,refetch:E}=le({queryKey:["properties",c.property_query,c.property_status],queryFn:f,enabled:!!t&&o==="listings",staleTime:6e4,retry:1}),w=async()=>{try{return(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings",{headers:{Authorization:`Bearer ${t}`},params:{status:c.booking_status||void 0,limit:50,offset:0}})).data.bookings}catch(L){throw console.error("Failed to search bookings:",L),L}},{data:j,isLoading:b,refetch:$}=le({queryKey:["bookings",c.booking_status],queryFn:w,enabled:!!t&&o==="bookings",staleTime:6e4,retry:1}),F=async()=>{try{return(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/reviews",{headers:{Authorization:`Bearer ${t}`},params:{query:c.review_query,limit:50,offset:0}})).data}catch(L){throw console.error("Failed to search reviews:",L),L}},{data:Y,isLoading:O,refetch:P}=le({queryKey:["reviews",c.review_query],queryFn:F,enabled:!!t&&o==="reviews",staleTime:6e4,retry:1}),S=Be({mutationFn:async L=>(await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${L}`,{is_verified:!1},{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{x(),p()}}),M=Be({mutationFn:async L=>(await q.delete(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${L}`,{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{x(),p()}}),A=Be({mutationFn:async L=>(await q.delete(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${L}`,{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{E(),p()}}),K=Be({mutationFn:async L=>(await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings/${L}`,{status:"refunded"},{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{$(),p()}}),z=Be({mutationFn:async L=>(await q.delete(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/reviews/${L}`,{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{P(),p()}}),T=L=>{a({users:L==="users",listings:L==="listings",bookings:L==="bookings",reviews:L==="reviews"}),L==="users"&&l("users"),L==="listings"&&l("listings"),L==="bookings"&&l("bookings"),L==="reviews"&&l("reviews")},I=(L,ne)=>{u(ce=>({...ce,[L]:ne}))},U=()=>{p(),o==="users"&&x(),o==="listings"&&E(),o==="bookings"&&$(),o==="reviews"&&P()};return!e||e.role!=="admin"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600",children:"You must be an administrator to access this panel."}),s.jsx(H,{to:"/",className:"mt-4 inline-block text-blue-600 hover:text-blue-800",children:"Return to Home"})]})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8 flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Panel"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"text-gray-600",children:["Welcome, ",e.name]}),s.jsx("button",{onClick:U,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Refresh"})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[o==="dashboard"&&s.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:[s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"px-4 py-5 sm:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:s.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),s.jsx("dd",{className:"flex items-baseline",children:s.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:y?s.jsx("div",{className:"animate-pulse h-6 bg-gray-200 rounded w-1/2"}):r.total_users})})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"px-4 py-5 sm:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:s.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Listings"}),s.jsx("dd",{className:"flex items-baseline",children:s.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:y?s.jsx("div",{className:"animate-pulse h-6 bg-gray-200 rounded w-1/2"}):r.total_properties})})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"px-4 py-5 sm:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-yellow-500 rounded-md p-3",children:s.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Bookings"}),s.jsx("dd",{className:"flex items-baseline",children:s.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:y?s.jsx("div",{className:"animate-pulse h-6 bg-gray-200 rounded w-1/2"}):r.total_bookings})})]})})]})})})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Activity"}),s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:s.jsxs("ul",{className:"divide-y divide-gray-200",children:[s.jsx("li",{children:s.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:"New user registered"}),s.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:s.jsx("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Completed"})})]}),s.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[s.jsx("div",{className:"sm:flex",children:s.jsx("p",{className:"flex items-center text-sm text-gray-500",children:"Ahmed Ali registered as a host"})}),s.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[s.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),s.jsx("span",{children:"Just now"})]})]})]})}),s.jsx("li",{children:s.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:"New property listed"}),s.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:s.jsx("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Completed"})})]}),s.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[s.jsx("div",{className:"sm:flex",children:s.jsx("p",{className:"flex items-center text-sm text-gray-500",children:"Luxury apartment in Tripoli was listed"})}),s.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[s.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),s.jsx("span",{children:"2 hours ago"})]})]})]})})]})})]}),s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsx("button",{onClick:()=>l("users"),className:"bg-white border border-gray-300 rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Manage Platform"})})]}),(o==="users"||o==="listings"||o==="bookings"||o==="reviews")&&s.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{onClick:()=>T("users"),className:`${i.users?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Users"}),s.jsx("button",{onClick:()=>T("listings"),className:`${i.listings?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Listings"}),s.jsx("button",{onClick:()=>T("bookings"),className:`${i.bookings?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Bookings"}),s.jsx("button",{onClick:()=>T("reviews"),className:`${i.reviews?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Reviews"})]})}),s.jsx("div",{className:"mt-6 bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o==="users"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"user_query",className:"block text-sm font-medium text-gray-700",children:"Search Users"}),s.jsx("input",{type:"text",name:"user_query",id:"user_query",value:c.user_query,onChange:L=>I("user_query",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Name, email..."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"user_role",className:"block text-sm font-medium text-gray-700",children:"Role"}),s.jsxs("select",{id:"user_role",name:"user_role",value:c.user_role,onChange:L=>I("user_role",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[s.jsx("option",{value:"",children:"All Roles"}),s.jsx("option",{value:"guest",children:"Guest"}),s.jsx("option",{value:"host",children:"Host"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"user_verified",className:"block text-sm font-medium text-gray-700",children:"Verified Status"}),s.jsxs("select",{id:"user_verified",name:"user_verified",value:c.user_verified.toString(),onChange:L=>I("user_verified",L.target.value==="true"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[s.jsx("option",{value:"false",children:"All"}),s.jsx("option",{value:"true",children:"Verified"}),s.jsx("option",{value:"false",children:"Unverified"})]})]})]}),o==="listings"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"property_query",className:"block text-sm font-medium text-gray-700",children:"Search Listings"}),s.jsx("input",{type:"text",name:"property_query",id:"property_query",value:c.property_query,onChange:L=>I("property_query",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Title, city..."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"property_status",className:"block text-sm font-medium text-gray-700",children:"Status"}),s.jsxs("select",{id:"property_status",name:"property_status",value:c.property_status,onChange:L=>I("property_status",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[s.jsx("option",{value:"",children:"All"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),o==="bookings"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"booking_status",className:"block text-sm font-medium text-gray-700",children:"Booking Status"}),s.jsxs("select",{id:"booking_status",name:"booking_status",value:c.booking_status,onChange:L=>I("booking_status",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"refunded",children:"Refunded"})]})]}),o==="reviews"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"review_query",className:"block text-sm font-medium text-gray-700",children:"Search Reviews"}),s.jsx("input",{type:"text",name:"review_query",id:"review_query",value:c.review_query,onChange:L=>I("review_query",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Comment, property..."})]})]})}),o==="users"&&s.jsx("div",{className:"mt-6 bg-white shadow rounded-lg overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-4 text-center",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})})})}):v&&v.length>0?v.map(L=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:L.profile_picture_url?s.jsx("img",{className:"h-10 w-10 rounded-full",src:L.profile_picture_url,alt:""}):s.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-10 h-10"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.name}),s.jsx("div",{className:"text-sm text-gray-500",children:L.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900 capitalize",children:L.role})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:L.is_verified?s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Verified"}):s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(L.created_at).toLocaleDateString()}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>S.mutate(L.user_id),disabled:S.isPending,className:"text-indigo-600 hover:text-indigo-900 mr-3",children:S.isPending?"Suspending...":"Suspend"}),s.jsx("button",{onClick:()=>M.mutate(L.user_id),disabled:M.isPending,className:"text-red-600 hover:text-red-900",children:M.isPending?"Deleting...":"Delete"})]})]},L.user_id)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No users found"})})})]})})}),o==="listings"&&s.jsx("div",{className:"mt-6 bg-white shadow rounded-lg overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Listing"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Host"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-4 text-center",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})})})}):m&&m.length>0?m.map(L=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.title}),s.jsx("div",{className:"text-sm text-gray-500",children:L.property_type})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:["Host #",L.host_id.substring(0,8)]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[L.city,L.neighborhood?`, ${L.neighborhood}`:""]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[L.base_price_per_night," LYD"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:L.is_active?s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Active"}):s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>A.mutate(L.property_id),disabled:A.isPending,className:"text-red-600 hover:text-red-900",children:A.isPending?"Deleting...":"Delete"})})]},L.property_id)):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No listings found"})})})]})})}),o==="bookings"&&s.jsx("div",{className:"mt-6 bg-white shadow rounded-lg overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guest"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-4 text-center",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})})})}):j&&j.length>0?j.map(L=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",L.booking_id.substring(0,8)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:["Property #",L.property_id.substring(0,8)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:["Guest #",L.guest_id.substring(0,8)]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(L.check_in).toLocaleDateString()," - ",new Date(L.check_out).toLocaleDateString()]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[L.total_price," LYD"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${L.status==="confirmed"?"bg-green-100 text-green-800":L.status==="pending"?"bg-yellow-100 text-yellow-800":L.status==="cancelled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:L.status.charAt(0).toUpperCase()+L.status.slice(1)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:L.status!=="refunded"&&s.jsx("button",{onClick:()=>K.mutate(L.booking_id),disabled:K.isPending,className:"text-indigo-600 hover:text-indigo-900",children:K.isPending?"Processing...":"Refund"})})]},L.booking_id)):s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No bookings found"})})})]})})}),o==="reviews"&&s.jsx("div",{className:"mt-6 bg-white shadow rounded-lg overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Review"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guest"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-4 text-center",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})})})}):Y&&Y.length>0?Y.map(L=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900 line-clamp-2",children:L.comment||"No comment"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:["Property #",L.property_id.substring(0,8)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:["Guest #",L.reviewer_id.substring(0,8)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((ne,ce)=>s.jsx("svg",{className:`h-5 w-5 ${ce<L.overall_rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},ce)),s.jsxs("span",{className:"ml-1 text-sm text-gray-500",children:["(",L.overall_rating,")"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(L.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>z.mutate(L.review_id),disabled:z.isPending,className:"text-red-600 hover:text-red-900",children:z.isPending?"Removing...":"Remove"})})]},L.review_id)):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No reviews found"})})})]})})})]})]})]})})},_j=()=>{const e=G(P=>P.authentication_state.current_user),t=G(P=>P.authentication_state.auth_token),[r,n]=C.useState("personal"),[i,a]=C.useState({name:"",email:"",phone_number:"",bio:"",profile_picture_url:"",emergency_contact_name:"",emergency_contact_phone:""}),[o,l]=C.useState({current_password:"",new_password:"",confirm_password:""}),[c,u]=C.useState({email_notifications:!0,sms_notifications:!0,push_notifications:!0}),[d,h]=C.useState(null),[y,p]=C.useState(null),[g,v]=C.useState(null),N=C.useRef(null),x=Jr(),{data:f,isLoading:m,isError:_}=le({queryKey:["user",e==null?void 0:e.user_id],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${e==null?void 0:e.user_id}`,{headers:{Authorization:`Bearer ${t}`}})).data,enabled:!!(e!=null&&e.user_id)&&!!t});C.useEffect(()=>{f&&a({name:f.name||"",email:f.email||"",phone_number:f.phone_number||"",bio:f.bio||"",profile_picture_url:f.profile_picture_url||"",emergency_contact_name:f.emergency_contact_name||"",emergency_contact_phone:f.emergency_contact_phone||""})},[f]),C.useEffect(()=>()=>{N.current&&clearTimeout(N.current)},[]);const E=Be({mutationFn:async P=>(await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${e==null?void 0:e.user_id}`,P,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data,onSuccess:P=>{x.setQueryData(["user",e==null?void 0:e.user_id],P),v("Profile updated successfully"),p(null),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>v(null),3e3)},onError:P=>{var S,M;p(((M=(S=P.response)==null?void 0:S.data)==null?void 0:M.message)||"Failed to update profile"),v(null)}}),w=P=>{const{name:S,value:M}=P.target;a(A=>({...A,[S]:M})),p(null)},j=P=>{const{name:S,checked:M}=P.target;u(A=>({...A,[S]:M}))},b=P=>{const{name:S,value:M}=P.target;l(A=>({...A,[S]:M})),p(null)},$=P=>{P.preventDefault(),E.mutate(i)},F=P=>{if(P.preventDefault(),o.new_password!==o.confirm_password){p("New passwords do not match");return}p("Password change functionality not implemented yet")},Y=P=>{P.target.files&&P.target.files[0]&&(h(P.target.files[0]),v("Document selected for upload"),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>v(null),3e3))},O=()=>{switch(r){case"personal":return s.jsxs("form",{onSubmit:$,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsx("input",{type:"text",id:"name",name:"name",value:i.name,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),s.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"phone_number",name:"phone_number",value:i.phone_number,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"profile_picture_url",className:"block text-sm font-medium text-gray-700",children:"Profile Picture URL"}),s.jsx("input",{type:"text",id:"profile_picture_url",name:"profile_picture_url",value:i.profile_picture_url,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),s.jsx("textarea",{id:"bio",name:"bio",rows:3,value:i.bio,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"emergency_contact_name",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Name"}),s.jsx("input",{type:"text",id:"emergency_contact_name",name:"emergency_contact_name",value:i.emergency_contact_name,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"emergency_contact_phone",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Phone"}),s.jsx("input",{type:"tel",id:"emergency_contact_phone",name:"emergency_contact_phone",value:i.emergency_contact_phone,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"submit",disabled:E.isPending,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:E.isPending?"Saving...":"Save Changes"})})]});case"verification":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Identity Verification"}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex-shrink-0 h-6 w-6 rounded-full flex items-center justify-center ${e!=null&&e.is_verified?"bg-green-100":"bg-gray-100"}`,children:e!=null&&e.is_verified?s.jsx("svg",{className:"h-4 w-4 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):s.jsx("svg",{className:"h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("p",{className:"ml-3 text-sm font-medium text-gray-900",children:e!=null&&e.is_verified?"Verified":"Not verified"})]}),!(e!=null&&e.is_verified)&&s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Upload a government-issued ID to verify your identity"})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Upload Verification Document"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"document-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[s.jsx("span",{children:"Upload a file"}),s.jsx("input",{id:"document-upload",name:"document-upload",type:"file",className:"sr-only",onChange:Y})]}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF up to 5MB"})]})})]}),d&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Selected file: ",d.name]}),s.jsx("button",{type:"button",className:"mt-2 inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Upload Document"})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Phone Verification"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",i.phone_number||"Not provided"]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Status: ",f!=null&&f.phone_number?"Verified":"Not verified"]})]}),s.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Verify Phone"})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Email Verification"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",i.email]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Status: Verified"})]}),s.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Resend Verification"})]})]})]});case"notifications":return s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Preferences"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email Notifications"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Receive updates via email"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"email_notifications",checked:c.email_notifications,onChange:j,className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"SMS Notifications"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Receive text messages for important updates"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"sms_notifications",checked:c.sms_notifications,onChange:j,className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Push Notifications"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Receive mobile notifications when app is open"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"push_notifications",checked:c.push_notifications,onChange:j,className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Communication Frequency"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Daily Digest"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Summary of activity once per day"}),s.jsx("button",{className:"mt-3 w-full py-1 px-3 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Select"})]}),s.jsxs("div",{className:"border border-blue-500 rounded-lg p-4 bg-blue-50",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Real-time"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Immediate notifications for all events"}),s.jsx("button",{className:"mt-3 w-full py-1 px-3 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Selected"})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Weekly Summary"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Summary of activity once per week"}),s.jsx("button",{className:"mt-3 w-full py-1 px-3 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Select"})]})]})]})]});case"security":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Change Password"}),s.jsxs("form",{onSubmit:F,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"current_password",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),s.jsx("input",{type:"password",id:"current_password",name:"current_password",value:o.current_password,onChange:b,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),s.jsx("input",{type:"password",id:"new_password",name:"new_password",value:o.new_password,onChange:b,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),s.jsx("input",{type:"password",id:"confirm_password",name:"confirm_password",value:o.confirm_password,onChange:b,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Update Password"})})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Two-Factor Authentication"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),s.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Enable"})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Preferred 2FA Method"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"sms-auth",name:"2fa-method",type:"radio",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),s.jsx("label",{htmlFor:"sms-auth",className:"ml-3 block text-sm font-medium text-gray-700",children:"SMS Authentication"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"app-auth",name:"2fa-method",type:"radio",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),s.jsx("label",{htmlFor:"app-auth",className:"ml-3 block text-sm font-medium text-gray-700",children:"Authenticator App"})]})]})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Login Activity"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Current Session"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Libya (current)"})]}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})]}),s.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Chrome on Windows"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Tripoli, Libya  2 days ago"})]}),s.jsx("button",{className:"text-sm text-red-600 hover:text-red-900",children:"Logout"})]}),s.jsxs("div",{className:"flex items-center justify-between py-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Safari on iPhone"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Benghazi, Libya  1 week ago"})]}),s.jsx("button",{className:"text-sm text-red-600 hover:text-red-900",children:"Logout"})]})]})]})]});case"billing":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Payment Methods"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No payment methods"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a payment method."}),s.jsx("div",{className:"mt-6",children:s.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Payment Method"]})})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Transaction History"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No transactions"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You have no transaction history yet."})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tax Information"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No tax information"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add tax information for your earnings."}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add Tax Information"})})]})]})]});default:return null}};return m?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):_?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Error loading profile"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"There was an issue loading your profile information."}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Retry"})})]})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"lg:flex lg:items-center lg:justify-between",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Account Settings"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account information and preferences"})]})}),s.jsxs("div",{className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[s.jsx("button",{onClick:()=>n("personal"),className:`${r==="personal"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Personal Information"}),s.jsx("button",{onClick:()=>n("verification"),className:`${r==="verification"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Verification"}),s.jsx("button",{onClick:()=>n("notifications"),className:`${r==="notifications"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Notifications"}),s.jsx("button",{onClick:()=>n("security"),className:`${r==="security"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Security"}),(e==null?void 0:e.role)==="host"&&s.jsx("button",{onClick:()=>n("billing"),className:`${r==="billing"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Billing"})]})}),s.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[y&&s.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:s.jsx("p",{className:"text-sm",children:y})}),g&&s.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md",children:s.jsx("p",{className:"text-sm",children:g})}),O()]})]})]})})})},kj=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState(!1),[i,a]=C.useState({password_hash:"",confirm_password:""}),[o,l]=C.useState({}),[c,u]=C.useState(!1),[d,h]=C.useState(""),[y,p]=C.useState(!1),[g]=Nn(),v=g.get("token");C.useEffect(()=>{(async()=>{var j,b;if(v){u(!0);try{await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/validate-reset-token",{params:{token:v}}),n(!0)}catch($){l({general:((b=(j=$.response)==null?void 0:j.data)==null?void 0:b.message)||"Invalid or expired reset link"}),n(!1)}finally{u(!1)}}})()},[v]);const N=async w=>{var j,b;w.preventDefault(),u(!0),l({});try{await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/request-password-reset",{email:d}),t(!0)}catch($){l({email:((b=(j=$.response)==null?void 0:j.data)==null?void 0:b.message)||"Failed to send reset email"})}finally{u(!1)}},x=async w=>{var b,$;w.preventDefault();const j={};if(i.password_hash?i.password_hash.length<8&&(j.password_hash="Password must be at least 8 characters"):j.password_hash="Password is required",i.password_hash!==i.confirm_password&&(j.confirm_password="Passwords do not match"),Object.keys(j).length>0){l(j);return}u(!0),l({});try{await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/reset-password",{token:v,password_hash:i.password_hash}),p(!0),a({password_hash:"",confirm_password:""})}catch(F){l({general:(($=(b=F.response)==null?void 0:b.data)==null?void 0:$.message)||"Failed to reset password"})}finally{u(!1)}},m=(w=>{if(!w)return 0;let j=0;return w.length>=8&&(j+=1),/[A-Z]/.test(w)&&(j+=1),/[0-9]/.test(w)&&(j+=1),/[^A-Za-z0-9]/.test(w)&&(j+=1),j})(i.password_hash),_=["Very Weak","Weak","Fair","Good","Strong"],E=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"];return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:y?"Password Reset Successful":r?"Set New Password":e?"Check Your Email":"Reset Your Password"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:y?"Your password has been successfully reset. You can now sign in with your new password.":r?"Please enter your new password below":e?"We have sent a password reset link to your email address if it exists in our system":"Enter your email address and we will send you a link to reset your password"})]}),y?s.jsx("div",{className:"mt-8 bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:s.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("div",{className:"mt-4",children:s.jsx(H,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Return to login page"})})]})}):r?s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[o.general&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:o.general}),s.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),s.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:i.password_hash,onChange:w=>{a({...i,password_hash:w.target.value}),o.password_hash&&l({...o,password_hash:void 0})},className:`appearance-none relative block w-full px-3 py-2 border ${o.password_hash?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),o.password_hash&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password_hash}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Password Strength"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:_[m]||"Very Weak"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${E[m]||"bg-red-500"}`,style:{width:`${m/4*100}%`}})})]}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Password must be at least 8 characters and include a mix of letters, numbers, and symbols."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),s.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,value:i.confirm_password,onChange:w=>{a({...i,confirm_password:w.target.value}),o.confirm_password&&l({...o,confirm_password:void 0})},className:`appearance-none relative block w-full px-3 py-2 border ${o.confirm_password?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),o.confirm_password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.confirm_password})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting Password..."]}):"Reset Password"})})]}):e?s.jsx("div",{className:"mt-8 bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:s.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),s.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"If an account exists with the email address you provided, you will receive a password reset link shortly."}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>t(!1),className:"font-medium text-blue-600 hover:text-blue-500",children:"Resend email"})})]})}):s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:N,children:[o.general&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:o.general}),s.jsx("div",{className:"rounded-md shadow-sm",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),s.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:d,onChange:w=>{h(w.target.value),o.email&&l({...o,email:void 0})},className:`appearance-none relative block w-full px-3 py-2 border ${o.email?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`,placeholder:"Email address"}),o.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email})]})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Reset Link..."]}):"Send Reset Link"})}),s.jsx("div",{className:"text-center",children:s.jsx(H,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Return to login"})})]})]})})})},Sj=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:s.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100",children:s.jsx("svg",{className:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.5-.9-6.1-2.4M15 11.5a3 3 0 11-6 0 3 3 0 016 0z"})})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Page Not Found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Sorry, we couldn't find the page you're looking for."}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsx(H,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go Home"}),s.jsx("div",{children:s.jsx(H,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Search Properties"})})]})]})})})}),Cj=new Hv({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),Ip=()=>s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),At=({children:e})=>{const t=G(n=>n.authentication_state.authentication_status.is_authenticated);return G(n=>n.authentication_state.authentication_status.is_loading)?s.jsx(Ip,{}):t?s.jsx(s.Fragment,{children:e}):s.jsx(uv,{to:"/login",replace:!0})},Ej=()=>{const e=G(r=>r.authentication_state.authentication_status.is_loading),t=G(r=>r.initialize_auth);return C.useEffect(()=>{t()},[t]),e?s.jsx(Ip,{}):s.jsx(bv,{children:s.jsx(Qv,{client:Cj,children:s.jsx(Mw,{children:s.jsxs("div",{className:"App min-h-screen flex flex-col",children:[s.jsx(Ow,{}),s.jsx("main",{className:"flex-1",children:s.jsxs(hv,{children:[s.jsx(Ee,{path:"/",element:s.jsx(Aw,{})}),s.jsx(Ee,{path:"/search",element:s.jsx(Dw,{})}),s.jsx(Ee,{path:"/properties/:property_id",element:s.jsx(uj,{})}),s.jsx(Ee,{path:"/register",element:s.jsx(dj,{})}),s.jsx(Ee,{path:"/login",element:s.jsx(hj,{})}),s.jsx(Ee,{path:"/reset-password",element:s.jsx(kj,{})}),s.jsx(Ee,{path:"/dashboard",element:s.jsx(At,{children:s.jsx(mj,{})})}),s.jsx(Ee,{path:"/dashboard/bookings",element:s.jsx(At,{children:s.jsx(fj,{})})}),s.jsx(Ee,{path:"/dashboard/listings",element:s.jsx(At,{children:s.jsx(pj,{})})}),s.jsx(Ee,{path:"/listings/create",element:s.jsx(At,{children:s.jsx(yj,{})})}),s.jsx(Ee,{path:"/listings/:listing_id/edit",element:s.jsx(At,{children:s.jsx(vj,{})})}),s.jsx(Ee,{path:"/dashboard/host-bookings",element:s.jsx(At,{children:s.jsx(bj,{})})}),s.jsx(Ee,{path:"/messages",element:s.jsx(At,{children:s.jsx(wj,{})})}),s.jsx(Ee,{path:"/reviews/create/:booking_id",element:s.jsx(At,{children:s.jsx(jj,{})})}),s.jsx(Ee,{path:"/settings",element:s.jsx(At,{children:s.jsx(_j,{})})}),s.jsx(Ee,{path:"/admin",element:s.jsx(At,{children:s.jsx(Nj,{})})}),s.jsx(Ee,{path:"*",element:s.jsx(Sj,{})})]})}),s.jsx(Fw,{})]})})})})},Pj=()=>s.jsx(s.Fragment,{children:s.jsx(Ej,{})});k0(document.getElementById("root")).render(s.jsx(Pj,{}));

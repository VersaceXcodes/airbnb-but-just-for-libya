var ed=e=>{throw TypeError(e)};var Mo=(e,t,r)=>t.has(e)||ed("Cannot "+r);var N=(e,t,r)=>(Mo(e,t,"read from private field"),r?r.call(e):t.get(e)),Y=(e,t,r)=>t.has(e)?ed("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),V=(e,t,r,n)=>(Mo(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),X=(e,t,r)=>(Mo(e,t,"access private method"),r);var Bi=(e,t,r,n)=>({set _(i){V(e,t,i,r)},get _(){return N(e,t,n)}});function W0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function U0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var um={exports:{}},io={},dm={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pi=Symbol.for("react.element"),H0=Symbol.for("react.portal"),Q0=Symbol.for("react.fragment"),Y0=Symbol.for("react.strict_mode"),K0=Symbol.for("react.profiler"),G0=Symbol.for("react.provider"),J0=Symbol.for("react.context"),X0=Symbol.for("react.forward_ref"),Z0=Symbol.for("react.suspense"),ex=Symbol.for("react.memo"),tx=Symbol.for("react.lazy"),td=Symbol.iterator;function rx(e){return e===null||typeof e!="object"?null:(e=td&&e[td]||e["@@iterator"],typeof e=="function"?e:null)}var hm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mm=Object.assign,fm={};function gs(e,t,r){this.props=e,this.context=t,this.refs=fm,this.updater=r||hm}gs.prototype.isReactComponent={};gs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pm(){}pm.prototype=gs.prototype;function zc(e,t,r){this.props=e,this.context=t,this.refs=fm,this.updater=r||hm}var qc=zc.prototype=new pm;qc.constructor=zc;mm(qc,gs.prototype);qc.isPureReactComponent=!0;var rd=Array.isArray,xm=Object.prototype.hasOwnProperty,Vc={current:null},gm={key:!0,ref:!0,__self:!0,__source:!0};function ym(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)xm.call(t,n)&&!gm.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Pi,type:e,key:a,ref:o,props:i,_owner:Vc.current}}function nx(e,t){return{$$typeof:Pi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pi}function sx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var nd=/\/+/g;function Ao(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sx(""+e.key):t.toString(36)}function aa(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pi:case H0:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Ao(o,0):n,rd(i)?(r="",e!=null&&(r=e.replace(nd,"$&/")+"/"),aa(i,t,r,"",function(u){return u})):i!=null&&(Wc(i)&&(i=nx(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(nd,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",rd(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Ao(a,l);o+=aa(a,t,r,c,i)}else if(c=rx(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Ao(a,l++),o+=aa(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function $i(e,t,r){if(e==null)return e;var n=[],i=0;return aa(e,n,"","",function(a){return t.call(r,a,i++)}),n}function ix(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},oa={transition:null},ax={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:oa,ReactCurrentOwner:Vc};function vm(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:$i,forEach:function(e,t,r){$i(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $i(e,function(){t++}),t},toArray:function(e){return $i(e,function(t){return t})||[]},only:function(e){if(!Wc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=gs;Z.Fragment=Q0;Z.Profiler=K0;Z.PureComponent=zc;Z.StrictMode=Y0;Z.Suspense=Z0;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ax;Z.act=vm;Z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=mm({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Vc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)xm.call(t,c)&&!gm.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Pi,type:e.type,key:i,ref:a,props:n,_owner:o}};Z.createContext=function(e){return e={$$typeof:J0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:G0,_context:e},e.Consumer=e};Z.createElement=ym;Z.createFactory=function(e){var t=ym.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:X0,render:e}};Z.isValidElement=Wc;Z.lazy=function(e){return{$$typeof:tx,_payload:{_status:-1,_result:e},_init:ix}};Z.memo=function(e,t){return{$$typeof:ex,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=oa.transition;oa.transition={};try{e()}finally{oa.transition=t}};Z.unstable_act=vm;Z.useCallback=function(e,t){return He.current.useCallback(e,t)};Z.useContext=function(e){return He.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return He.current.useDeferredValue(e)};Z.useEffect=function(e,t){return He.current.useEffect(e,t)};Z.useId=function(){return He.current.useId()};Z.useImperativeHandle=function(e,t,r){return He.current.useImperativeHandle(e,t,r)};Z.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return He.current.useMemo(e,t)};Z.useReducer=function(e,t,r){return He.current.useReducer(e,t,r)};Z.useRef=function(e){return He.current.useRef(e)};Z.useState=function(e){return He.current.useState(e)};Z.useSyncExternalStore=function(e,t,r){return He.current.useSyncExternalStore(e,t,r)};Z.useTransition=function(){return He.current.useTransition()};Z.version="18.3.1";dm.exports=Z;var S=dm.exports;const en=U0(S),ox=W0({__proto__:null,default:en},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx=S,cx=Symbol.for("react.element"),ux=Symbol.for("react.fragment"),dx=Object.prototype.hasOwnProperty,hx=lx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mx={key:!0,ref:!0,__self:!0,__source:!0};function bm(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)dx.call(t,n)&&!mx.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:cx,type:e,key:a,ref:o,props:i,_owner:hx.current}}io.Fragment=ux;io.jsx=bm;io.jsxs=bm;um.exports=io;var s=um.exports,wm={exports:{}},ut={},jm={exports:{}},Nm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,T){var I=z.length;z.push(T);e:for(;0<I;){var H=I-1>>>1,R=z[H];if(0<i(R,T))z[H]=T,z[I]=R,I=H;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var T=z[0],I=z.pop();if(I!==T){z[0]=I;e:for(var H=0,R=z.length,le=R>>>1;H<le;){var ve=2*(H+1)-1,Gr=z[ve],cr=ve+1,he=z[cr];if(0>i(Gr,I))cr<R&&0>i(he,Gr)?(z[H]=he,z[cr]=I,H=cr):(z[H]=Gr,z[ve]=I,H=ve);else if(cr<R&&0>i(he,I))z[H]=he,z[cr]=I,H=cr;else break e}}return T}function i(z,T){var I=z.sortIndex-T.sortIndex;return I!==0?I:z.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,x=3,g=!1,b=!1,v=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(z){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=z)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function _(z){if(v=!1,f(z),!b)if(r(c)!==null)b=!0,A(E);else{var T=r(u);T!==null&&Q(_,T.startTime-z)}}function E(z,T){b=!1,v&&(v=!1,p(y),y=-1),g=!0;var I=x;try{for(f(T),h=r(c);h!==null&&(!(h.expirationTime>T)||z&&!K());){var H=h.callback;if(typeof H=="function"){h.callback=null,x=h.priorityLevel;var R=H(h.expirationTime<=T);T=e.unstable_now(),typeof R=="function"?h.callback=R:h===r(c)&&n(c),f(T)}else n(c);h=r(c)}if(h!==null)var le=!0;else{var ve=r(u);ve!==null&&Q(_,ve.startTime-T),le=!1}return le}finally{h=null,x=I,g=!1}}var w=!1,j=null,y=-1,M=5,D=-1;function K(){return!(e.unstable_now()-D<M)}function F(){if(j!==null){var z=e.unstable_now();D=z;var T=!0;try{T=j(!0,z)}finally{T?L():(w=!1,j=null)}}else w=!1}var L;if(typeof m=="function")L=function(){m(F)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,P=C.port2;C.port1.onmessage=F,L=function(){P.postMessage(null)}}else L=function(){k(F,0)};function A(z){j=z,w||(w=!0,L())}function Q(z,T){y=k(function(){z(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,A(E))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(z){switch(x){case 1:case 2:case 3:var T=3;break;default:T=x}var I=x;x=T;try{return z()}finally{x=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,T){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var I=x;x=z;try{return T()}finally{x=I}},e.unstable_scheduleCallback=function(z,T,I){var H=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?H+I:H):I=H,z){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=I+R,z={id:d++,callback:T,priorityLevel:z,startTime:I,expirationTime:R,sortIndex:-1},I>H?(z.sortIndex=I,t(u,z),r(c)===null&&z===r(u)&&(v?(p(y),y=-1):v=!0,Q(_,I-H))):(z.sortIndex=R,t(c,z),b||g||(b=!0,A(E))),z},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(z){var T=x;return function(){var I=x;x=T;try{return z.apply(this,arguments)}finally{x=I}}}})(Nm);jm.exports=Nm;var fx=jm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px=S,ct=fx;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _m=new Set,ni={};function Cn(e,t){us(e,t),us(e+"Capture",t)}function us(e,t){for(ni[e]=t,e=0;e<t.length;e++)_m.add(t[e])}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gl=Object.prototype.hasOwnProperty,xx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sd={},id={};function gx(e){return gl.call(id,e)?!0:gl.call(sd,e)?!1:xx.test(e)?id[e]=!0:(sd[e]=!0,!1)}function yx(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vx(e,t,r,n){if(t===null||typeof t>"u"||yx(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uc=/[\-:]([a-z])/g;function Hc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uc,Hc);Fe[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uc,Hc);Fe[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uc,Hc);Fe[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qc(e,t,r,n){var i=Fe.hasOwnProperty(t)?Fe[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vx(t,r,i,n)&&(r=null),n||i===null?gx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ar=px.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ii=Symbol.for("react.element"),On=Symbol.for("react.portal"),Fn=Symbol.for("react.fragment"),Yc=Symbol.for("react.strict_mode"),yl=Symbol.for("react.profiler"),km=Symbol.for("react.provider"),Sm=Symbol.for("react.context"),Kc=Symbol.for("react.forward_ref"),vl=Symbol.for("react.suspense"),bl=Symbol.for("react.suspense_list"),Gc=Symbol.for("react.memo"),fr=Symbol.for("react.lazy"),Cm=Symbol.for("react.offscreen"),ad=Symbol.iterator;function Ps(e){return e===null||typeof e!="object"?null:(e=ad&&e[ad]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,Do;function qs(e){if(Do===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Do=t&&t[1]||""}return`
`+Do+e}var Bo=!1;function $o(e,t){if(!e||Bo)return"";Bo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Bo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?qs(e):""}function bx(e){switch(e.tag){case 5:return qs(e.type);case 16:return qs("Lazy");case 13:return qs("Suspense");case 19:return qs("SuspenseList");case 0:case 2:case 15:return e=$o(e.type,!1),e;case 11:return e=$o(e.type.render,!1),e;case 1:return e=$o(e.type,!0),e;default:return""}}function wl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fn:return"Fragment";case On:return"Portal";case yl:return"Profiler";case Yc:return"StrictMode";case vl:return"Suspense";case bl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sm:return(e.displayName||"Context")+".Consumer";case km:return(e._context.displayName||"Context")+".Provider";case Kc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gc:return t=e.displayName||null,t!==null?t:wl(e.type)||"Memo";case fr:t=e._payload,e=e._init;try{return wl(e(t))}catch{}}return null}function wx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wl(t);case 8:return t===Yc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Em(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jx(e){var t=Em(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zi(e){e._valueTracker||(e._valueTracker=jx(e))}function Pm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Em(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ca(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jl(e,t){var r=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function od(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Vr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lm(e,t){t=t.checked,t!=null&&Qc(e,"checked",t,!1)}function Nl(e,t){Lm(e,t);var r=Vr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_l(e,t.type,r):t.hasOwnProperty("defaultValue")&&_l(e,t.type,Vr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ld(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function _l(e,t,r){(t!=="number"||Ca(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vs=Array.isArray;function Un(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Vr(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function kl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cd(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($(92));if(Vs(r)){if(1<r.length)throw Error($(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Vr(r)}}function Rm(e,t){var r=Vr(t.value),n=Vr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ud(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Tm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Tm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qi,Om=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qi=qi||document.createElement("div"),qi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function si(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nx=["Webkit","ms","Moz","O"];Object.keys(Ys).forEach(function(e){Nx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ys[t]=Ys[e]})});function Fm(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ys.hasOwnProperty(e)&&Ys[e]?(""+t).trim():t+"px"}function Mm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Fm(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var _x=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cl(e,t){if(t){if(_x[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function El(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pl=null;function Jc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ll=null,Hn=null,Qn=null;function dd(e){if(e=Ti(e)){if(typeof Ll!="function")throw Error($(280));var t=e.stateNode;t&&(t=uo(t),Ll(e.stateNode,e.type,t))}}function Am(e){Hn?Qn?Qn.push(e):Qn=[e]:Hn=e}function Dm(){if(Hn){var e=Hn,t=Qn;if(Qn=Hn=null,dd(e),t)for(e=0;e<t.length;e++)dd(t[e])}}function Bm(e,t){return e(t)}function $m(){}var Io=!1;function Im(e,t,r){if(Io)return e(t,r);Io=!0;try{return Bm(e,t,r)}finally{Io=!1,(Hn!==null||Qn!==null)&&($m(),Dm())}}function ii(e,t){var r=e.stateNode;if(r===null)return null;var n=uo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($(231,t,typeof r));return r}var Rl=!1;if(tr)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Rl=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Rl=!1}function kx(e,t,r,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ks=!1,Ea=null,Pa=!1,Tl=null,Sx={onError:function(e){Ks=!0,Ea=e}};function Cx(e,t,r,n,i,a,o,l,c){Ks=!1,Ea=null,kx.apply(Sx,arguments)}function Ex(e,t,r,n,i,a,o,l,c){if(Cx.apply(this,arguments),Ks){if(Ks){var u=Ea;Ks=!1,Ea=null}else throw Error($(198));Pa||(Pa=!0,Tl=u)}}function En(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function zm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hd(e){if(En(e)!==e)throw Error($(188))}function Px(e){var t=e.alternate;if(!t){if(t=En(e),t===null)throw Error($(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return hd(i),e;if(a===n)return hd(i),t;a=a.sibling}throw Error($(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error($(189))}}if(r.alternate!==n)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?e:t}function qm(e){return e=Px(e),e!==null?Vm(e):null}function Vm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vm(e);if(t!==null)return t;e=e.sibling}return null}var Wm=ct.unstable_scheduleCallback,md=ct.unstable_cancelCallback,Lx=ct.unstable_shouldYield,Rx=ct.unstable_requestPaint,be=ct.unstable_now,Tx=ct.unstable_getCurrentPriorityLevel,Xc=ct.unstable_ImmediatePriority,Um=ct.unstable_UserBlockingPriority,La=ct.unstable_NormalPriority,Ox=ct.unstable_LowPriority,Hm=ct.unstable_IdlePriority,ao=null,zt=null;function Fx(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(ao,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Dx,Mx=Math.log,Ax=Math.LN2;function Dx(e){return e>>>=0,e===0?32:31-(Mx(e)/Ax|0)|0}var Vi=64,Wi=4194304;function Ws(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ra(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Ws(l):(a&=o,a!==0&&(n=Ws(a)))}else o=r&~i,o!==0?n=Ws(o):a!==0&&(n=Ws(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pt(t),i=1<<r,n|=e[r],t&=~i;return n}function Bx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $x(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Pt(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=Bx(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Ol(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qm(){var e=Vi;return Vi<<=1,!(Vi&4194240)&&(Vi=64),e}function zo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Li(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=r}function Ix(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Pt(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Zc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ae=0;function Ym(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Km,eu,Gm,Jm,Xm,Fl=!1,Ui=[],Tr=null,Or=null,Fr=null,ai=new Map,oi=new Map,gr=[],zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fd(e,t){switch(e){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":ai.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(t.pointerId)}}function Rs(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Ti(t),t!==null&&eu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function qx(e,t,r,n,i){switch(t){case"focusin":return Tr=Rs(Tr,e,t,r,n,i),!0;case"dragenter":return Or=Rs(Or,e,t,r,n,i),!0;case"mouseover":return Fr=Rs(Fr,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return ai.set(a,Rs(ai.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,oi.set(a,Rs(oi.get(a)||null,e,t,r,n,i)),!0}return!1}function Zm(e){var t=tn(e.target);if(t!==null){var r=En(t);if(r!==null){if(t=r.tag,t===13){if(t=zm(r),t!==null){e.blockedOn=t,Xm(e.priority,function(){Gm(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function la(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ml(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Pl=n,r.target.dispatchEvent(n),Pl=null}else return t=Ti(r),t!==null&&eu(t),e.blockedOn=r,!1;t.shift()}return!0}function pd(e,t,r){la(e)&&r.delete(t)}function Vx(){Fl=!1,Tr!==null&&la(Tr)&&(Tr=null),Or!==null&&la(Or)&&(Or=null),Fr!==null&&la(Fr)&&(Fr=null),ai.forEach(pd),oi.forEach(pd)}function Ts(e,t){e.blockedOn===t&&(e.blockedOn=null,Fl||(Fl=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Vx)))}function li(e){function t(i){return Ts(i,e)}if(0<Ui.length){Ts(Ui[0],e);for(var r=1;r<Ui.length;r++){var n=Ui[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Tr!==null&&Ts(Tr,e),Or!==null&&Ts(Or,e),Fr!==null&&Ts(Fr,e),ai.forEach(t),oi.forEach(t),r=0;r<gr.length;r++)n=gr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<gr.length&&(r=gr[0],r.blockedOn===null);)Zm(r),r.blockedOn===null&&gr.shift()}var Yn=ar.ReactCurrentBatchConfig,Ta=!0;function Wx(e,t,r,n){var i=ae,a=Yn.transition;Yn.transition=null;try{ae=1,tu(e,t,r,n)}finally{ae=i,Yn.transition=a}}function Ux(e,t,r,n){var i=ae,a=Yn.transition;Yn.transition=null;try{ae=4,tu(e,t,r,n)}finally{ae=i,Yn.transition=a}}function tu(e,t,r,n){if(Ta){var i=Ml(e,t,r,n);if(i===null)Jo(e,t,n,Oa,r),fd(e,n);else if(qx(i,e,t,r,n))n.stopPropagation();else if(fd(e,n),t&4&&-1<zx.indexOf(e)){for(;i!==null;){var a=Ti(i);if(a!==null&&Km(a),a=Ml(e,t,r,n),a===null&&Jo(e,t,n,Oa,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Jo(e,t,n,null,r)}}var Oa=null;function Ml(e,t,r,n){if(Oa=null,e=Jc(n),e=tn(e),e!==null)if(t=En(e),t===null)e=null;else if(r=t.tag,r===13){if(e=zm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oa=e,null}function ef(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tx()){case Xc:return 1;case Um:return 4;case La:case Ox:return 16;case Hm:return 536870912;default:return 16}default:return 16}}var Pr=null,ru=null,ca=null;function tf(){if(ca)return ca;var e,t=ru,r=t.length,n,i="value"in Pr?Pr.value:Pr.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return ca=i.slice(e,1<n?1-n:void 0)}function ua(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function xd(){return!1}function dt(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Hi:xd,this.isPropagationStopped=xd,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),t}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=dt(ys),Ri=xe({},ys,{view:0,detail:0}),Hx=dt(Ri),qo,Vo,Os,oo=xe({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:su,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Os&&(Os&&e.type==="mousemove"?(qo=e.screenX-Os.screenX,Vo=e.screenY-Os.screenY):Vo=qo=0,Os=e),qo)},movementY:function(e){return"movementY"in e?e.movementY:Vo}}),gd=dt(oo),Qx=xe({},oo,{dataTransfer:0}),Yx=dt(Qx),Kx=xe({},Ri,{relatedTarget:0}),Wo=dt(Kx),Gx=xe({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Jx=dt(Gx),Xx=xe({},ys,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zx=dt(Xx),eg=xe({},ys,{data:0}),yd=dt(eg),tg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ng[e])?!!t[e]:!1}function su(){return sg}var ig=xe({},Ri,{key:function(e){if(e.key){var t=tg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:su,charCode:function(e){return e.type==="keypress"?ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ag=dt(ig),og=xe({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vd=dt(og),lg=xe({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:su}),cg=dt(lg),ug=xe({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),dg=dt(ug),hg=xe({},oo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mg=dt(hg),fg=[9,13,27,32],iu=tr&&"CompositionEvent"in window,Gs=null;tr&&"documentMode"in document&&(Gs=document.documentMode);var pg=tr&&"TextEvent"in window&&!Gs,rf=tr&&(!iu||Gs&&8<Gs&&11>=Gs),bd=" ",wd=!1;function nf(e,t){switch(e){case"keyup":return fg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mn=!1;function xg(e,t){switch(e){case"compositionend":return sf(t);case"keypress":return t.which!==32?null:(wd=!0,bd);case"textInput":return e=t.data,e===bd&&wd?null:e;default:return null}}function gg(e,t){if(Mn)return e==="compositionend"||!iu&&nf(e,t)?(e=tf(),ca=ru=Pr=null,Mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rf&&t.locale!=="ko"?null:t.data;default:return null}}var yg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yg[e.type]:t==="textarea"}function af(e,t,r,n){Am(n),t=Fa(t,"onChange"),0<t.length&&(r=new nu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Js=null,ci=null;function vg(e){gf(e,0)}function lo(e){var t=Bn(e);if(Pm(t))return e}function bg(e,t){if(e==="change")return t}var of=!1;if(tr){var Uo;if(tr){var Ho="oninput"in document;if(!Ho){var Nd=document.createElement("div");Nd.setAttribute("oninput","return;"),Ho=typeof Nd.oninput=="function"}Uo=Ho}else Uo=!1;of=Uo&&(!document.documentMode||9<document.documentMode)}function _d(){Js&&(Js.detachEvent("onpropertychange",lf),ci=Js=null)}function lf(e){if(e.propertyName==="value"&&lo(ci)){var t=[];af(t,ci,e,Jc(e)),Im(vg,t)}}function wg(e,t,r){e==="focusin"?(_d(),Js=t,ci=r,Js.attachEvent("onpropertychange",lf)):e==="focusout"&&_d()}function jg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lo(ci)}function Ng(e,t){if(e==="click")return lo(t)}function _g(e,t){if(e==="input"||e==="change")return lo(t)}function kg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:kg;function ui(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!gl.call(t,i)||!Rt(e[i],t[i]))return!1}return!0}function kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sd(e,t){var r=kd(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kd(r)}}function cf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uf(){for(var e=window,t=Ca();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ca(e.document)}return t}function au(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Sg(e){var t=uf(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&cf(r.ownerDocument.documentElement,r)){if(n!==null&&au(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Sd(r,a);var o=Sd(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cg=tr&&"documentMode"in document&&11>=document.documentMode,An=null,Al=null,Xs=null,Dl=!1;function Cd(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dl||An==null||An!==Ca(n)||(n=An,"selectionStart"in n&&au(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xs&&ui(Xs,n)||(Xs=n,n=Fa(Al,"onSelect"),0<n.length&&(t=new nu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=An)))}function Qi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Dn={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionend:Qi("Transition","TransitionEnd")},Qo={},df={};tr&&(df=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function co(e){if(Qo[e])return Qo[e];if(!Dn[e])return e;var t=Dn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in df)return Qo[e]=t[r];return e}var hf=co("animationend"),mf=co("animationiteration"),ff=co("animationstart"),pf=co("transitionend"),xf=new Map,Ed="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){xf.set(e,t),Cn(t,[e])}for(var Yo=0;Yo<Ed.length;Yo++){var Ko=Ed[Yo],Eg=Ko.toLowerCase(),Pg=Ko[0].toUpperCase()+Ko.slice(1);Ur(Eg,"on"+Pg)}Ur(hf,"onAnimationEnd");Ur(mf,"onAnimationIteration");Ur(ff,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(pf,"onTransitionEnd");us("onMouseEnter",["mouseout","mouseover"]);us("onMouseLeave",["mouseout","mouseover"]);us("onPointerEnter",["pointerout","pointerover"]);us("onPointerLeave",["pointerout","pointerover"]);Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Us));function Pd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Ex(n,t,void 0,e),e.currentTarget=null}function gf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Pd(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Pd(i,l,u),a=c}}}if(Pa)throw e=Tl,Pa=!1,Tl=null,e}function ue(e,t){var r=t[ql];r===void 0&&(r=t[ql]=new Set);var n=e+"__bubble";r.has(n)||(yf(t,e,2,!1),r.add(n))}function Go(e,t,r){var n=0;t&&(n|=4),yf(r,e,n,t)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function di(e){if(!e[Yi]){e[Yi]=!0,_m.forEach(function(r){r!=="selectionchange"&&(Lg.has(r)||Go(r,!1,e),Go(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yi]||(t[Yi]=!0,Go("selectionchange",!1,t))}}function yf(e,t,r,n){switch(ef(t)){case 1:var i=Wx;break;case 4:i=Ux;break;default:i=tu}r=i.bind(null,t,r,e),i=void 0,!Rl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Jo(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=tn(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}Im(function(){var u=a,d=Jc(r),h=[];e:{var x=xf.get(e);if(x!==void 0){var g=nu,b=e;switch(e){case"keypress":if(ua(r)===0)break e;case"keydown":case"keyup":g=ag;break;case"focusin":b="focus",g=Wo;break;case"focusout":b="blur",g=Wo;break;case"beforeblur":case"afterblur":g=Wo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Yx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=cg;break;case hf:case mf:case ff:g=Jx;break;case pf:g=dg;break;case"scroll":g=Hx;break;case"wheel":g=mg;break;case"copy":case"cut":case"paste":g=Zx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=vd}var v=(t&4)!==0,k=!v&&e==="scroll",p=v?x!==null?x+"Capture":null:x;v=[];for(var m=u,f;m!==null;){f=m;var _=f.stateNode;if(f.tag===5&&_!==null&&(f=_,p!==null&&(_=ii(m,p),_!=null&&v.push(hi(m,_,f)))),k)break;m=m.return}0<v.length&&(x=new g(x,b,null,r,d),h.push({event:x,listeners:v}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",x&&r!==Pl&&(b=r.relatedTarget||r.fromElement)&&(tn(b)||b[rr]))break e;if((g||x)&&(x=d.window===d?d:(x=d.ownerDocument)?x.defaultView||x.parentWindow:window,g?(b=r.relatedTarget||r.toElement,g=u,b=b?tn(b):null,b!==null&&(k=En(b),b!==k||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(v=gd,_="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=vd,_="onPointerLeave",p="onPointerEnter",m="pointer"),k=g==null?x:Bn(g),f=b==null?x:Bn(b),x=new v(_,m+"leave",g,r,d),x.target=k,x.relatedTarget=f,_=null,tn(d)===u&&(v=new v(p,m+"enter",b,r,d),v.target=f,v.relatedTarget=k,_=v),k=_,g&&b)t:{for(v=g,p=b,m=0,f=v;f;f=Rn(f))m++;for(f=0,_=p;_;_=Rn(_))f++;for(;0<m-f;)v=Rn(v),m--;for(;0<f-m;)p=Rn(p),f--;for(;m--;){if(v===p||p!==null&&v===p.alternate)break t;v=Rn(v),p=Rn(p)}v=null}else v=null;g!==null&&Ld(h,x,g,v,!1),b!==null&&k!==null&&Ld(h,k,b,v,!0)}}e:{if(x=u?Bn(u):window,g=x.nodeName&&x.nodeName.toLowerCase(),g==="select"||g==="input"&&x.type==="file")var E=bg;else if(jd(x))if(of)E=_g;else{E=jg;var w=wg}else(g=x.nodeName)&&g.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(E=Ng);if(E&&(E=E(e,u))){af(h,E,r,d);break e}w&&w(e,x,u),e==="focusout"&&(w=x._wrapperState)&&w.controlled&&x.type==="number"&&_l(x,"number",x.value)}switch(w=u?Bn(u):window,e){case"focusin":(jd(w)||w.contentEditable==="true")&&(An=w,Al=u,Xs=null);break;case"focusout":Xs=Al=An=null;break;case"mousedown":Dl=!0;break;case"contextmenu":case"mouseup":case"dragend":Dl=!1,Cd(h,r,d);break;case"selectionchange":if(Cg)break;case"keydown":case"keyup":Cd(h,r,d)}var j;if(iu)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Mn?nf(e,r)&&(y="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(y="onCompositionStart");y&&(rf&&r.locale!=="ko"&&(Mn||y!=="onCompositionStart"?y==="onCompositionEnd"&&Mn&&(j=tf()):(Pr=d,ru="value"in Pr?Pr.value:Pr.textContent,Mn=!0)),w=Fa(u,y),0<w.length&&(y=new yd(y,e,null,r,d),h.push({event:y,listeners:w}),j?y.data=j:(j=sf(r),j!==null&&(y.data=j)))),(j=pg?xg(e,r):gg(e,r))&&(u=Fa(u,"onBeforeInput"),0<u.length&&(d=new yd("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}gf(h,t)})}function hi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fa(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ii(e,r),a!=null&&n.unshift(hi(e,a,i)),a=ii(e,t),a!=null&&n.push(hi(e,a,i))),e=e.return}return n}function Rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ld(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=ii(r,a),c!=null&&o.unshift(hi(r,c,l))):i||(c=ii(r,a),c!=null&&o.push(hi(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Rg=/\r\n?/g,Tg=/\u0000|\uFFFD/g;function Rd(e){return(typeof e=="string"?e:""+e).replace(Rg,`
`).replace(Tg,"")}function Ki(e,t,r){if(t=Rd(t),Rd(e)!==t&&r)throw Error($(425))}function Ma(){}var Bl=null,$l=null;function Il(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zl=typeof setTimeout=="function"?setTimeout:void 0,Og=typeof clearTimeout=="function"?clearTimeout:void 0,Td=typeof Promise=="function"?Promise:void 0,Fg=typeof queueMicrotask=="function"?queueMicrotask:typeof Td<"u"?function(e){return Td.resolve(null).then(e).catch(Mg)}:zl;function Mg(e){setTimeout(function(){throw e})}function Xo(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),li(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);li(t)}function Mr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Od(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var vs=Math.random().toString(36).slice(2),It="__reactFiber$"+vs,mi="__reactProps$"+vs,rr="__reactContainer$"+vs,ql="__reactEvents$"+vs,Ag="__reactListeners$"+vs,Dg="__reactHandles$"+vs;function tn(e){var t=e[It];if(t)return t;for(var r=e.parentNode;r;){if(t=r[rr]||r[It]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Od(e);e!==null;){if(r=e[It])return r;e=Od(e)}return t}e=r,r=e.parentNode}return null}function Ti(e){return e=e[It]||e[rr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function uo(e){return e[mi]||null}var Vl=[],$n=-1;function Hr(e){return{current:e}}function de(e){0>$n||(e.current=Vl[$n],Vl[$n]=null,$n--)}function ce(e,t){$n++,Vl[$n]=e.current,e.current=t}var Wr={},Ie=Hr(Wr),Xe=Hr(!1),vn=Wr;function ds(e,t){var r=e.type.contextTypes;if(!r)return Wr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ze(e){return e=e.childContextTypes,e!=null}function Aa(){de(Xe),de(Ie)}function Fd(e,t,r){if(Ie.current!==Wr)throw Error($(168));ce(Ie,t),ce(Xe,r)}function vf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error($(108,wx(e)||"Unknown",i));return xe({},r,n)}function Da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wr,vn=Ie.current,ce(Ie,e),ce(Xe,Xe.current),!0}function Md(e,t,r){var n=e.stateNode;if(!n)throw Error($(169));r?(e=vf(e,t,vn),n.__reactInternalMemoizedMergedChildContext=e,de(Xe),de(Ie),ce(Ie,e)):de(Xe),ce(Xe,r)}var Qt=null,ho=!1,Zo=!1;function bf(e){Qt===null?Qt=[e]:Qt.push(e)}function Bg(e){ho=!0,bf(e)}function Qr(){if(!Zo&&Qt!==null){Zo=!0;var e=0,t=ae;try{var r=Qt;for(ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Qt=null,ho=!1}catch(i){throw Qt!==null&&(Qt=Qt.slice(e+1)),Wm(Xc,Qr),i}finally{ae=t,Zo=!1}}return null}var In=[],zn=0,Ba=null,$a=0,ft=[],pt=0,bn=null,Jt=1,Xt="";function Jr(e,t){In[zn++]=$a,In[zn++]=Ba,Ba=e,$a=t}function wf(e,t,r){ft[pt++]=Jt,ft[pt++]=Xt,ft[pt++]=bn,bn=e;var n=Jt;e=Xt;var i=32-Pt(n)-1;n&=~(1<<i),r+=1;var a=32-Pt(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Jt=1<<32-Pt(t)+i|r<<i|n,Xt=a+e}else Jt=1<<a|r<<i|n,Xt=e}function ou(e){e.return!==null&&(Jr(e,1),wf(e,1,0))}function lu(e){for(;e===Ba;)Ba=In[--zn],In[zn]=null,$a=In[--zn],In[zn]=null;for(;e===bn;)bn=ft[--pt],ft[pt]=null,Xt=ft[--pt],ft[pt]=null,Jt=ft[--pt],ft[pt]=null}var lt=null,ot=null,me=!1,Et=null;function jf(e,t){var r=gt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ad(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,ot=Mr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bn!==null?{id:Jt,overflow:Xt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,lt=e,ot=null,!0):!1;default:return!1}}function Wl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ul(e){if(me){var t=ot;if(t){var r=t;if(!Ad(e,t)){if(Wl(e))throw Error($(418));t=Mr(r.nextSibling);var n=lt;t&&Ad(e,t)?jf(n,r):(e.flags=e.flags&-4097|2,me=!1,lt=e)}}else{if(Wl(e))throw Error($(418));e.flags=e.flags&-4097|2,me=!1,lt=e}}}function Dd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function Gi(e){if(e!==lt)return!1;if(!me)return Dd(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Il(e.type,e.memoizedProps)),t&&(t=ot)){if(Wl(e))throw Nf(),Error($(418));for(;t;)jf(e,t),t=Mr(t.nextSibling)}if(Dd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ot=Mr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=lt?Mr(e.stateNode.nextSibling):null;return!0}function Nf(){for(var e=ot;e;)e=Mr(e.nextSibling)}function hs(){ot=lt=null,me=!1}function cu(e){Et===null?Et=[e]:Et.push(e)}var $g=ar.ReactCurrentBatchConfig;function Fs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var n=r.stateNode}if(!n)throw Error($(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error($(284));if(!r._owner)throw Error($(290,e))}return e}function Ji(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bd(e){var t=e._init;return t(e._payload)}function _f(e){function t(p,m){if(e){var f=p.deletions;f===null?(p.deletions=[m],p.flags|=16):f.push(m)}}function r(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=$r(p,m),p.index=0,p.sibling=null,p}function a(p,m,f){return p.index=f,e?(f=p.alternate,f!==null?(f=f.index,f<m?(p.flags|=2,m):f):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,m,f,_){return m===null||m.tag!==6?(m=al(f,p.mode,_),m.return=p,m):(m=i(m,f),m.return=p,m)}function c(p,m,f,_){var E=f.type;return E===Fn?d(p,m,f.props.children,_,f.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===fr&&Bd(E)===m.type)?(_=i(m,f.props),_.ref=Fs(p,m,f),_.return=p,_):(_=ga(f.type,f.key,f.props,null,p.mode,_),_.ref=Fs(p,m,f),_.return=p,_)}function u(p,m,f,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==f.containerInfo||m.stateNode.implementation!==f.implementation?(m=ol(f,p.mode,_),m.return=p,m):(m=i(m,f.children||[]),m.return=p,m)}function d(p,m,f,_,E){return m===null||m.tag!==7?(m=gn(f,p.mode,_,E),m.return=p,m):(m=i(m,f),m.return=p,m)}function h(p,m,f){if(typeof m=="string"&&m!==""||typeof m=="number")return m=al(""+m,p.mode,f),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ii:return f=ga(m.type,m.key,m.props,null,p.mode,f),f.ref=Fs(p,null,m),f.return=p,f;case On:return m=ol(m,p.mode,f),m.return=p,m;case fr:var _=m._init;return h(p,_(m._payload),f)}if(Vs(m)||Ps(m))return m=gn(m,p.mode,f,null),m.return=p,m;Ji(p,m)}return null}function x(p,m,f,_){var E=m!==null?m.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return E!==null?null:l(p,m,""+f,_);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ii:return f.key===E?c(p,m,f,_):null;case On:return f.key===E?u(p,m,f,_):null;case fr:return E=f._init,x(p,m,E(f._payload),_)}if(Vs(f)||Ps(f))return E!==null?null:d(p,m,f,_,null);Ji(p,f)}return null}function g(p,m,f,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(f)||null,l(m,p,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ii:return p=p.get(_.key===null?f:_.key)||null,c(m,p,_,E);case On:return p=p.get(_.key===null?f:_.key)||null,u(m,p,_,E);case fr:var w=_._init;return g(p,m,f,w(_._payload),E)}if(Vs(_)||Ps(_))return p=p.get(f)||null,d(m,p,_,E,null);Ji(m,_)}return null}function b(p,m,f,_){for(var E=null,w=null,j=m,y=m=0,M=null;j!==null&&y<f.length;y++){j.index>y?(M=j,j=null):M=j.sibling;var D=x(p,j,f[y],_);if(D===null){j===null&&(j=M);break}e&&j&&D.alternate===null&&t(p,j),m=a(D,m,y),w===null?E=D:w.sibling=D,w=D,j=M}if(y===f.length)return r(p,j),me&&Jr(p,y),E;if(j===null){for(;y<f.length;y++)j=h(p,f[y],_),j!==null&&(m=a(j,m,y),w===null?E=j:w.sibling=j,w=j);return me&&Jr(p,y),E}for(j=n(p,j);y<f.length;y++)M=g(j,p,y,f[y],_),M!==null&&(e&&M.alternate!==null&&j.delete(M.key===null?y:M.key),m=a(M,m,y),w===null?E=M:w.sibling=M,w=M);return e&&j.forEach(function(K){return t(p,K)}),me&&Jr(p,y),E}function v(p,m,f,_){var E=Ps(f);if(typeof E!="function")throw Error($(150));if(f=E.call(f),f==null)throw Error($(151));for(var w=E=null,j=m,y=m=0,M=null,D=f.next();j!==null&&!D.done;y++,D=f.next()){j.index>y?(M=j,j=null):M=j.sibling;var K=x(p,j,D.value,_);if(K===null){j===null&&(j=M);break}e&&j&&K.alternate===null&&t(p,j),m=a(K,m,y),w===null?E=K:w.sibling=K,w=K,j=M}if(D.done)return r(p,j),me&&Jr(p,y),E;if(j===null){for(;!D.done;y++,D=f.next())D=h(p,D.value,_),D!==null&&(m=a(D,m,y),w===null?E=D:w.sibling=D,w=D);return me&&Jr(p,y),E}for(j=n(p,j);!D.done;y++,D=f.next())D=g(j,p,y,D.value,_),D!==null&&(e&&D.alternate!==null&&j.delete(D.key===null?y:D.key),m=a(D,m,y),w===null?E=D:w.sibling=D,w=D);return e&&j.forEach(function(F){return t(p,F)}),me&&Jr(p,y),E}function k(p,m,f,_){if(typeof f=="object"&&f!==null&&f.type===Fn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Ii:e:{for(var E=f.key,w=m;w!==null;){if(w.key===E){if(E=f.type,E===Fn){if(w.tag===7){r(p,w.sibling),m=i(w,f.props.children),m.return=p,p=m;break e}}else if(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===fr&&Bd(E)===w.type){r(p,w.sibling),m=i(w,f.props),m.ref=Fs(p,w,f),m.return=p,p=m;break e}r(p,w);break}else t(p,w);w=w.sibling}f.type===Fn?(m=gn(f.props.children,p.mode,_,f.key),m.return=p,p=m):(_=ga(f.type,f.key,f.props,null,p.mode,_),_.ref=Fs(p,m,f),_.return=p,p=_)}return o(p);case On:e:{for(w=f.key;m!==null;){if(m.key===w)if(m.tag===4&&m.stateNode.containerInfo===f.containerInfo&&m.stateNode.implementation===f.implementation){r(p,m.sibling),m=i(m,f.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else t(p,m);m=m.sibling}m=ol(f,p.mode,_),m.return=p,p=m}return o(p);case fr:return w=f._init,k(p,m,w(f._payload),_)}if(Vs(f))return b(p,m,f,_);if(Ps(f))return v(p,m,f,_);Ji(p,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,m!==null&&m.tag===6?(r(p,m.sibling),m=i(m,f),m.return=p,p=m):(r(p,m),m=al(f,p.mode,_),m.return=p,p=m),o(p)):r(p,m)}return k}var ms=_f(!0),kf=_f(!1),Ia=Hr(null),za=null,qn=null,uu=null;function du(){uu=qn=za=null}function hu(e){var t=Ia.current;de(Ia),e._currentValue=t}function Hl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Kn(e,t){za=e,uu=qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function vt(e){var t=e._currentValue;if(uu!==e)if(e={context:e,memoizedValue:t,next:null},qn===null){if(za===null)throw Error($(308));qn=e,za.dependencies={lanes:0,firstContext:e}}else qn=qn.next=e;return t}var rn=null;function mu(e){rn===null?rn=[e]:rn.push(e)}function Sf(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,mu(t)):(r.next=i.next,i.next=r),t.interleaved=r,nr(e,n)}function nr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var pr=!1;function fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ar(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ne&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,nr(e,r)}return i=n.interleaved,i===null?(t.next=t,mu(n)):(t.next=i.next,i.next=t),n.interleaved=t,nr(e,r)}function da(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zc(e,r)}}function $d(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qa(e,t,r,n){var i=e.updateQueue;pr=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,d=u=c=null,l=a;do{var x=l.lane,g=l.eventTime;if((n&x)===x){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,v=l;switch(x=t,g=r,v.tag){case 1:if(b=v.payload,typeof b=="function"){h=b.call(g,h,x);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,x=typeof b=="function"?b.call(g,h,x):b,x==null)break e;h=xe({},h,x);break e;case 2:pr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,x=i.effects,x===null?i.effects=[l]:x.push(l))}else g={eventTime:g,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,o|=x;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;x=l,l=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);jn|=o,e.lanes=o,e.memoizedState=h}}function Id(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error($(191,i));i.call(n)}}}var Oi={},qt=Hr(Oi),fi=Hr(Oi),pi=Hr(Oi);function nn(e){if(e===Oi)throw Error($(174));return e}function pu(e,t){switch(ce(pi,t),ce(fi,e),ce(qt,Oi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sl(t,e)}de(qt),ce(qt,t)}function fs(){de(qt),de(fi),de(pi)}function Ef(e){nn(pi.current);var t=nn(qt.current),r=Sl(t,e.type);t!==r&&(ce(fi,e),ce(qt,r))}function xu(e){fi.current===e&&(de(qt),de(fi))}var fe=Hr(0);function Va(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var el=[];function gu(){for(var e=0;e<el.length;e++)el[e]._workInProgressVersionPrimary=null;el.length=0}var ha=ar.ReactCurrentDispatcher,tl=ar.ReactCurrentBatchConfig,wn=0,pe=null,_e=null,Le=null,Wa=!1,Zs=!1,xi=0,Ig=0;function Me(){throw Error($(321))}function yu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rt(e[r],t[r]))return!1;return!0}function vu(e,t,r,n,i,a){if(wn=a,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=e===null||e.memoizedState===null?Wg:Ug,e=r(n,i),Zs){a=0;do{if(Zs=!1,xi=0,25<=a)throw Error($(301));a+=1,Le=_e=null,t.updateQueue=null,ha.current=Hg,e=r(n,i)}while(Zs)}if(ha.current=Ua,t=_e!==null&&_e.next!==null,wn=0,Le=_e=pe=null,Wa=!1,t)throw Error($(300));return e}function bu(){var e=xi!==0;return xi=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?pe.memoizedState=Le=e:Le=Le.next=e,Le}function bt(){if(_e===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Le===null?pe.memoizedState:Le.next;if(t!==null)Le=t,_e=e;else{if(e===null)throw Error($(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Le===null?pe.memoizedState=Le=e:Le=Le.next=e}return Le}function gi(e,t){return typeof t=="function"?t(e):t}function rl(e){var t=bt(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=_e,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((wn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,pe.lanes|=d,jn|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Rt(n,t.memoizedState)||(Je=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,pe.lanes|=a,jn|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nl(e){var t=bt(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Rt(a,t.memoizedState)||(Je=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Pf(){}function Lf(e,t){var r=pe,n=bt(),i=t(),a=!Rt(n.memoizedState,i);if(a&&(n.memoizedState=i,Je=!0),n=n.queue,wu(Of.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Le!==null&&Le.memoizedState.tag&1){if(r.flags|=2048,yi(9,Tf.bind(null,r,n,i,t),void 0,null),Re===null)throw Error($(349));wn&30||Rf(r,t,i)}return i}function Rf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Tf(e,t,r,n){t.value=r,t.getSnapshot=n,Ff(t)&&Mf(e)}function Of(e,t,r){return r(function(){Ff(t)&&Mf(e)})}function Ff(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rt(e,r)}catch{return!0}}function Mf(e){var t=nr(e,1);t!==null&&Lt(t,e,1,-1)}function zd(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:e},t.queue=e,e=e.dispatch=Vg.bind(null,pe,e),[t.memoizedState,e]}function yi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Af(){return bt().memoizedState}function ma(e,t,r,n){var i=At();pe.flags|=e,i.memoizedState=yi(1|t,r,void 0,n===void 0?null:n)}function mo(e,t,r,n){var i=bt();n=n===void 0?null:n;var a=void 0;if(_e!==null){var o=_e.memoizedState;if(a=o.destroy,n!==null&&yu(n,o.deps)){i.memoizedState=yi(t,r,a,n);return}}pe.flags|=e,i.memoizedState=yi(1|t,r,a,n)}function qd(e,t){return ma(8390656,8,e,t)}function wu(e,t){return mo(2048,8,e,t)}function Df(e,t){return mo(4,2,e,t)}function Bf(e,t){return mo(4,4,e,t)}function $f(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function If(e,t,r){return r=r!=null?r.concat([e]):null,mo(4,4,$f.bind(null,t,e),r)}function ju(){}function zf(e,t){var r=bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qf(e,t){var r=bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Vf(e,t,r){return wn&21?(Rt(r,t)||(r=Qm(),pe.lanes|=r,jn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=r)}function zg(e,t){var r=ae;ae=r!==0&&4>r?r:4,e(!0);var n=tl.transition;tl.transition={};try{e(!1),t()}finally{ae=r,tl.transition=n}}function Wf(){return bt().memoizedState}function qg(e,t,r){var n=Br(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Uf(e))Hf(t,r);else if(r=Sf(e,t,r,n),r!==null){var i=Ue();Lt(r,e,n,i),Qf(r,t,n)}}function Vg(e,t,r){var n=Br(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Uf(e))Hf(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,Rt(l,o)){var c=t.interleaved;c===null?(i.next=i,mu(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=Sf(e,t,i,n),r!==null&&(i=Ue(),Lt(r,e,n,i),Qf(r,t,n))}}function Uf(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function Hf(e,t){Zs=Wa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zc(e,r)}}var Ua={readContext:vt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},Wg={readContext:vt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:qd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ma(4194308,4,$f.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return ma(4,2,e,t)},useMemo:function(e,t){var r=At();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=At();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=qg.bind(null,pe,e),[n.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:zd,useDebugValue:ju,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=zd(!1),t=e[0];return e=zg.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=pe,i=At();if(me){if(r===void 0)throw Error($(407));r=r()}else{if(r=t(),Re===null)throw Error($(349));wn&30||Rf(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,qd(Of.bind(null,n,a,e),[e]),n.flags|=2048,yi(9,Tf.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=At(),t=Re.identifierPrefix;if(me){var r=Xt,n=Jt;r=(n&~(1<<32-Pt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=xi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ig++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ug={readContext:vt,useCallback:zf,useContext:vt,useEffect:wu,useImperativeHandle:If,useInsertionEffect:Df,useLayoutEffect:Bf,useMemo:qf,useReducer:rl,useRef:Af,useState:function(){return rl(gi)},useDebugValue:ju,useDeferredValue:function(e){var t=bt();return Vf(t,_e.memoizedState,e)},useTransition:function(){var e=rl(gi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Pf,useSyncExternalStore:Lf,useId:Wf,unstable_isNewReconciler:!1},Hg={readContext:vt,useCallback:zf,useContext:vt,useEffect:wu,useImperativeHandle:If,useInsertionEffect:Df,useLayoutEffect:Bf,useMemo:qf,useReducer:nl,useRef:Af,useState:function(){return nl(gi)},useDebugValue:ju,useDeferredValue:function(e){var t=bt();return _e===null?t.memoizedState=e:Vf(t,_e.memoizedState,e)},useTransition:function(){var e=nl(gi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Pf,useSyncExternalStore:Lf,useId:Wf,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ql(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:xe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var fo={isMounted:function(e){return(e=e._reactInternals)?En(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ue(),i=Br(e),a=Zt(n,i);a.payload=t,r!=null&&(a.callback=r),t=Ar(e,a,i),t!==null&&(Lt(t,e,i,n),da(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ue(),i=Br(e),a=Zt(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ar(e,a,i),t!==null&&(Lt(t,e,i,n),da(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ue(),n=Br(e),i=Zt(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ar(e,i,n),t!==null&&(Lt(t,e,n,r),da(t,e,n))}};function Vd(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!ui(r,n)||!ui(i,a):!0}function Yf(e,t,r){var n=!1,i=Wr,a=t.contextType;return typeof a=="object"&&a!==null?a=vt(a):(i=Ze(t)?vn:Ie.current,n=t.contextTypes,a=(n=n!=null)?ds(e,i):Wr),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wd(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function Yl(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},fu(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=vt(a):(a=Ze(t)?vn:Ie.current,i.context=ds(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ql(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&fo.enqueueReplaceState(i,i.state,null),qa(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ps(e,t){try{var r="",n=t;do r+=bx(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function sl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Kl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Qg=typeof WeakMap=="function"?WeakMap:Map;function Kf(e,t,r){r=Zt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Qa||(Qa=!0,ic=n),Kl(e,t)},r}function Gf(e,t,r){r=Zt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Kl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Kl(e,t),typeof n!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ud(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Qg;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=oy.bind(null,e,t,r),t.then(e,e))}function Hd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qd(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Zt(-1,1),t.tag=2,Ar(r,t,1))),r.lanes|=1),e)}var Yg=ar.ReactCurrentOwner,Je=!1;function Ve(e,t,r,n){t.child=e===null?kf(t,null,r,n):ms(t,e.child,r,n)}function Yd(e,t,r,n,i){r=r.render;var a=t.ref;return Kn(t,i),n=vu(e,t,r,n,a,i),r=bu(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sr(e,t,i)):(me&&r&&ou(t),t.flags|=1,Ve(e,t,n,i),t.child)}function Kd(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Lu(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Jf(e,t,a,n,i)):(e=ga(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:ui,r(o,n)&&e.ref===t.ref)return sr(e,t,i)}return t.flags|=1,e=$r(a,n),e.ref=t.ref,e.return=t,t.child=e}function Jf(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(ui(a,n)&&e.ref===t.ref)if(Je=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,sr(e,t,i)}return Gl(e,t,r,n,i)}function Xf(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Wn,at),at|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(Wn,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ce(Wn,at),at|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ce(Wn,at),at|=n;return Ve(e,t,i,r),t.child}function Zf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Gl(e,t,r,n,i){var a=Ze(r)?vn:Ie.current;return a=ds(t,a),Kn(t,i),r=vu(e,t,r,n,a,i),n=bu(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sr(e,t,i)):(me&&n&&ou(t),t.flags|=1,Ve(e,t,r,i),t.child)}function Gd(e,t,r,n,i){if(Ze(r)){var a=!0;Da(t)}else a=!1;if(Kn(t,i),t.stateNode===null)fa(e,t),Yf(t,r,n),Yl(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=vt(u):(u=Ze(r)?vn:Ie.current,u=ds(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Wd(t,o,n,u),pr=!1;var x=t.memoizedState;o.state=x,qa(t,n,o,i),c=t.memoizedState,l!==n||x!==c||Xe.current||pr?(typeof d=="function"&&(Ql(t,r,d,n),c=t.memoizedState),(l=pr||Vd(t,r,l,n,x,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Cf(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Nt(t.type,l),o.props=u,h=t.pendingProps,x=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=vt(c):(c=Ze(r)?vn:Ie.current,c=ds(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||x!==c)&&Wd(t,o,n,c),pr=!1,x=t.memoizedState,o.state=x,qa(t,n,o,i);var b=t.memoizedState;l!==h||x!==b||Xe.current||pr?(typeof g=="function"&&(Ql(t,r,g,n),b=t.memoizedState),(u=pr||Vd(t,r,u,n,x,b,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return Jl(e,t,r,n,a,i)}function Jl(e,t,r,n,i,a){Zf(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Md(t,r,!1),sr(e,t,a);n=t.stateNode,Yg.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ms(t,e.child,null,a),t.child=ms(t,null,l,a)):Ve(e,t,l,a),t.memoizedState=n.state,i&&Md(t,r,!0),t.child}function ep(e){var t=e.stateNode;t.pendingContext?Fd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fd(e,t.context,!1),pu(e,t.containerInfo)}function Jd(e,t,r,n,i){return hs(),cu(i),t.flags|=256,Ve(e,t,r,n),t.child}var Xl={dehydrated:null,treeContext:null,retryLane:0};function Zl(e){return{baseLanes:e,cachePool:null,transitions:null}}function tp(e,t,r){var n=t.pendingProps,i=fe.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ce(fe,i&1),e===null)return Ul(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=go(o,n,0,null),e=gn(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Zl(r),t.memoizedState=Xl,e):Nu(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Kg(e,t,o,n,l,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=$r(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=$r(l,a):(a=gn(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Zl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Xl,n}return a=e.child,e=a.sibling,n=$r(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Nu(e,t){return t=go({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xi(e,t,r,n){return n!==null&&cu(n),ms(t,e.child,null,r),e=Nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kg(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=sl(Error($(422))),Xi(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=go({mode:"visible",children:n.children},i,0,null),a=gn(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&ms(t,e.child,null,o),t.child.memoizedState=Zl(o),t.memoizedState=Xl,a);if(!(t.mode&1))return Xi(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error($(419)),n=sl(a,n,void 0),Xi(e,t,o,n)}if(l=(o&e.childLanes)!==0,Je||l){if(n=Re,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,nr(e,i),Lt(n,e,i,-1))}return Pu(),n=sl(Error($(421))),Xi(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ly.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ot=Mr(i.nextSibling),lt=t,me=!0,Et=null,e!==null&&(ft[pt++]=Jt,ft[pt++]=Xt,ft[pt++]=bn,Jt=e.id,Xt=e.overflow,bn=t),t=Nu(t,n.children),t.flags|=4096,t)}function Xd(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Hl(e.return,t,r)}function il(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function rp(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Ve(e,t,n.children,r),n=fe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xd(e,r,t);else if(e.tag===19)Xd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ce(fe,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Va(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),il(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Va(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}il(t,!0,r,null,a);break;case"together":il(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),jn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,r=$r(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=$r(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Gg(e,t,r){switch(t.tag){case 3:ep(t),hs();break;case 5:Ef(t);break;case 1:Ze(t.type)&&Da(t);break;case 4:pu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ce(Ia,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ce(fe,fe.current&1),t.flags|=128,null):r&t.child.childLanes?tp(e,t,r):(ce(fe,fe.current&1),e=sr(e,t,r),e!==null?e.sibling:null);ce(fe,fe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return rp(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(fe,fe.current),n)break;return null;case 22:case 23:return t.lanes=0,Xf(e,t,r)}return sr(e,t,r)}var np,ec,sp,ip;np=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ec=function(){};sp=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,nn(qt.current);var a=null;switch(r){case"input":i=jl(e,i),n=jl(e,n),a=[];break;case"select":i=xe({},i,{value:void 0}),n=xe({},n,{value:void 0}),a=[];break;case"textarea":i=kl(e,i),n=kl(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ma)}Cl(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ni.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ni.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ue("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};ip=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ms(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Jg(e,t,r){var n=t.pendingProps;switch(lu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ze(t.type)&&Aa(),Ae(t),null;case 3:return n=t.stateNode,fs(),de(Xe),de(Ie),gu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Gi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(lc(Et),Et=null))),ec(e,t),Ae(t),null;case 5:xu(t);var i=nn(pi.current);if(r=t.type,e!==null&&t.stateNode!=null)sp(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error($(166));return Ae(t),null}if(e=nn(qt.current),Gi(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[It]=t,n[mi]=a,e=(t.mode&1)!==0,r){case"dialog":ue("cancel",n),ue("close",n);break;case"iframe":case"object":case"embed":ue("load",n);break;case"video":case"audio":for(i=0;i<Us.length;i++)ue(Us[i],n);break;case"source":ue("error",n);break;case"img":case"image":case"link":ue("error",n),ue("load",n);break;case"details":ue("toggle",n);break;case"input":od(n,a),ue("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ue("invalid",n);break;case"textarea":cd(n,a),ue("invalid",n)}Cl(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ki(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ki(n.textContent,l,e),i=["children",""+l]):ni.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ue("scroll",n)}switch(r){case"input":zi(n),ld(n,a,!0);break;case"textarea":zi(n),ud(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ma)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Tm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[It]=t,e[mi]=n,np(e,t,!1,!1),t.stateNode=e;e:{switch(o=El(r,n),r){case"dialog":ue("cancel",e),ue("close",e),i=n;break;case"iframe":case"object":case"embed":ue("load",e),i=n;break;case"video":case"audio":for(i=0;i<Us.length;i++)ue(Us[i],e);i=n;break;case"source":ue("error",e),i=n;break;case"img":case"image":case"link":ue("error",e),ue("load",e),i=n;break;case"details":ue("toggle",e),i=n;break;case"input":od(e,n),i=jl(e,n),ue("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=xe({},n,{value:void 0}),ue("invalid",e);break;case"textarea":cd(e,n),i=kl(e,n),ue("invalid",e);break;default:i=n}Cl(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Mm(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Om(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&si(e,c):typeof c=="number"&&si(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ni.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ue("scroll",e):c!=null&&Qc(e,a,c,o))}switch(r){case"input":zi(e),ld(e,n,!1);break;case"textarea":zi(e),ud(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Vr(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Un(e,!!n.multiple,a,!1):n.defaultValue!=null&&Un(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ma)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)ip(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($(166));if(r=nn(pi.current),nn(qt.current),Gi(t)){if(n=t.stateNode,r=t.memoizedProps,n[It]=t,(a=n.nodeValue!==r)&&(e=lt,e!==null))switch(e.tag){case 3:Ki(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ki(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[It]=t,t.stateNode=n}return Ae(t),null;case 13:if(de(fe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&ot!==null&&t.mode&1&&!(t.flags&128))Nf(),hs(),t.flags|=98560,a=!1;else if(a=Gi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error($(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error($(317));a[It]=t}else hs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),a=!1}else Et!==null&&(lc(Et),Et=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?Se===0&&(Se=3):Pu())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return fs(),ec(e,t),e===null&&di(t.stateNode.containerInfo),Ae(t),null;case 10:return hu(t.type._context),Ae(t),null;case 17:return Ze(t.type)&&Aa(),Ae(t),null;case 19:if(de(fe),a=t.memoizedState,a===null)return Ae(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Ms(a,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Va(e),o!==null){for(t.flags|=128,Ms(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ce(fe,fe.current&1|2),t.child}e=e.sibling}a.tail!==null&&be()>xs&&(t.flags|=128,n=!0,Ms(a,!1),t.lanes=4194304)}else{if(!n)if(e=Va(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ms(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!me)return Ae(t),null}else 2*be()-a.renderingStartTime>xs&&r!==1073741824&&(t.flags|=128,n=!0,Ms(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=be(),t.sibling=null,r=fe.current,ce(fe,n?r&1|2:r&1),t):(Ae(t),null);case 22:case 23:return Eu(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?at&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function Xg(e,t){switch(lu(t),t.tag){case 1:return Ze(t.type)&&Aa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fs(),de(Xe),de(Ie),gu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xu(t),null;case 13:if(de(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));hs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(fe),null;case 4:return fs(),null;case 10:return hu(t.type._context),null;case 22:case 23:return Eu(),null;case 24:return null;default:return null}}var Zi=!1,De=!1,Zg=typeof WeakSet=="function"?WeakSet:Set,W=null;function Vn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ye(e,t,n)}else r.current=null}function tc(e,t,r){try{r()}catch(n){ye(e,t,n)}}var Zd=!1;function ey(e,t){if(Bl=Ta,e=uf(),au(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,x=null;t:for(;;){for(var g;h!==r||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)x=h,h=g;for(;;){if(h===e)break t;if(x===r&&++u===i&&(l=o),x===a&&++d===n&&(c=o),(g=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for($l={focusedElem:e,selectionRange:r},Ta=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,k=b.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:Nt(t.type,v),k);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(_){ye(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return b=Zd,Zd=!1,b}function ei(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&tc(t,r,a)}i=i.next}while(i!==n)}}function po(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function rc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ap(e){var t=e.alternate;t!==null&&(e.alternate=null,ap(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[mi],delete t[ql],delete t[Ag],delete t[Dg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function op(e){return e.tag===5||e.tag===3||e.tag===4}function eh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||op(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ma));else if(n!==4&&(e=e.child,e!==null))for(nc(e,t,r),e=e.sibling;e!==null;)nc(e,t,r),e=e.sibling}function sc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(sc(e,t,r),e=e.sibling;e!==null;)sc(e,t,r),e=e.sibling}var Te=null,St=!1;function dr(e,t,r){for(r=r.child;r!==null;)lp(e,t,r),r=r.sibling}function lp(e,t,r){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(ao,r)}catch{}switch(r.tag){case 5:De||Vn(r,t);case 6:var n=Te,i=St;Te=null,dr(e,t,r),Te=n,St=i,Te!==null&&(St?(e=Te,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Te.removeChild(r.stateNode));break;case 18:Te!==null&&(St?(e=Te,r=r.stateNode,e.nodeType===8?Xo(e.parentNode,r):e.nodeType===1&&Xo(e,r),li(e)):Xo(Te,r.stateNode));break;case 4:n=Te,i=St,Te=r.stateNode.containerInfo,St=!0,dr(e,t,r),Te=n,St=i;break;case 0:case 11:case 14:case 15:if(!De&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&tc(r,t,o),i=i.next}while(i!==n)}dr(e,t,r);break;case 1:if(!De&&(Vn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ye(r,t,l)}dr(e,t,r);break;case 21:dr(e,t,r);break;case 22:r.mode&1?(De=(n=De)||r.memoizedState!==null,dr(e,t,r),De=n):dr(e,t,r);break;default:dr(e,t,r)}}function th(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Zg),t.forEach(function(n){var i=cy.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function jt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Te=l.stateNode,St=!1;break e;case 3:Te=l.stateNode.containerInfo,St=!0;break e;case 4:Te=l.stateNode.containerInfo,St=!0;break e}l=l.return}if(Te===null)throw Error($(160));lp(a,o,i),Te=null,St=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ye(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cp(t,e),t=t.sibling}function cp(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),Ot(e),n&4){try{ei(3,e,e.return),po(3,e)}catch(v){ye(e,e.return,v)}try{ei(5,e,e.return)}catch(v){ye(e,e.return,v)}}break;case 1:jt(t,e),Ot(e),n&512&&r!==null&&Vn(r,r.return);break;case 5:if(jt(t,e),Ot(e),n&512&&r!==null&&Vn(r,r.return),e.flags&32){var i=e.stateNode;try{si(i,"")}catch(v){ye(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Lm(i,a),El(l,o);var u=El(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Mm(i,h):d==="dangerouslySetInnerHTML"?Om(i,h):d==="children"?si(i,h):Qc(i,d,h,u)}switch(l){case"input":Nl(i,a);break;case"textarea":Rm(i,a);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Un(i,!!a.multiple,g,!1):x!==!!a.multiple&&(a.defaultValue!=null?Un(i,!!a.multiple,a.defaultValue,!0):Un(i,!!a.multiple,a.multiple?[]:"",!1))}i[mi]=a}catch(v){ye(e,e.return,v)}}break;case 6:if(jt(t,e),Ot(e),n&4){if(e.stateNode===null)throw Error($(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){ye(e,e.return,v)}}break;case 3:if(jt(t,e),Ot(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{li(t.containerInfo)}catch(v){ye(e,e.return,v)}break;case 4:jt(t,e),Ot(e);break;case 13:jt(t,e),Ot(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Su=be())),n&4&&th(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(De=(u=De)||d,jt(t,e),De=u):jt(t,e),Ot(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(h=W=d;W!==null;){switch(x=W,g=x.child,x.tag){case 0:case 11:case 14:case 15:ei(4,x,x.return);break;case 1:Vn(x,x.return);var b=x.stateNode;if(typeof b.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){ye(n,r,v)}}break;case 5:Vn(x,x.return);break;case 22:if(x.memoizedState!==null){nh(h);continue}}g!==null?(g.return=x,W=g):nh(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Fm("display",o))}catch(v){ye(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ye(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jt(t,e),Ot(e),n&4&&th(e);break;case 21:break;default:jt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(op(r)){var n=r;break e}r=r.return}throw Error($(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(si(i,""),n.flags&=-33);var a=eh(e);sc(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=eh(e);nc(e,l,o);break;default:throw Error($(161))}}catch(c){ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ty(e,t,r){W=e,up(e)}function up(e,t,r){for(var n=(e.mode&1)!==0;W!==null;){var i=W,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Zi;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||De;l=Zi;var u=De;if(Zi=o,(De=c)&&!u)for(W=i;W!==null;)o=W,c=o.child,o.tag===22&&o.memoizedState!==null?sh(i):c!==null?(c.return=o,W=c):sh(i);for(;a!==null;)W=a,up(a),a=a.sibling;W=i,Zi=l,De=u}rh(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,W=a):rh(e)}}function rh(e){for(;W!==null;){var t=W;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||po(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!De)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Nt(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Id(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Id(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&li(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}De||t.flags&512&&rc(t)}catch(x){ye(t,t.return,x)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function nh(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function sh(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{po(4,t)}catch(c){ye(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){ye(t,i,c)}}var a=t.return;try{rc(t)}catch(c){ye(t,a,c)}break;case 5:var o=t.return;try{rc(t)}catch(c){ye(t,o,c)}}}catch(c){ye(t,t.return,c)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var ry=Math.ceil,Ha=ar.ReactCurrentDispatcher,_u=ar.ReactCurrentOwner,yt=ar.ReactCurrentBatchConfig,ne=0,Re=null,je=null,Oe=0,at=0,Wn=Hr(0),Se=0,vi=null,jn=0,xo=0,ku=0,ti=null,Ge=null,Su=0,xs=1/0,Ht=null,Qa=!1,ic=null,Dr=null,ea=!1,Lr=null,Ya=0,ri=0,ac=null,pa=-1,xa=0;function Ue(){return ne&6?be():pa!==-1?pa:pa=be()}function Br(e){return e.mode&1?ne&2&&Oe!==0?Oe&-Oe:$g.transition!==null?(xa===0&&(xa=Qm()),xa):(e=ae,e!==0||(e=window.event,e=e===void 0?16:ef(e.type)),e):1}function Lt(e,t,r,n){if(50<ri)throw ri=0,ac=null,Error($(185));Li(e,r,n),(!(ne&2)||e!==Re)&&(e===Re&&(!(ne&2)&&(xo|=r),Se===4&&yr(e,Oe)),et(e,n),r===1&&ne===0&&!(t.mode&1)&&(xs=be()+500,ho&&Qr()))}function et(e,t){var r=e.callbackNode;$x(e,t);var n=Ra(e,e===Re?Oe:0);if(n===0)r!==null&&md(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&md(r),t===1)e.tag===0?Bg(ih.bind(null,e)):bf(ih.bind(null,e)),Fg(function(){!(ne&6)&&Qr()}),r=null;else{switch(Ym(n)){case 1:r=Xc;break;case 4:r=Um;break;case 16:r=La;break;case 536870912:r=Hm;break;default:r=La}r=yp(r,dp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function dp(e,t){if(pa=-1,xa=0,ne&6)throw Error($(327));var r=e.callbackNode;if(Gn()&&e.callbackNode!==r)return null;var n=Ra(e,e===Re?Oe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ka(e,n);else{t=n;var i=ne;ne|=2;var a=mp();(Re!==e||Oe!==t)&&(Ht=null,xs=be()+500,xn(e,t));do try{iy();break}catch(l){hp(e,l)}while(!0);du(),Ha.current=a,ne=i,je!==null?t=0:(Re=null,Oe=0,t=Se)}if(t!==0){if(t===2&&(i=Ol(e),i!==0&&(n=i,t=oc(e,i))),t===1)throw r=vi,xn(e,0),yr(e,n),et(e,be()),r;if(t===6)yr(e,n);else{if(i=e.current.alternate,!(n&30)&&!ny(i)&&(t=Ka(e,n),t===2&&(a=Ol(e),a!==0&&(n=a,t=oc(e,a))),t===1))throw r=vi,xn(e,0),yr(e,n),et(e,be()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error($(345));case 2:Xr(e,Ge,Ht);break;case 3:if(yr(e,n),(n&130023424)===n&&(t=Su+500-be(),10<t)){if(Ra(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ue(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zl(Xr.bind(null,e,Ge,Ht),t);break}Xr(e,Ge,Ht);break;case 4:if(yr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Pt(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=be()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ry(n/1960))-n,10<n){e.timeoutHandle=zl(Xr.bind(null,e,Ge,Ht),n);break}Xr(e,Ge,Ht);break;case 5:Xr(e,Ge,Ht);break;default:throw Error($(329))}}}return et(e,be()),e.callbackNode===r?dp.bind(null,e):null}function oc(e,t){var r=ti;return e.current.memoizedState.isDehydrated&&(xn(e,t).flags|=256),e=Ka(e,t),e!==2&&(t=Ge,Ge=r,t!==null&&lc(t)),e}function lc(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function ny(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Rt(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yr(e,t){for(t&=~ku,t&=~xo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pt(t),n=1<<r;e[r]=-1,t&=~n}}function ih(e){if(ne&6)throw Error($(327));Gn();var t=Ra(e,0);if(!(t&1))return et(e,be()),null;var r=Ka(e,t);if(e.tag!==0&&r===2){var n=Ol(e);n!==0&&(t=n,r=oc(e,n))}if(r===1)throw r=vi,xn(e,0),yr(e,t),et(e,be()),r;if(r===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xr(e,Ge,Ht),et(e,be()),null}function Cu(e,t){var r=ne;ne|=1;try{return e(t)}finally{ne=r,ne===0&&(xs=be()+500,ho&&Qr())}}function Nn(e){Lr!==null&&Lr.tag===0&&!(ne&6)&&Gn();var t=ne;ne|=1;var r=yt.transition,n=ae;try{if(yt.transition=null,ae=1,e)return e()}finally{ae=n,yt.transition=r,ne=t,!(ne&6)&&Qr()}}function Eu(){at=Wn.current,de(Wn)}function xn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Og(r)),je!==null)for(r=je.return;r!==null;){var n=r;switch(lu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Aa();break;case 3:fs(),de(Xe),de(Ie),gu();break;case 5:xu(n);break;case 4:fs();break;case 13:de(fe);break;case 19:de(fe);break;case 10:hu(n.type._context);break;case 22:case 23:Eu()}r=r.return}if(Re=e,je=e=$r(e.current,null),Oe=at=t,Se=0,vi=null,ku=xo=jn=0,Ge=ti=null,rn!==null){for(t=0;t<rn.length;t++)if(r=rn[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}rn=null}return e}function hp(e,t){do{var r=je;try{if(du(),ha.current=Ua,Wa){for(var n=pe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Wa=!1}if(wn=0,Le=_e=pe=null,Zs=!1,xi=0,_u.current=null,r===null||r.return===null){Se=1,vi=t,je=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Oe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var x=d.alternate;x?(d.updateQueue=x.updateQueue,d.memoizedState=x.memoizedState,d.lanes=x.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Hd(o);if(g!==null){g.flags&=-257,Qd(g,o,l,a,t),g.mode&1&&Ud(a,u,t),t=g,c=u;var b=t.updateQueue;if(b===null){var v=new Set;v.add(c),t.updateQueue=v}else b.add(c);break e}else{if(!(t&1)){Ud(a,u,t),Pu();break e}c=Error($(426))}}else if(me&&l.mode&1){var k=Hd(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Qd(k,o,l,a,t),cu(ps(c,l));break e}}a=c=ps(c,l),Se!==4&&(Se=2),ti===null?ti=[a]:ti.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=Kf(a,c,t);$d(a,p);break e;case 1:l=c;var m=a.type,f=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Dr===null||!Dr.has(f)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=Gf(a,l,t);$d(a,_);break e}}a=a.return}while(a!==null)}pp(r)}catch(E){t=E,je===r&&r!==null&&(je=r=r.return);continue}break}while(!0)}function mp(){var e=Ha.current;return Ha.current=Ua,e===null?Ua:e}function Pu(){(Se===0||Se===3||Se===2)&&(Se=4),Re===null||!(jn&268435455)&&!(xo&268435455)||yr(Re,Oe)}function Ka(e,t){var r=ne;ne|=2;var n=mp();(Re!==e||Oe!==t)&&(Ht=null,xn(e,t));do try{sy();break}catch(i){hp(e,i)}while(!0);if(du(),ne=r,Ha.current=n,je!==null)throw Error($(261));return Re=null,Oe=0,Se}function sy(){for(;je!==null;)fp(je)}function iy(){for(;je!==null&&!Lx();)fp(je)}function fp(e){var t=gp(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?pp(e):je=t,_u.current=null}function pp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Xg(r,t),r!==null){r.flags&=32767,je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,je=null;return}}else if(r=Jg(r,t,at),r!==null){je=r;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Se===0&&(Se=5)}function Xr(e,t,r){var n=ae,i=yt.transition;try{yt.transition=null,ae=1,ay(e,t,r,n)}finally{yt.transition=i,ae=n}return null}function ay(e,t,r,n){do Gn();while(Lr!==null);if(ne&6)throw Error($(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Ix(e,a),e===Re&&(je=Re=null,Oe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ea||(ea=!0,yp(La,function(){return Gn(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=yt.transition,yt.transition=null;var o=ae;ae=1;var l=ne;ne|=4,_u.current=null,ey(e,r),cp(r,e),Sg($l),Ta=!!Bl,$l=Bl=null,e.current=r,ty(r),Rx(),ne=l,ae=o,yt.transition=a}else e.current=r;if(ea&&(ea=!1,Lr=e,Ya=i),a=e.pendingLanes,a===0&&(Dr=null),Fx(r.stateNode),et(e,be()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Qa)throw Qa=!1,e=ic,ic=null,e;return Ya&1&&e.tag!==0&&Gn(),a=e.pendingLanes,a&1?e===ac?ri++:(ri=0,ac=e):ri=0,Qr(),null}function Gn(){if(Lr!==null){var e=Ym(Ya),t=yt.transition,r=ae;try{if(yt.transition=null,ae=16>e?16:e,Lr===null)var n=!1;else{if(e=Lr,Lr=null,Ya=0,ne&6)throw Error($(331));var i=ne;for(ne|=4,W=e.current;W!==null;){var a=W,o=a.child;if(W.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(W=u;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:ei(8,d,a)}var h=d.child;if(h!==null)h.return=d,W=h;else for(;W!==null;){d=W;var x=d.sibling,g=d.return;if(ap(d),d===u){W=null;break}if(x!==null){x.return=g,W=x;break}W=g}}}var b=a.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var k=v.sibling;v.sibling=null,v=k}while(v!==null)}}W=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,W=o;else e:for(;W!==null;){if(a=W,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ei(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,W=p;break e}W=a.return}}var m=e.current;for(W=m;W!==null;){o=W;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,W=f;else e:for(o=m;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:po(9,l)}}catch(E){ye(l,l.return,E)}if(l===o){W=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,W=_;break e}W=l.return}}if(ne=i,Qr(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(ao,e)}catch{}n=!0}return n}finally{ae=r,yt.transition=t}}return!1}function ah(e,t,r){t=ps(r,t),t=Kf(e,t,1),e=Ar(e,t,1),t=Ue(),e!==null&&(Li(e,1,t),et(e,t))}function ye(e,t,r){if(e.tag===3)ah(e,e,r);else for(;t!==null;){if(t.tag===3){ah(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Dr===null||!Dr.has(n))){e=ps(r,e),e=Gf(t,e,1),t=Ar(t,e,1),e=Ue(),t!==null&&(Li(t,1,e),et(t,e));break}}t=t.return}}function oy(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&r,Re===e&&(Oe&r)===r&&(Se===4||Se===3&&(Oe&130023424)===Oe&&500>be()-Su?xn(e,0):ku|=r),et(e,t)}function xp(e,t){t===0&&(e.mode&1?(t=Wi,Wi<<=1,!(Wi&130023424)&&(Wi=4194304)):t=1);var r=Ue();e=nr(e,t),e!==null&&(Li(e,t,r),et(e,r))}function ly(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),xp(e,r)}function cy(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error($(314))}n!==null&&n.delete(t),xp(e,r)}var gp;gp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Je=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Je=!1,Gg(e,t,r);Je=!!(e.flags&131072)}else Je=!1,me&&t.flags&1048576&&wf(t,$a,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;fa(e,t),e=t.pendingProps;var i=ds(t,Ie.current);Kn(t,r),i=vu(null,t,n,e,i,r);var a=bu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(n)?(a=!0,Da(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fu(t),i.updater=fo,t.stateNode=i,i._reactInternals=t,Yl(t,n,e,r),t=Jl(null,t,n,!0,a,r)):(t.tag=0,me&&a&&ou(t),Ve(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(fa(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=dy(n),e=Nt(n,e),i){case 0:t=Gl(null,t,n,e,r);break e;case 1:t=Gd(null,t,n,e,r);break e;case 11:t=Yd(null,t,n,e,r);break e;case 14:t=Kd(null,t,n,Nt(n.type,e),r);break e}throw Error($(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Nt(n,i),Gl(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Nt(n,i),Gd(e,t,n,i,r);case 3:e:{if(ep(t),e===null)throw Error($(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Cf(e,t),qa(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ps(Error($(423)),t),t=Jd(e,t,n,r,i);break e}else if(n!==i){i=ps(Error($(424)),t),t=Jd(e,t,n,r,i);break e}else for(ot=Mr(t.stateNode.containerInfo.firstChild),lt=t,me=!0,Et=null,r=kf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hs(),n===i){t=sr(e,t,r);break e}Ve(e,t,n,r)}t=t.child}return t;case 5:return Ef(t),e===null&&Ul(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Il(n,i)?o=null:a!==null&&Il(n,a)&&(t.flags|=32),Zf(e,t),Ve(e,t,o,r),t.child;case 6:return e===null&&Ul(t),null;case 13:return tp(e,t,r);case 4:return pu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ms(t,null,n,r):Ve(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Nt(n,i),Yd(e,t,n,i,r);case 7:return Ve(e,t,t.pendingProps,r),t.child;case 8:return Ve(e,t,t.pendingProps.children,r),t.child;case 12:return Ve(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ce(Ia,n._currentValue),n._currentValue=o,a!==null)if(Rt(a.value,o)){if(a.children===i.children&&!Xe.current){t=sr(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Zt(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Hl(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error($(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Hl(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ve(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Kn(t,r),i=vt(i),n=n(i),t.flags|=1,Ve(e,t,n,r),t.child;case 14:return n=t.type,i=Nt(n,t.pendingProps),i=Nt(n.type,i),Kd(e,t,n,i,r);case 15:return Jf(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Nt(n,i),fa(e,t),t.tag=1,Ze(n)?(e=!0,Da(t)):e=!1,Kn(t,r),Yf(t,n,i),Yl(t,n,i,r),Jl(null,t,n,!0,e,r);case 19:return rp(e,t,r);case 22:return Xf(e,t,r)}throw Error($(156,t.tag))};function yp(e,t){return Wm(e,t)}function uy(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,r,n){return new uy(e,t,r,n)}function Lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dy(e){if(typeof e=="function")return Lu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kc)return 11;if(e===Gc)return 14}return 2}function $r(e,t){var r=e.alternate;return r===null?(r=gt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ga(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")Lu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fn:return gn(r.children,i,a,t);case Yc:o=8,i|=8;break;case yl:return e=gt(12,r,t,i|2),e.elementType=yl,e.lanes=a,e;case vl:return e=gt(13,r,t,i),e.elementType=vl,e.lanes=a,e;case bl:return e=gt(19,r,t,i),e.elementType=bl,e.lanes=a,e;case Cm:return go(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case km:o=10;break e;case Sm:o=9;break e;case Kc:o=11;break e;case Gc:o=14;break e;case fr:o=16,n=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=gt(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function gn(e,t,r,n){return e=gt(7,e,n,t),e.lanes=r,e}function go(e,t,r,n){return e=gt(22,e,n,t),e.elementType=Cm,e.lanes=r,e.stateNode={isHidden:!1},e}function al(e,t,r){return e=gt(6,e,null,t),e.lanes=r,e}function ol(e,t,r){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hy(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zo(0),this.expirationTimes=zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zo(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ru(e,t,r,n,i,a,o,l,c){return e=new hy(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=gt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},fu(a),e}function my(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:On,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function vp(e){if(!e)return Wr;e=e._reactInternals;e:{if(En(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var r=e.type;if(Ze(r))return vf(e,r,t)}return t}function bp(e,t,r,n,i,a,o,l,c){return e=Ru(r,n,!0,e,i,a,o,l,c),e.context=vp(null),r=e.current,n=Ue(),i=Br(r),a=Zt(n,i),a.callback=t??null,Ar(r,a,i),e.current.lanes=i,Li(e,i,n),et(e,n),e}function yo(e,t,r,n){var i=t.current,a=Ue(),o=Br(i);return r=vp(r),t.context===null?t.context=r:t.pendingContext=r,t=Zt(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ar(i,t,o),e!==null&&(Lt(e,i,o,a),da(e,i,o)),o}function Ga(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Tu(e,t){oh(e,t),(e=e.alternate)&&oh(e,t)}function fy(){return null}var wp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ou(e){this._internalRoot=e}vo.prototype.render=Ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));yo(e,t,null,null)};vo.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nn(function(){yo(null,e,null,null)}),t[rr]=null}};function vo(e){this._internalRoot=e}vo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jm();e={blockedOn:null,target:e,priority:t};for(var r=0;r<gr.length&&t!==0&&t<gr[r].priority;r++);gr.splice(r,0,e),r===0&&Zm(e)}};function Fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lh(){}function py(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Ga(o);a.call(u)}}var o=bp(t,n,e,0,null,!1,!1,"",lh);return e._reactRootContainer=o,e[rr]=o.current,di(e.nodeType===8?e.parentNode:e),Nn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=Ga(c);l.call(u)}}var c=Ru(e,0,!1,null,null,!1,!1,"",lh);return e._reactRootContainer=c,e[rr]=c.current,di(e.nodeType===8?e.parentNode:e),Nn(function(){yo(t,c,r,n)}),c}function wo(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Ga(o);l.call(c)}}yo(t,o,e,i)}else o=py(r,t,e,i,n);return Ga(o)}Km=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ws(t.pendingLanes);r!==0&&(Zc(t,r|1),et(t,be()),!(ne&6)&&(xs=be()+500,Qr()))}break;case 13:Nn(function(){var n=nr(e,1);if(n!==null){var i=Ue();Lt(n,e,1,i)}}),Tu(e,1)}};eu=function(e){if(e.tag===13){var t=nr(e,134217728);if(t!==null){var r=Ue();Lt(t,e,134217728,r)}Tu(e,134217728)}};Gm=function(e){if(e.tag===13){var t=Br(e),r=nr(e,t);if(r!==null){var n=Ue();Lt(r,e,t,n)}Tu(e,t)}};Jm=function(){return ae};Xm=function(e,t){var r=ae;try{return ae=e,t()}finally{ae=r}};Ll=function(e,t,r){switch(t){case"input":if(Nl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=uo(n);if(!i)throw Error($(90));Pm(n),Nl(n,i)}}}break;case"textarea":Rm(e,r);break;case"select":t=r.value,t!=null&&Un(e,!!r.multiple,t,!1)}};Bm=Cu;$m=Nn;var xy={usingClientEntryPoint:!1,Events:[Ti,Bn,uo,Am,Dm,Cu]},As={findFiberByHostInstance:tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gy={bundleType:As.bundleType,version:As.version,rendererPackageName:As.rendererPackageName,rendererConfig:As.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qm(e),e===null?null:e.stateNode},findFiberByHostInstance:As.findFiberByHostInstance||fy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{ao=ta.inject(gy),zt=ta}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xy;ut.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fu(t))throw Error($(200));return my(e,t,null,r)};ut.createRoot=function(e,t){if(!Fu(e))throw Error($(299));var r=!1,n="",i=wp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ru(e,1,!1,null,null,r,!1,n,i),e[rr]=t.current,di(e.nodeType===8?e.parentNode:e),new Ou(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=qm(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return Nn(e)};ut.hydrate=function(e,t,r){if(!bo(t))throw Error($(200));return wo(null,e,t,!0,r)};ut.hydrateRoot=function(e,t,r){if(!Fu(e))throw Error($(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=wp;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=bp(t,null,e,1,r??null,i,!1,a,o),e[rr]=t.current,di(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new vo(t)};ut.render=function(e,t,r){if(!bo(t))throw Error($(200));return wo(null,e,t,!1,r)};ut.unmountComponentAtNode=function(e){if(!bo(e))throw Error($(40));return e._reactRootContainer?(Nn(function(){wo(null,null,e,!1,function(){e._reactRootContainer=null,e[rr]=null})}),!0):!1};ut.unstable_batchedUpdates=Cu;ut.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!bo(r))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return wo(e,t,r,!1,n)};ut.version="18.3.1-next-f1338f8080-20240426";function jp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jp)}catch(e){console.error(e)}}jp(),wm.exports=ut;var yy=wm.exports,Np,ch=yy;Np=ch.createRoot,ch.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(this,arguments)}var Rr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rr||(Rr={}));const uh="popstate";function vy(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:l}=n.location;return cc("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ja(i)}return wy(t,r,null,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _p(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function by(){return Math.random().toString(36).substr(2,8)}function dh(e,t){return{usr:e.state,key:e.key,idx:t}}function cc(e,t,r,n){return r===void 0&&(r=null),bi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bs(t):t,{state:r,key:t&&t.key||n||by()})}function Ja(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function wy(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=Rr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(bi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Rr.Pop;let k=d(),p=k==null?null:k-u;u=k,c&&c({action:l,location:v.location,delta:p})}function x(k,p){l=Rr.Push;let m=cc(v.location,k,p);u=d()+1;let f=dh(m,u),_=v.createHref(m);try{o.pushState(f,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(_)}a&&c&&c({action:l,location:v.location,delta:1})}function g(k,p){l=Rr.Replace;let m=cc(v.location,k,p);u=d();let f=dh(m,u),_=v.createHref(m);o.replaceState(f,"",_),a&&c&&c({action:l,location:v.location,delta:0})}function b(k){let p=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof k=="string"?k:Ja(k);return m=m.replace(/ $/,"%20"),we(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let v={get action(){return l},get location(){return e(i,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(uh,h),c=k,()=>{i.removeEventListener(uh,h),c=null}},createHref(k){return t(i,k)},createURL:b,encodeLocation(k){let p=b(k);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:x,replace:g,go(k){return o.go(k)}};return v}var hh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hh||(hh={}));function jy(e,t,r){return r===void 0&&(r="/"),Ny(e,t,r)}function Ny(e,t,r,n){let i=typeof t=="string"?bs(t):t,a=Mu(i.pathname||"/",r);if(a==null)return null;let o=kp(e);_y(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Ay(a);l=Oy(o[c],u)}return l}function kp(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(we(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ir([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(we(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kp(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Ry(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of Sp(a.path))i(a,o,c)}),t}function Sp(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=Sp(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function _y(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Ty(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ky=/^:[\w-]+$/,Sy=3,Cy=2,Ey=1,Py=10,Ly=-2,mh=e=>e==="*";function Ry(e,t){let r=e.split("/"),n=r.length;return r.some(mh)&&(n+=Ly),t&&(n+=Cy),r.filter(i=>!mh(i)).reduce((i,a)=>i+(ky.test(a)?Sy:a===""?Ey:Py),n)}function Ty(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Oy(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=Fy({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),x=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ir([a,h.pathname]),pathnameBase:Iy(Ir([a,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(a=Ir([a,h.pathnameBase]))}return o}function Fy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=My(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:x,isOptional:g}=d;if(x==="*"){let v=l[h]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const b=l[h];return g&&!b?u[x]=void 0:u[x]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function My(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),_p(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Ay(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _p(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Mu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Dy(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?bs(e):e;return{pathname:r?r.startsWith("/")?r:By(r,t):t,search:zy(n),hash:qy(i)}}function By(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ll(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $y(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Au(e,t){let r=$y(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Du(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=bs(e):(i=bi({},e),we(!i.pathname||!i.pathname.includes("?"),ll("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),ll("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),ll("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),h-=1;i.pathname=x.join("/")}l=h>=0?t[h]:"/"}let c=Dy(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ir=e=>e.join("/").replace(/\/\/+/g,"/"),Iy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Vy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cp=["post","put","patch","delete"];new Set(Cp);const Wy=["get",...Cp];new Set(Wy);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wi.apply(this,arguments)}const Bu=S.createContext(null),Uy=S.createContext(null),Yr=S.createContext(null),jo=S.createContext(null),or=S.createContext({outlet:null,matches:[],isDataRoute:!1}),Ep=S.createContext(null);function Hy(e,t){let{relative:r}=t===void 0?{}:t;ws()||we(!1);let{basename:n,navigator:i}=S.useContext(Yr),{hash:a,pathname:o,search:l}=Lp(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ir([n,o])),i.createHref({pathname:c,search:l,hash:a})}function ws(){return S.useContext(jo)!=null}function Pn(){return ws()||we(!1),S.useContext(jo).location}function Pp(e){S.useContext(Yr).static||S.useLayoutEffect(e)}function lr(){let{isDataRoute:e}=S.useContext(or);return e?iv():Qy()}function Qy(){ws()||we(!1);let e=S.useContext(Bu),{basename:t,future:r,navigator:n}=S.useContext(Yr),{matches:i}=S.useContext(or),{pathname:a}=Pn(),o=JSON.stringify(Au(i,r.v7_relativeSplatPath)),l=S.useRef(!1);return Pp(()=>{l.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Du(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ir([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,a,e])}function $u(){let{matches:e}=S.useContext(or),t=e[e.length-1];return t?t.params:{}}function Lp(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=S.useContext(Yr),{matches:i}=S.useContext(or),{pathname:a}=Pn(),o=JSON.stringify(Au(i,n.v7_relativeSplatPath));return S.useMemo(()=>Du(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function Yy(e,t){return Ky(e,t)}function Ky(e,t,r,n){ws()||we(!1);let{navigator:i}=S.useContext(Yr),{matches:a}=S.useContext(or),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Pn(),d;if(t){var h;let k=typeof t=="string"?bs(t):t;c==="/"||(h=k.pathname)!=null&&h.startsWith(c)||we(!1),d=k}else d=u;let x=d.pathname||"/",g=x;if(c!=="/"){let k=c.replace(/^\//,"").split("/");g="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let b=jy(e,{pathname:g}),v=ev(b&&b.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:Ir([c,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:Ir([c,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,r,n);return t&&v?S.createElement(jo.Provider,{value:{location:wi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Rr.Pop}},v):v}function Gy(){let e=sv(),t=Vy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:i},r):null,null)}const Jy=S.createElement(Gy,null);class Xy extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?S.createElement(or.Provider,{value:this.props.routeContext},S.createElement(Ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zy(e){let{routeContext:t,match:r,children:n}=e,i=S.useContext(Bu);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(or.Provider,{value:t},n)}function ev(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||we(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:x,errors:g}=r,b=h.route.loader&&x[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,x)=>{let g,b=!1,v=null,k=null;r&&(g=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||Jy,c&&(u<0&&x===0?(av("route-fallback"),b=!0,k=null):u===x&&(b=!0,k=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,x+1)),m=()=>{let f;return g?f=v:b?f=k:h.route.Component?f=S.createElement(h.route.Component,null):h.route.element?f=h.route.element:f=d,S.createElement(Zy,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:f})};return r&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?S.createElement(Xy,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var Rp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rp||{}),Tp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Tp||{});function tv(e){let t=S.useContext(Bu);return t||we(!1),t}function rv(e){let t=S.useContext(Uy);return t||we(!1),t}function nv(e){let t=S.useContext(or);return t||we(!1),t}function Op(e){let t=nv(),r=t.matches[t.matches.length-1];return r.route.id||we(!1),r.route.id}function sv(){var e;let t=S.useContext(Ep),r=rv(),n=Op();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function iv(){let{router:e}=tv(Rp.UseNavigateStable),t=Op(Tp.UseNavigateStable),r=S.useRef(!1);return Pp(()=>{r.current=!0}),S.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,wi({fromRouteId:t},a)))},[e,t])}const fh={};function av(e,t,r){fh[e]||(fh[e]=!0)}function ov(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Fp(e){let{to:t,replace:r,state:n,relative:i}=e;ws()||we(!1);let{future:a,static:o}=S.useContext(Yr),{matches:l}=S.useContext(or),{pathname:c}=Pn(),u=lr(),d=Du(t,Au(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return S.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function Ee(e){we(!1)}function lv(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Rr.Pop,navigator:a,static:o=!1,future:l}=e;ws()&&we(!1);let c=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:a,static:o,future:wi({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=bs(n));let{pathname:d="/",search:h="",hash:x="",state:g=null,key:b="default"}=n,v=S.useMemo(()=>{let k=Mu(d,c);return k==null?null:{location:{pathname:k,search:h,hash:x,state:g,key:b},navigationType:i}},[c,d,h,x,g,b,i]);return v==null?null:S.createElement(Yr.Provider,{value:u},S.createElement(jo.Provider,{children:r,value:v}))}function cv(e){let{children:t,location:r}=e;return Yy(uc(t),r)}new Promise(()=>{});function uc(e,t){t===void 0&&(t=[]);let r=[];return S.Children.forEach(e,(n,i)=>{if(!S.isValidElement(n))return;let a=[...t,i];if(n.type===S.Fragment){r.push.apply(r,uc(n.props.children,a));return}n.type!==Ee&&we(!1),!n.props.index||!n.props.children||we(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=uc(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dc.apply(this,arguments)}function uv(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function dv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hv(e,t){return e.button===0&&(!t||t==="_self")&&!dv(e)}function hc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function mv(e,t){let r=hc(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const fv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],pv="6";try{window.__reactRouterVersion=pv}catch{}const xv="startTransition",ph=ox[xv];function gv(e){let{basename:t,children:r,future:n,window:i}=e,a=S.useRef();a.current==null&&(a.current=vy({window:i,v5Compat:!0}));let o=a.current,[l,c]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=S.useCallback(h=>{u&&ph?ph(()=>c(h)):c(h)},[c,u]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.useEffect(()=>ov(n),[n]),S.createElement(lv,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const yv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U=S.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,x=uv(t,fv),{basename:g}=S.useContext(Yr),b,v=!1;if(typeof u=="string"&&vv.test(u)&&(b=u,yv))try{let f=new URL(window.location.href),_=u.startsWith("//")?new URL(f.protocol+u):new URL(u),E=Mu(_.pathname,g);_.origin===f.origin&&E!=null?u=E+_.search+_.hash:v=!0}catch{}let k=Hy(u,{relative:i}),p=bv(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function m(f){n&&n(f),f.defaultPrevented||p(f)}return S.createElement("a",dc({},x,{href:b||k,onClick:v||a?n:m,ref:r,target:c}))});var xh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xh||(xh={}));var gh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gh||(gh={}));function bv(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=lr(),u=Pn(),d=Lp(e,{relative:o});return S.useCallback(h=>{if(hv(h,r)){h.preventDefault();let x=n!==void 0?n:Ja(u)===Ja(d);c(e,{replace:x,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,i,r,e,a,o,l])}function js(e){let t=S.useRef(hc(e)),r=S.useRef(!1),n=Pn(),i=S.useMemo(()=>mv(n.search,r.current?null:t.current),[n.search]),a=lr(),o=S.useCallback((l,c)=>{const u=hc(typeof l=="function"?l(i):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,o]}var Ns=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wv={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},vr,Ic,Zh,jv=(Zh=class{constructor(){Y(this,vr,wv);Y(this,Ic,!1)}setTimeoutProvider(e){V(this,vr,e)}setTimeout(e,t){return N(this,vr).setTimeout(e,t)}clearTimeout(e){N(this,vr).clearTimeout(e)}setInterval(e,t){return N(this,vr).setInterval(e,t)}clearInterval(e){N(this,vr).clearInterval(e)}},vr=new WeakMap,Ic=new WeakMap,Zh),sn=new jv;function Nv(e){setTimeout(e,0)}var _n=typeof window>"u"||"Deno"in globalThis;function We(){}function _v(e,t){return typeof e=="function"?e(t):e}function mc(e){return typeof e=="number"&&e>=0&&e!==1/0}function Mp(e,t){return Math.max(e+(t||0)-Date.now(),0)}function zr(e,t){return typeof e=="function"?e(t):e}function mt(e,t){return typeof e=="function"?e(t):e}function yh(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Iu(o,t.options))return!1}else if(!ji(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function vh(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(kn(t.options.mutationKey)!==kn(a))return!1}else if(!ji(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function Iu(e,t){return((t==null?void 0:t.queryKeyHashFn)||kn)(e)}function kn(e){return JSON.stringify(e,(t,r)=>fc(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function ji(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ji(e[r],t[r])):!1}var kv=Object.prototype.hasOwnProperty;function Ap(e,t){if(e===t)return e;const r=bh(e)&&bh(t);if(!r&&!(fc(e)&&fc(t)))return t;const i=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),o=a.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u],h=e[d],x=t[d];if(h===x){l[d]=h,(r?u<i:kv.call(e,d))&&c++;continue}if(h===null||x===null||typeof h!="object"||typeof x!="object"){l[d]=x;continue}const g=Ap(h,x);l[d]=g,g===h&&c++}return i===o&&c===i?e:l}function Xa(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function bh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fc(e){if(!wh(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!wh(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function wh(e){return Object.prototype.toString.call(e)==="[object Object]"}function Sv(e){return new Promise(t=>{sn.setTimeout(t,e)})}function pc(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Ap(e,t):t}function Cv(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Ev(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var zu=Symbol();function Dp(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===zu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Bp(e,t){return typeof e=="function"?e(...t):!!e}var on,br,Xn,em,Pv=(em=class extends Ns{constructor(){super();Y(this,on);Y(this,br);Y(this,Xn);V(this,Xn,t=>{if(!_n&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,br)||this.setEventListener(N(this,Xn))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,br))==null||t.call(this),V(this,br,void 0))}setEventListener(t){var r;V(this,Xn,t),(r=N(this,br))==null||r.call(this),V(this,br,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){N(this,on)!==t&&(V(this,on,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof N(this,on)=="boolean"?N(this,on):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},on=new WeakMap,br=new WeakMap,Xn=new WeakMap,em),qu=new Pv;function xc(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}var Lv=Nv;function Rv(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=Lv;const a=l=>{t?e.push(l):i(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var ke=Rv(),Zn,wr,es,tm,Tv=(tm=class extends Ns{constructor(){super();Y(this,Zn,!0);Y(this,wr);Y(this,es);V(this,es,t=>{if(!_n&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,wr)||this.setEventListener(N(this,es))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,wr))==null||t.call(this),V(this,wr,void 0))}setEventListener(t){var r;V(this,es,t),(r=N(this,wr))==null||r.call(this),V(this,wr,t(this.setOnline.bind(this)))}setOnline(t){N(this,Zn)!==t&&(V(this,Zn,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return N(this,Zn)}},Zn=new WeakMap,wr=new WeakMap,es=new WeakMap,tm),Za=new Tv;function Ov(e){return Math.min(1e3*2**e,3e4)}function $p(e){return(e??"online")==="online"?Za.isOnline():!0}var gc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ip(e){let t=!1,r=0,n;const i=xc(),a=()=>i.status!=="pending",o=v=>{var k;if(!a()){const p=new gc(v);x(p),(k=e.onCancel)==null||k.call(e,p)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>qu.isFocused()&&(e.networkMode==="always"||Za.isOnline())&&e.canRun(),d=()=>$p(e.networkMode)&&e.canRun(),h=v=>{a()||(n==null||n(),i.resolve(v))},x=v=>{a()||(n==null||n(),i.reject(v))},g=()=>new Promise(v=>{var k;n=p=>{(a()||u())&&v(p)},(k=e.onPause)==null||k.call(e)}).then(()=>{var v;n=void 0,a()||(v=e.onContinue)==null||v.call(e)}),b=()=>{if(a())return;let v;const k=r===0?e.initialPromise:void 0;try{v=k??e.fn()}catch(p){v=Promise.reject(p)}Promise.resolve(v).then(h).catch(p=>{var w;if(a())return;const m=e.retry??(_n?0:3),f=e.retryDelay??Ov,_=typeof f=="function"?f(r,p):f,E=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,p);if(t||!E){x(p);return}r++,(w=e.onFail)==null||w.call(e,r,p),Sv(_).then(()=>u()?void 0:g()).then(()=>{t?x(p):b()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?b():g().then(b),i)}}var ln,rm,zp=(rm=class{constructor(){Y(this,ln)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mc(this.gcTime)&&V(this,ln,sn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_n?1/0:5*60*1e3))}clearGcTimeout(){N(this,ln)&&(sn.clearTimeout(N(this,ln)),V(this,ln,void 0))}},ln=new WeakMap,rm),cn,ts,ht,un,Pe,ki,dn,_t,Ut,nm,Fv=(nm=class extends zp{constructor(t){super();Y(this,_t);Y(this,cn);Y(this,ts);Y(this,ht);Y(this,un);Y(this,Pe);Y(this,ki);Y(this,dn);V(this,dn,!1),V(this,ki,t.defaultOptions),this.setOptions(t.options),this.observers=[],V(this,un,t.client),V(this,ht,N(this,un).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,V(this,cn,jh(this.options)),this.state=t.state??N(this,cn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,Pe))==null?void 0:t.promise}setOptions(t){if(this.options={...N(this,ki),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=jh(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),V(this,cn,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,ht).remove(this)}setData(t,r){const n=pc(this.state.data,t,this.options);return X(this,_t,Ut).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){X(this,_t,Ut).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=N(this,Pe))==null?void 0:n.promise;return(i=N(this,Pe))==null||i.cancel(t),r?r.then(We).catch(We):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,cn))}isActive(){return this.observers.some(t=>mt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>zr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Mp(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,Pe))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,Pe))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,ht).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(N(this,Pe)&&(N(this,dn)?N(this,Pe).cancel({revert:!0}):N(this,Pe).cancelRetry()),this.scheduleGc()),N(this,ht).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||X(this,_t,Ut).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,h,x,g,b,v,k,p,m,f;if(this.state.fetchStatus!=="idle"&&((c=N(this,Pe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,Pe))return N(this,Pe).continueRetry(),N(this,Pe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(E=>E.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,i=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(V(this,dn,!0),n.signal)})},a=()=>{const _=Dp(this.options,r),w=(()=>{const j={client:N(this,un),queryKey:this.queryKey,meta:this.meta};return i(j),j})();return V(this,dn,!1),this.options.persister?this.options.persister(_,w,this):_(w)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:N(this,un),state:this.state,fetchFn:a};return i(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),V(this,ts,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&X(this,_t,Ut).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),V(this,Pe,Ip({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof gc&&_.revert&&this.setState({...N(this,ts),fetchStatus:"idle"}),n.abort()},onFail:(_,E)=>{X(this,_t,Ut).call(this,{type:"failed",failureCount:_,error:E})},onPause:()=>{X(this,_t,Ut).call(this,{type:"pause"})},onContinue:()=>{X(this,_t,Ut).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await N(this,Pe).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(g=(x=N(this,ht).config).onSuccess)==null||g.call(x,_,this),(v=(b=N(this,ht).config).onSettled)==null||v.call(b,_,this.state.error,this),_}catch(_){if(_ instanceof gc){if(_.silent)return N(this,Pe).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw X(this,_t,Ut).call(this,{type:"error",error:_}),(p=(k=N(this,ht).config).onError)==null||p.call(k,_,this),(f=(m=N(this,ht).config).onSettled)==null||f.call(m,this.state.data,_,this),_}finally{this.scheduleGc()}}},cn=new WeakMap,ts=new WeakMap,ht=new WeakMap,un=new WeakMap,Pe=new WeakMap,ki=new WeakMap,dn=new WeakMap,_t=new WeakSet,Ut=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...qp(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return V(this,ts,t.manual?i:void 0),i;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ke.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,ht).notify({query:this,type:"updated",action:t})})},nm);function qp(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$p(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jh(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ye,ee,Si,ze,hn,rs,Yt,jr,Ci,ns,ss,mn,fn,Nr,is,se,Hs,yc,vc,bc,wc,jc,Nc,_c,Vp,sm,Mv=(sm=class extends Ns{constructor(t,r){super();Y(this,se);Y(this,Ye);Y(this,ee);Y(this,Si);Y(this,ze);Y(this,hn);Y(this,rs);Y(this,Yt);Y(this,jr);Y(this,Ci);Y(this,ns);Y(this,ss);Y(this,mn);Y(this,fn);Y(this,Nr);Y(this,is,new Set);this.options=r,V(this,Ye,t),V(this,jr,null),V(this,Yt,xc()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,ee).addObserver(this),Nh(N(this,ee),this.options)?X(this,se,Hs).call(this):this.updateResult(),X(this,se,wc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kc(N(this,ee),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kc(N(this,ee),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,X(this,se,jc).call(this),X(this,se,Nc).call(this),N(this,ee).removeObserver(this)}setOptions(t){const r=this.options,n=N(this,ee);if(this.options=N(this,Ye).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mt(this.options.enabled,N(this,ee))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");X(this,se,_c).call(this),N(this,ee).setOptions(this.options),r._defaulted&&!Xa(this.options,r)&&N(this,Ye).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,ee),observer:this});const i=this.hasListeners();i&&_h(N(this,ee),n,this.options,r)&&X(this,se,Hs).call(this),this.updateResult(),i&&(N(this,ee)!==n||mt(this.options.enabled,N(this,ee))!==mt(r.enabled,N(this,ee))||zr(this.options.staleTime,N(this,ee))!==zr(r.staleTime,N(this,ee)))&&X(this,se,yc).call(this);const a=X(this,se,vc).call(this);i&&(N(this,ee)!==n||mt(this.options.enabled,N(this,ee))!==mt(r.enabled,N(this,ee))||a!==N(this,Nr))&&X(this,se,bc).call(this,a)}getOptimisticResult(t){const r=N(this,Ye).getQueryCache().build(N(this,Ye),t),n=this.createResult(r,t);return Dv(this,n)&&(V(this,ze,n),V(this,rs,this.options),V(this,hn,N(this,ee).state)),n}getCurrentResult(){return N(this,ze)}trackResult(t,r){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&!this.options.experimental_prefetchInRender&&N(this,Yt).status==="pending"&&N(this,Yt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,i))})}trackProp(t){N(this,is).add(t)}getCurrentQuery(){return N(this,ee)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=N(this,Ye).defaultQueryOptions(t),n=N(this,Ye).getQueryCache().build(N(this,Ye),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return X(this,se,Hs).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,ze)))}createResult(t,r){var M;const n=N(this,ee),i=this.options,a=N(this,ze),o=N(this,hn),l=N(this,rs),u=t!==n?t.state:N(this,Si),{state:d}=t;let h={...d},x=!1,g;if(r._optimisticResults){const D=this.hasListeners(),K=!D&&Nh(t,r),F=D&&_h(t,n,r,i);(K||F)&&(h={...h,...qp(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:v,status:k}=h;g=h.data;let p=!1;if(r.placeholderData!==void 0&&g===void 0&&k==="pending"){let D;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(D=a.data,p=!0):D=typeof r.placeholderData=="function"?r.placeholderData((M=N(this,ss))==null?void 0:M.state.data,N(this,ss)):r.placeholderData,D!==void 0&&(k="success",g=pc(a==null?void 0:a.data,D,r),x=!0)}if(r.select&&g!==void 0&&!p)if(a&&g===(o==null?void 0:o.data)&&r.select===N(this,Ci))g=N(this,ns);else try{V(this,Ci,r.select),g=r.select(g),g=pc(a==null?void 0:a.data,g,r),V(this,ns,g),V(this,jr,null)}catch(D){V(this,jr,D)}N(this,jr)&&(b=N(this,jr),g=N(this,ns),v=Date.now(),k="error");const m=h.fetchStatus==="fetching",f=k==="pending",_=k==="error",E=f&&m,w=g!==void 0,y={status:k,fetchStatus:h.fetchStatus,isPending:f,isSuccess:k==="success",isError:_,isInitialLoading:E,isLoading:E,data:g,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!f,isLoadingError:_&&!w,isPaused:h.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:_&&w,isStale:Vu(t,r),refetch:this.refetch,promise:N(this,Yt),isEnabled:mt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=L=>{y.status==="error"?L.reject(y.error):y.data!==void 0&&L.resolve(y.data)},K=()=>{const L=V(this,Yt,y.promise=xc());D(L)},F=N(this,Yt);switch(F.status){case"pending":t.queryHash===n.queryHash&&D(F);break;case"fulfilled":(y.status==="error"||y.data!==F.value)&&K();break;case"rejected":(y.status!=="error"||y.error!==F.reason)&&K();break}}return y}updateResult(){const t=N(this,ze),r=this.createResult(N(this,ee),this.options);if(V(this,hn,N(this,ee).state),V(this,rs,this.options),N(this,hn).data!==void 0&&V(this,ss,N(this,ee)),Xa(r,t))return;V(this,ze,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!N(this,is).size)return!0;const o=new Set(a??N(this,is));return this.options.throwOnError&&o.add("error"),Object.keys(N(this,ze)).some(l=>{const c=l;return N(this,ze)[c]!==t[c]&&o.has(c)})};X(this,se,Vp).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&X(this,se,wc).call(this)}},Ye=new WeakMap,ee=new WeakMap,Si=new WeakMap,ze=new WeakMap,hn=new WeakMap,rs=new WeakMap,Yt=new WeakMap,jr=new WeakMap,Ci=new WeakMap,ns=new WeakMap,ss=new WeakMap,mn=new WeakMap,fn=new WeakMap,Nr=new WeakMap,is=new WeakMap,se=new WeakSet,Hs=function(t){X(this,se,_c).call(this);let r=N(this,ee).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(We)),r},yc=function(){X(this,se,jc).call(this);const t=zr(this.options.staleTime,N(this,ee));if(_n||N(this,ze).isStale||!mc(t))return;const n=Mp(N(this,ze).dataUpdatedAt,t)+1;V(this,mn,sn.setTimeout(()=>{N(this,ze).isStale||this.updateResult()},n))},vc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,ee)):this.options.refetchInterval)??!1},bc=function(t){X(this,se,Nc).call(this),V(this,Nr,t),!(_n||mt(this.options.enabled,N(this,ee))===!1||!mc(N(this,Nr))||N(this,Nr)===0)&&V(this,fn,sn.setInterval(()=>{(this.options.refetchIntervalInBackground||qu.isFocused())&&X(this,se,Hs).call(this)},N(this,Nr)))},wc=function(){X(this,se,yc).call(this),X(this,se,bc).call(this,X(this,se,vc).call(this))},jc=function(){N(this,mn)&&(sn.clearTimeout(N(this,mn)),V(this,mn,void 0))},Nc=function(){N(this,fn)&&(sn.clearInterval(N(this,fn)),V(this,fn,void 0))},_c=function(){const t=N(this,Ye).getQueryCache().build(N(this,Ye),this.options);if(t===N(this,ee))return;const r=N(this,ee);V(this,ee,t),V(this,Si,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Vp=function(t){ke.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(N(this,ze))}),N(this,Ye).getQueryCache().notify({query:N(this,ee),type:"observerResultsUpdated"})})},sm);function Av(e,t){return mt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Nh(e,t){return Av(e,t)||e.state.data!==void 0&&kc(e,t,t.refetchOnMount)}function kc(e,t,r){if(mt(t.enabled,e)!==!1&&zr(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Vu(e,t)}return!1}function _h(e,t,r,n){return(e!==t||mt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Vu(e,r)}function Vu(e,t){return mt(t.enabled,e)!==!1&&e.isStaleByTime(zr(t.staleTime,e))}function Dv(e,t){return!Xa(e.getCurrentResult(),t)}function kh(e){return{onFetch:(t,r)=>{var d,h,x,g,b;const n=t.options,i=(x=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:x.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const k=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},p=Dp(t.options,t.fetchOptions),m=async(f,_,E)=>{if(v)return Promise.reject();if(_==null&&f.pages.length)return Promise.resolve(f);const j=(()=>{const K={client:t.client,queryKey:t.queryKey,pageParam:_,direction:E?"backward":"forward",meta:t.options.meta};return k(K),K})(),y=await p(j),{maxPages:M}=t.options,D=E?Ev:Cv;return{pages:D(f.pages,y,M),pageParams:D(f.pageParams,_,M)}};if(i&&a.length){const f=i==="backward",_=f?Bv:Sh,E={pages:a,pageParams:o},w=_(n,E);l=await m(E,w,f)}else{const f=e??a.length;do{const _=c===0?o[0]??n.initialPageParam:Sh(n,l);if(c>0&&_==null)break;l=await m(l,_),c++}while(c<f)}return l};t.options.persister?t.fetchFn=()=>{var v,k;return(k=(v=t.options).persister)==null?void 0:k.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Sh(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Bv(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Dt,qe,pn,Bt,mr,im,$v=(im=class extends zp{constructor(t){super();Y(this,Bt);Y(this,Dt);Y(this,qe);Y(this,pn);this.mutationId=t.mutationId,V(this,qe,t.mutationCache),V(this,Dt,[]),this.state=t.state||Wp(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,Dt).includes(t)||(N(this,Dt).push(t),this.clearGcTimeout(),N(this,qe).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){V(this,Dt,N(this,Dt).filter(r=>r!==t)),this.scheduleGc(),N(this,qe).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,Dt).length||(this.state.status==="pending"?this.scheduleGc():N(this,qe).remove(this))}continue(){var t;return((t=N(this,pn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,l,c,u,d,h,x,g,b,v,k,p,m,f,_,E,w,j,y;const r=()=>{X(this,Bt,mr).call(this,{type:"continue"})};V(this,pn,Ip({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,D)=>{X(this,Bt,mr).call(this,{type:"failed",failureCount:M,error:D})},onPause:()=>{X(this,Bt,mr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,qe).canRun(this)}));const n=this.state.status==="pending",i=!N(this,pn).canStart();try{if(n)r();else{X(this,Bt,mr).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(a=N(this,qe).config).onMutate)==null?void 0:o.call(a,t,this));const D=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));D!==this.state.context&&X(this,Bt,mr).call(this,{type:"pending",context:D,variables:t,isPaused:i})}const M=await N(this,pn).start();return await((d=(u=N(this,qe).config).onSuccess)==null?void 0:d.call(u,M,t,this.state.context,this)),await((x=(h=this.options).onSuccess)==null?void 0:x.call(h,M,t,this.state.context)),await((b=(g=N(this,qe).config).onSettled)==null?void 0:b.call(g,M,null,this.state.variables,this.state.context,this)),await((k=(v=this.options).onSettled)==null?void 0:k.call(v,M,null,t,this.state.context)),X(this,Bt,mr).call(this,{type:"success",data:M}),M}catch(M){try{throw await((m=(p=N(this,qe).config).onError)==null?void 0:m.call(p,M,t,this.state.context,this)),await((_=(f=this.options).onError)==null?void 0:_.call(f,M,t,this.state.context)),await((w=(E=N(this,qe).config).onSettled)==null?void 0:w.call(E,void 0,M,this.state.variables,this.state.context,this)),await((y=(j=this.options).onSettled)==null?void 0:y.call(j,void 0,M,t,this.state.context)),M}finally{X(this,Bt,mr).call(this,{type:"error",error:M})}}finally{N(this,qe).runNext(this)}}},Dt=new WeakMap,qe=new WeakMap,pn=new WeakMap,Bt=new WeakSet,mr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ke.batch(()=>{N(this,Dt).forEach(n=>{n.onMutationUpdate(t)}),N(this,qe).notify({mutation:this,type:"updated",action:t})})},im);function Wp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kt,kt,Ei,am,Iv=(am=class extends Ns{constructor(t={}){super();Y(this,Kt);Y(this,kt);Y(this,Ei);this.config=t,V(this,Kt,new Set),V(this,kt,new Map),V(this,Ei,0)}build(t,r,n){const i=new $v({mutationCache:this,mutationId:++Bi(this,Ei)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){N(this,Kt).add(t);const r=ra(t);if(typeof r=="string"){const n=N(this,kt).get(r);n?n.push(t):N(this,kt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(N(this,Kt).delete(t)){const r=ra(t);if(typeof r=="string"){const n=N(this,kt).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&N(this,kt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=ra(t);if(typeof r=="string"){const n=N(this,kt).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=ra(t);if(typeof r=="string"){const i=(n=N(this,kt).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ke.batch(()=>{N(this,Kt).forEach(t=>{this.notify({type:"removed",mutation:t})}),N(this,Kt).clear(),N(this,kt).clear()})}getAll(){return Array.from(N(this,Kt))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>vh(r,n))}findAll(t={}){return this.getAll().filter(r=>vh(t,r))}notify(t){ke.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ke.batch(()=>Promise.all(t.map(r=>r.continue().catch(We))))}},Kt=new WeakMap,kt=new WeakMap,Ei=new WeakMap,am);function ra(e){var t;return(t=e.options.scope)==null?void 0:t.id}var _r,kr,Ke,Gt,er,ya,Sc,om,zv=(om=class extends Ns{constructor(r,n){super();Y(this,er);Y(this,_r);Y(this,kr);Y(this,Ke);Y(this,Gt);V(this,_r,r),this.setOptions(n),this.bindMethods(),X(this,er,ya).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=N(this,_r).defaultMutationOptions(r),Xa(this.options,n)||N(this,_r).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,Ke),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&kn(n.mutationKey)!==kn(this.options.mutationKey)?this.reset():((i=N(this,Ke))==null?void 0:i.state.status)==="pending"&&N(this,Ke).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=N(this,Ke))==null||r.removeObserver(this)}onMutationUpdate(r){X(this,er,ya).call(this),X(this,er,Sc).call(this,r)}getCurrentResult(){return N(this,kr)}reset(){var r;(r=N(this,Ke))==null||r.removeObserver(this),V(this,Ke,void 0),X(this,er,ya).call(this),X(this,er,Sc).call(this)}mutate(r,n){var i;return V(this,Gt,n),(i=N(this,Ke))==null||i.removeObserver(this),V(this,Ke,N(this,_r).getMutationCache().build(N(this,_r),this.options)),N(this,Ke).addObserver(this),N(this,Ke).execute(r)}},_r=new WeakMap,kr=new WeakMap,Ke=new WeakMap,Gt=new WeakMap,er=new WeakSet,ya=function(){var n;const r=((n=N(this,Ke))==null?void 0:n.state)??Wp();V(this,kr,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Sc=function(r){ke.batch(()=>{var n,i,a,o,l,c,u,d;if(N(this,Gt)&&this.hasListeners()){const h=N(this,kr).variables,x=N(this,kr).context;(r==null?void 0:r.type)==="success"?((i=(n=N(this,Gt)).onSuccess)==null||i.call(n,r.data,h,x),(o=(a=N(this,Gt)).onSettled)==null||o.call(a,r.data,null,h,x)):(r==null?void 0:r.type)==="error"&&((c=(l=N(this,Gt)).onError)==null||c.call(l,r.error,h,x),(d=(u=N(this,Gt)).onSettled)==null||d.call(u,void 0,r.error,h,x))}this.listeners.forEach(h=>{h(N(this,kr))})})},om),$t,lm,qv=(lm=class extends Ns{constructor(t={}){super();Y(this,$t);this.config=t,V(this,$t,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??Iu(i,r);let o=this.get(a);return o||(o=new Fv({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){N(this,$t).has(t.queryHash)||(N(this,$t).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=N(this,$t).get(t.queryHash);r&&(t.destroy(),r===t&&N(this,$t).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ke.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,$t).get(t)}getAll(){return[...N(this,$t).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>yh(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>yh(t,n)):r}notify(t){ke.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ke.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ke.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},$t=new WeakMap,lm),ge,Sr,Cr,as,os,Er,ls,cs,cm,Vv=(cm=class{constructor(e={}){Y(this,ge);Y(this,Sr);Y(this,Cr);Y(this,as);Y(this,os);Y(this,Er);Y(this,ls);Y(this,cs);V(this,ge,e.queryCache||new qv),V(this,Sr,e.mutationCache||new Iv),V(this,Cr,e.defaultOptions||{}),V(this,as,new Map),V(this,os,new Map),V(this,Er,0)}mount(){Bi(this,Er)._++,N(this,Er)===1&&(V(this,ls,qu.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,ge).onFocus())})),V(this,cs,Za.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,ge).onOnline())})))}unmount(){var e,t;Bi(this,Er)._--,N(this,Er)===0&&((e=N(this,ls))==null||e.call(this),V(this,ls,void 0),(t=N(this,cs))==null||t.call(this),V(this,cs,void 0))}isFetching(e){return N(this,ge).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,Sr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,ge).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=N(this,ge).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(zr(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return N(this,ge).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=N(this,ge).get(n.queryHash),a=i==null?void 0:i.state.data,o=_v(t,a);if(o!==void 0)return N(this,ge).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ke.batch(()=>N(this,ge).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,ge).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=N(this,ge);ke.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=N(this,ge);return ke.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ke.batch(()=>N(this,ge).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(We).catch(We)}invalidateQueries(e,t={}){return ke.batch(()=>(N(this,ge).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ke.batch(()=>N(this,ge).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(We)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(We)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=N(this,ge).build(this,t);return r.isStaleByTime(zr(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(We).catch(We)}fetchInfiniteQuery(e){return e.behavior=kh(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(We).catch(We)}ensureInfiniteQueryData(e){return e.behavior=kh(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Za.isOnline()?N(this,Sr).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,ge)}getMutationCache(){return N(this,Sr)}getDefaultOptions(){return N(this,Cr)}setDefaultOptions(e){V(this,Cr,e)}setQueryDefaults(e,t){N(this,as).set(kn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,as).values()],r={};return t.forEach(n=>{ji(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){N(this,os).set(kn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,os).values()],r={};return t.forEach(n=>{ji(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,Cr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Iu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===zu&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,Cr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,ge).clear(),N(this,Sr).clear()}},ge=new WeakMap,Sr=new WeakMap,Cr=new WeakMap,as=new WeakMap,os=new WeakMap,Er=new WeakMap,ls=new WeakMap,cs=new WeakMap,cm),Up=S.createContext(void 0),Kr=e=>{const t=S.useContext(Up);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Wv=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Up.Provider,{value:e,children:t})),Hp=S.createContext(!1),Uv=()=>S.useContext(Hp);Hp.Provider;function Hv(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Qv=S.createContext(Hv()),Yv=()=>S.useContext(Qv),Kv=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Gv=e=>{S.useEffect(()=>{e.clearReset()},[e])},Jv=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||Bp(r,[e.error,n])),Xv=e=>{if(e.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Zv=(e,t)=>e.isLoading&&e.isFetching&&!t,eb=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ch=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function tb(e,t,r){var h,x,g,b,v;const n=Uv(),i=Yv(),a=Kr(),o=a.defaultQueryOptions(e);(x=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||x.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",Xv(o),Kv(o,i),Gv(i);const l=!a.getQueryCache().get(o.queryHash),[c]=S.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(k=>{const p=d?c.subscribe(ke.batchCalls(k)):We;return c.updateResult(),p},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),S.useEffect(()=>{c.setOptions(o)},[o,c]),eb(o,u))throw Ch(o,c,i);if(Jv({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((b=(g=a.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||b.call(g,o,u),o.experimental_prefetchInRender&&!_n&&Zv(u,n)){const k=l?Ch(o,c,i):(v=a.getQueryCache().get(o.queryHash))==null?void 0:v.promise;k==null||k.catch(We).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function oe(e,t){return tb(e,Mv)}function Be(e,t){const r=Kr(),[n]=S.useState(()=>new zv(r,e));S.useEffect(()=>{n.setOptions(e)},[n,e]);const i=S.useSyncExternalStore(S.useCallback(o=>n.subscribe(ke.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=S.useCallback((o,l)=>{n.mutate(o,l).catch(We)},[n]);if(i.error&&Bp(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const Eh=e=>{let t;const r=new Set,n=(u,d)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const x=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(g=>g(t,x))}},i=()=>t,l={setState:n,getState:i,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=t=e(n,i,l);return l},rb=e=>e?Eh(e):Eh,nb=e=>e;function sb(e,t=nb){const r=en.useSyncExternalStore(e.subscribe,en.useCallback(()=>t(e.getState()),[e,t]),en.useCallback(()=>t(e.getInitialState()),[e,t]));return en.useDebugValue(r),r}const ib=e=>{const t=rb(e),r=n=>sb(t,n);return Object.assign(r,t),r},ab=e=>ib;function Qp(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var a;const o=c=>c===null?null:JSON.parse(c,void 0),l=(a=r.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>r.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>r.removeItem(i)}}const Cc=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Cc(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Cc(n)(r)}}}},ob=(e,t)=>(r,n,i)=>{let a={storage:Qp(()=>localStorage),partialize:v=>v,version:0,merge:(v,k)=>({...k,...v}),...t},o=!1;const l=new Set,c=new Set;let u=a.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...v)},n,i);const d=()=>{const v=a.partialize({...n()});return u.setItem(a.name,{state:v,version:a.version})},h=i.setState;i.setState=(v,k)=>(h(v,k),d());const x=e((...v)=>(r(...v),d()),n,i);i.getInitialState=()=>x;let g;const b=()=>{var v,k;if(!u)return;o=!1,l.forEach(m=>{var f;return m((f=n())!=null?f:x)});const p=((k=a.onRehydrateStorage)==null?void 0:k.call(a,(v=n())!=null?v:x))||void 0;return Cc(u.getItem.bind(u))(a.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==a.version){if(a.migrate){const f=a.migrate(m.state,m.version);return f instanceof Promise?f.then(_=>[!0,_]):[!0,f]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var f;const[_,E]=m;if(g=a.merge(E,(f=n())!=null?f:x),r(g,!0),_)return d()}).then(()=>{p==null||p(g,void 0),g=n(),o=!0,c.forEach(m=>m(g))}).catch(m=>{p==null||p(void 0,m)})};return i.persist={setOptions:v=>{a={...a,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},a.skipHydration||b(),g||x},lb=ob,Vt=Object.create(null);Vt.open="0";Vt.close="1";Vt.ping="2";Vt.pong="3";Vt.message="4";Vt.upgrade="5";Vt.noop="6";const va=Object.create(null);Object.keys(Vt).forEach(e=>{va[Vt[e]]=e});const Ec={type:"error",data:"parser error"},Yp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Kp=typeof ArrayBuffer=="function",Gp=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Wu=({type:e,data:t},r,n)=>Yp&&t instanceof Blob?r?n(t):Ph(t,n):Kp&&(t instanceof ArrayBuffer||Gp(t))?r?n(t):Ph(new Blob([t]),n):n(Vt[e]+(t||"")),Ph=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function Lh(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let cl;function cb(e,t){if(Yp&&e.data instanceof Blob)return e.data.arrayBuffer().then(Lh).then(t);if(Kp&&(e.data instanceof ArrayBuffer||Gp(e.data)))return t(Lh(e.data));Wu(e,!1,r=>{cl||(cl=new TextEncoder),t(cl.encode(r))})}const Rh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Rh.length;e++)Qs[Rh.charCodeAt(e)]=e;const ub=e=>{let t=e.length*.75,r=e.length,n,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(n=0;n<r;n+=4)a=Qs[e.charCodeAt(n)],o=Qs[e.charCodeAt(n+1)],l=Qs[e.charCodeAt(n+2)],c=Qs[e.charCodeAt(n+3)],d[i++]=a<<2|o>>4,d[i++]=(o&15)<<4|l>>2,d[i++]=(l&3)<<6|c&63;return u},db=typeof ArrayBuffer=="function",Uu=(e,t)=>{if(typeof e!="string")return{type:"message",data:Jp(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:hb(e.substring(1),t)}:va[r]?e.length>1?{type:va[r],data:e.substring(1)}:{type:va[r]}:Ec},hb=(e,t)=>{if(db){const r=ub(e);return Jp(r,t)}else return{base64:!0,data:e}},Jp=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Xp="",mb=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((a,o)=>{Wu(a,!1,l=>{n[o]=l,++i===r&&t(n.join(Xp))})})},fb=(e,t)=>{const r=e.split(Xp),n=[];for(let i=0;i<r.length;i++){const a=Uu(r[i],t);if(n.push(a),a.type==="error")break}return n};function pb(){return new TransformStream({transform(e,t){cb(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let ul;function na(e){return e.reduce((t,r)=>t+r.length,0)}function sa(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function xb(e,t){ul||(ul=new TextDecoder);const r=[];let n=0,i=-1,a=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(na(r)<1)break;const c=sa(r,1);a=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(na(r)<2)break;const c=sa(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(na(r)<8)break;const c=sa(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(Ec);break}i=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(na(r)<i)break;const c=sa(r,i);l.enqueue(Uu(a?c:ul.decode(c),t)),n=0}if(i===0||i>e){l.enqueue(Ec);break}}}})}const Zp=4;function Ne(e){if(e)return gb(e)}function gb(e){for(var t in Ne.prototype)e[t]=Ne.prototype[t];return e}Ne.prototype.on=Ne.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ne.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Ne.prototype.off=Ne.prototype.removeListener=Ne.prototype.removeAllListeners=Ne.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Ne.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};Ne.prototype.emitReserved=Ne.prototype.emit;Ne.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ne.prototype.hasListeners=function(e){return!!this.listeners(e).length};const No=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),xt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),yb="arraybuffer";function e0(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const vb=xt.setTimeout,bb=xt.clearTimeout;function _o(e,t){t.useNativeTimers?(e.setTimeoutFn=vb.bind(xt),e.clearTimeoutFn=bb.bind(xt)):(e.setTimeoutFn=xt.setTimeout.bind(xt),e.clearTimeoutFn=xt.clearTimeout.bind(xt))}const wb=1.33;function jb(e){return typeof e=="string"?Nb(e):Math.ceil((e.byteLength||e.size)*wb)}function Nb(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function t0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function _b(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function kb(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class Sb extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class Hu extends Ne{constructor(t){super(),this.writable=!1,_o(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new Sb(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Uu(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=_b(t);return r.length?"?"+r:""}}class Cb extends Hu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};fb(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,mb(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=t0()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let r0=!1;try{r0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Eb=r0;function Pb(){}class Lb extends Cb{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}let Jn=class ba extends Ne{constructor(t,r,n){super(),this.createRequest=t,_o(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=e0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=ba.requestsCount++,ba.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Pb,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ba.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Jn.requestsCount=0;Jn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Th);else if(typeof addEventListener=="function"){const e="onpagehide"in xt?"pagehide":"unload";addEventListener(e,Th,!1)}}function Th(){for(let e in Jn.requests)Jn.requests.hasOwnProperty(e)&&Jn.requests[e].abort()}const Rb=function(){const e=n0({xdomain:!1});return e&&e.responseType!==null}();class Tb extends Lb{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=Rb&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Jn(n0,this.uri(),t)}}function n0(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Eb))return new XMLHttpRequest}catch{}if(!t)try{return new xt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const s0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ob extends Hu{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=s0?{}:e0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;Wu(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&No(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=t0()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const dl=xt.WebSocket||xt.MozWebSocket;class Fb extends Ob{createSocket(t,r,n){return s0?new dl(t,r,n):r?new dl(t,r):new dl(t)}doWrite(t,r){this.ws.send(r)}}class Mb extends Hu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=xb(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=pb();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&No(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Ab={websocket:Fb,webtransport:Mb,polling:Tb},Db=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Bb=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Pc(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=Db.exec(e||""),a={},o=14;for(;o--;)a[Bb[o]]=i[o]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=$b(a,a.path),a.queryKey=Ib(a,a.query),a}function $b(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Ib(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}const Lc=typeof addEventListener=="function"&&typeof removeEventListener=="function",wa=[];Lc&&addEventListener("offline",()=>{wa.forEach(e=>e())},!1);class qr extends Ne{constructor(t,r){if(super(),this.binaryType=yb,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=Pc(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Pc(r.host).host);_o(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=kb(this.opts.query)),Lc&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},wa.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=Zp,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&qr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",qr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=jb(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,No(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(qr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Lc&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=wa.indexOf(this._offlineEventListener);n!==-1&&wa.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}qr.protocol=Zp;class zb extends qr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;qr.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;qr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=r.name,this.emitReserved("upgradeError",x)}}))};function a(){n||(n=!0,d(),r.close(),r=null)}const o=h=>{const x=new Error("probe error: "+h);x.transport=r.name,a(),this.emitReserved("upgradeError",x)};function l(){o("transport closed")}function c(){o("socket closed")}function u(h){r&&h.name!==r.name&&a()}const d=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let qb=class extends zb{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>Ab[i]).filter(i=>!!i)),super(t,n)}};function Vb(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Pc(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const Wb=typeof ArrayBuffer=="function",Ub=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,i0=Object.prototype.toString,Hb=typeof Blob=="function"||typeof Blob<"u"&&i0.call(Blob)==="[object BlobConstructor]",Qb=typeof File=="function"||typeof File<"u"&&i0.call(File)==="[object FileConstructor]";function Qu(e){return Wb&&(e instanceof ArrayBuffer||Ub(e))||Hb&&e instanceof Blob||Qb&&e instanceof File}function ja(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(ja(e[r]))return!0;return!1}if(Qu(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ja(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&ja(e[r]))return!0;return!1}function Yb(e){const t=[],r=e.data,n=e;return n.data=Rc(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Rc(e,t){if(!e)return e;if(Qu(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Rc(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Rc(e[n],t));return r}return e}function Kb(e,t){return e.data=Tc(e.data,t),delete e.attachments,e}function Tc(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Tc(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Tc(e[r],t));return e}const Gb=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Jb=5;var te;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(te||(te={}));class Xb{constructor(t){this.replacer=t}encode(t){return(t.type===te.EVENT||t.type===te.ACK)&&ja(t)?this.encodeAsBinary({type:t.type===te.EVENT?te.BINARY_EVENT:te.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===te.BINARY_EVENT||t.type===te.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=Yb(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function Oh(e){return Object.prototype.toString.call(e)==="[object Object]"}class Yu extends Ne{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===te.BINARY_EVENT;n||r.type===te.BINARY_ACK?(r.type=n?te.EVENT:te.ACK,this.reconstructor=new Zb(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Qu(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(te[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===te.BINARY_EVENT||n.type===te.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(a,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(Yu.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case te.CONNECT:return Oh(r);case te.DISCONNECT:return r===void 0;case te.CONNECT_ERROR:return typeof r=="string"||Oh(r);case te.EVENT:case te.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Gb.indexOf(r[0])===-1);case te.ACK:case te.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Zb{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=Kb(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const e1=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Yu,Encoder:Xb,get PacketType(){return te},protocol:Jb},Symbol.toStringTag,{value:"Module"}));function Ct(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const t1=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class a0 extends Ne{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ct(t,"open",this.onopen.bind(this)),Ct(t,"packet",this.onpacket.bind(this)),Ct(t,"error",this.onerror.bind(this)),Ct(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,a;if(t1.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:te.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,h=r.pop();this._registerAckCallback(d,h),o.id=d}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,i)=>{const a=(o,l)=>o?i(o):n(l);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:te.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case te.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case te.EVENT:case te.BINARY_EVENT:this.onevent(t);break;case te.ACK:case te.BINARY_ACK:this.onack(t);break;case te.DISCONNECT:this.ondisconnect();break;case te.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:te.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:te.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function _s(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}_s.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};_s.prototype.reset=function(){this.attempts=0};_s.prototype.setMin=function(e){this.ms=e};_s.prototype.setMax=function(e){this.max=e};_s.prototype.setJitter=function(e){this.jitter=e};class Oc extends Ne{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,_o(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new _s({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||e1;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new qb(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Ct(r,"open",function(){n.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Ct(r,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ct(t,"ping",this.onping.bind(this)),Ct(t,"data",this.ondata.bind(this)),Ct(t,"error",this.onerror.bind(this)),Ct(t,"close",this.onclose.bind(this)),Ct(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){No(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new a0(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ds={};function Na(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=Vb(e,t.path||"/socket.io"),n=r.source,i=r.id,a=r.path,o=Ds[i]&&a in Ds[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new Oc(n,t):(Ds[i]||(Ds[i]=new Oc(n,t)),c=Ds[i]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(Na,{Manager:Oc,Socket:a0,io:Na,connect:Na});function o0(e,t){return function(){return e.apply(t,arguments)}}const{toString:r1}=Object.prototype,{getPrototypeOf:Ku}=Object,{iterator:ko,toStringTag:l0}=Symbol,So=(e=>t=>{const r=r1.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Tt=e=>(e=e.toLowerCase(),t=>So(t)===e),Co=e=>t=>typeof t===e,{isArray:ks}=Array,Ni=Co("undefined");function Fi(e){return e!==null&&!Ni(e)&&e.constructor!==null&&!Ni(e.constructor)&&tt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const c0=Tt("ArrayBuffer");function n1(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&c0(e.buffer),t}const s1=Co("string"),tt=Co("function"),u0=Co("number"),Mi=e=>e!==null&&typeof e=="object",i1=e=>e===!0||e===!1,_a=e=>{if(So(e)!=="object")return!1;const t=Ku(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(l0 in e)&&!(ko in e)},a1=e=>{if(!Mi(e)||Fi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},o1=Tt("Date"),l1=Tt("File"),c1=Tt("Blob"),u1=Tt("FileList"),d1=e=>Mi(e)&&tt(e.pipe),h1=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||tt(e.append)&&((t=So(e))==="formdata"||t==="object"&&tt(e.toString)&&e.toString()==="[object FormData]"))},m1=Tt("URLSearchParams"),[f1,p1,x1,g1]=["ReadableStream","Request","Response","Headers"].map(Tt),y1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ai(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),ks(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(Fi(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,e[l],l,e)}}function d0(e,t){if(Fi(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const an=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,h0=e=>!Ni(e)&&e!==an;function Fc(){const{caseless:e}=h0(this)&&this||{},t={},r=(n,i)=>{const a=e&&d0(t,i)||i;_a(t[a])&&_a(n)?t[a]=Fc(t[a],n):_a(n)?t[a]=Fc({},n):ks(n)?t[a]=n.slice():t[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Ai(arguments[n],r);return t}const v1=(e,t,r,{allOwnKeys:n}={})=>(Ai(t,(i,a)=>{r&&tt(i)?e[a]=o0(i,r):e[a]=i},{allOwnKeys:n}),e),b1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),w1=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},j1=(e,t,r,n)=>{let i,a,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Ku(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},N1=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},_1=e=>{if(!e)return null;if(ks(e))return e;let t=e.length;if(!u0(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},k1=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ku(Uint8Array)),S1=(e,t)=>{const n=(e&&e[ko]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},C1=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},E1=Tt("HTMLFormElement"),P1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Fh=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),L1=Tt("RegExp"),m0=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ai(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},R1=e=>{m0(e,(t,r)=>{if(tt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(tt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},T1=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return ks(e)?n(e):n(String(e).split(t)),r},O1=()=>{},F1=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function M1(e){return!!(e&&tt(e.append)&&e[l0]==="FormData"&&e[ko])}const A1=e=>{const t=new Array(10),r=(n,i)=>{if(Mi(n)){if(t.indexOf(n)>=0)return;if(Fi(n))return n;if(!("toJSON"in n)){t[i]=n;const a=ks(n)?[]:{};return Ai(n,(o,l)=>{const c=r(o,i+1);!Ni(c)&&(a[l]=c)}),t[i]=void 0,a}}return n};return r(e,0)},D1=Tt("AsyncFunction"),B1=e=>e&&(Mi(e)||tt(e))&&tt(e.then)&&tt(e.catch),f0=((e,t)=>e?setImmediate:t?((r,n)=>(an.addEventListener("message",({source:i,data:a})=>{i===an&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),an.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",tt(an.postMessage)),$1=typeof queueMicrotask<"u"?queueMicrotask.bind(an):typeof process<"u"&&process.nextTick||f0,I1=e=>e!=null&&tt(e[ko]),O={isArray:ks,isArrayBuffer:c0,isBuffer:Fi,isFormData:h1,isArrayBufferView:n1,isString:s1,isNumber:u0,isBoolean:i1,isObject:Mi,isPlainObject:_a,isEmptyObject:a1,isReadableStream:f1,isRequest:p1,isResponse:x1,isHeaders:g1,isUndefined:Ni,isDate:o1,isFile:l1,isBlob:c1,isRegExp:L1,isFunction:tt,isStream:d1,isURLSearchParams:m1,isTypedArray:k1,isFileList:u1,forEach:Ai,merge:Fc,extend:v1,trim:y1,stripBOM:b1,inherits:w1,toFlatObject:j1,kindOf:So,kindOfTest:Tt,endsWith:N1,toArray:_1,forEachEntry:S1,matchAll:C1,isHTMLForm:E1,hasOwnProperty:Fh,hasOwnProp:Fh,reduceDescriptors:m0,freezeMethods:R1,toObjectSet:T1,toCamelCase:P1,noop:O1,toFiniteNumber:F1,findKey:d0,global:an,isContextDefined:h0,isSpecCompliantForm:M1,toJSONObject:A1,isAsyncFn:D1,isThenable:B1,setImmediate:f0,asap:$1,isIterable:I1};function J(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}O.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const p0=J.prototype,x0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{x0[e]={value:e}});Object.defineProperties(J,x0);Object.defineProperty(p0,"isAxiosError",{value:!0});J.from=(e,t,r,n,i,a)=>{const o=Object.create(p0);return O.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),J.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const z1=null;function Mc(e){return O.isPlainObject(e)||O.isArray(e)}function g0(e){return O.endsWith(e,"[]")?e.slice(0,-2):e}function Mh(e,t,r){return e?e.concat(t).map(function(i,a){return i=g0(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function q1(e){return O.isArray(e)&&!e.some(Mc)}const V1=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function Eo(e,t,r){if(!O.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=O.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,k){return!O.isUndefined(k[v])});const n=r.metaTokens,i=r.visitor||d,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(i))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(O.isDate(b))return b.toISOString();if(O.isBoolean(b))return b.toString();if(!c&&O.isBlob(b))throw new J("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(b)||O.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function d(b,v,k){let p=b;if(b&&!k&&typeof b=="object"){if(O.endsWith(v,"{}"))v=n?v:v.slice(0,-2),b=JSON.stringify(b);else if(O.isArray(b)&&q1(b)||(O.isFileList(b)||O.endsWith(v,"[]"))&&(p=O.toArray(b)))return v=g0(v),p.forEach(function(f,_){!(O.isUndefined(f)||f===null)&&t.append(o===!0?Mh([v],_,a):o===null?v:v+"[]",u(f))}),!1}return Mc(b)?!0:(t.append(Mh(k,v,a),u(b)),!1)}const h=[],x=Object.assign(V1,{defaultVisitor:d,convertValue:u,isVisitable:Mc});function g(b,v){if(!O.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(b),O.forEach(b,function(p,m){(!(O.isUndefined(p)||p===null)&&i.call(t,p,O.isString(m)?m.trim():m,v,x))===!0&&g(p,v?v.concat(m):[m])}),h.pop()}}if(!O.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Ah(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Gu(e,t){this._pairs=[],e&&Eo(e,this,t)}const y0=Gu.prototype;y0.append=function(t,r){this._pairs.push([t,r])};y0.toString=function(t){const r=t?function(n){return t.call(this,n,Ah)}:Ah;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function W1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function v0(e,t,r){if(!t)return e;const n=r&&r.encode||W1;O.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=O.isURLSearchParams(t)?t.toString():new Gu(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Dh{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(n){n!==null&&t(n)})}}const b0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},U1=typeof URLSearchParams<"u"?URLSearchParams:Gu,H1=typeof FormData<"u"?FormData:null,Q1=typeof Blob<"u"?Blob:null,Y1={isBrowser:!0,classes:{URLSearchParams:U1,FormData:H1,Blob:Q1},protocols:["http","https","file","blob","url","data"]},Ju=typeof window<"u"&&typeof document<"u",Ac=typeof navigator=="object"&&navigator||void 0,K1=Ju&&(!Ac||["ReactNative","NativeScript","NS"].indexOf(Ac.product)<0),G1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",J1=Ju&&window.location.href||"http://localhost",X1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ju,hasStandardBrowserEnv:K1,hasStandardBrowserWebWorkerEnv:G1,navigator:Ac,origin:J1},Symbol.toStringTag,{value:"Module"})),$e={...X1,...Y1};function Z1(e,t){return Eo(e,new $e.classes.URLSearchParams,{visitor:function(r,n,i,a){return $e.isNode&&O.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function ew(e){return O.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function tw(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function w0(e){function t(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&O.isArray(i)?i.length:o,c?(O.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!O.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],a)&&O.isArray(i[o])&&(i[o]=tw(i[o])),!l)}if(O.isFormData(e)&&O.isFunction(e.entries)){const r={};return O.forEachEntry(e,(n,i)=>{t(ew(n),i,r,0)}),r}return null}function rw(e,t,r){if(O.isString(e))try{return(t||JSON.parse)(e),O.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Di={transitional:b0,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=O.isObject(t);if(a&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return i?JSON.stringify(w0(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t)||O.isReadableStream(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Z1(t,this.formSerializer).toString();if((l=O.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Eo(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),rw(t)):t}],transformResponse:[function(t){const r=this.transitional||Di.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(O.isResponse(t)||O.isReadableStream(t))return t;if(t&&O.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?J.from(l,J.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$e.classes.FormData,Blob:$e.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],e=>{Di.headers[e]={}});const nw=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sw=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&nw[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Bh=Symbol("internals");function Bs(e){return e&&String(e).trim().toLowerCase()}function ka(e){return e===!1||e==null?e:O.isArray(e)?e.map(ka):String(e)}function iw(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const aw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function hl(e,t,r,n,i){if(O.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!O.isString(t)){if(O.isString(n))return t.indexOf(n)!==-1;if(O.isRegExp(n))return n.test(t)}}function ow(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function lw(e,t){const r=O.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}let rt=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(l,c,u){const d=Bs(c);if(!d)throw new Error("header name must be a non-empty string");const h=O.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=ka(l))}const o=(l,c)=>O.forEach(l,(u,d)=>a(u,d,c));if(O.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(O.isString(t)&&(t=t.trim())&&!aw(t))o(sw(t),r);else if(O.isObject(t)&&O.isIterable(t)){let l={},c,u;for(const d of t){if(!O.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?O.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=Bs(t),t){const n=O.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return iw(i);if(O.isFunction(r))return r.call(this,i,n);if(O.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Bs(t),t){const n=O.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||hl(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(o){if(o=Bs(o),o){const l=O.findKey(n,o);l&&(!r||hl(n,n[l],l,r))&&(delete n[l],i=!0)}}return O.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||hl(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return O.forEach(this,(i,a)=>{const o=O.findKey(n,a);if(o){r[o]=ka(i),delete r[a];return}const l=t?ow(a):String(a).trim();l!==a&&delete r[a],r[l]=ka(i),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return O.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&O.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[Bh]=this[Bh]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=Bs(o);n[l]||(lw(i,o),n[l]=!0)}return O.isArray(t)?t.forEach(a):a(t),this}};rt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(rt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});O.freezeMethods(rt);function ml(e,t){const r=this||Di,n=t||r,i=rt.from(n.headers);let a=n.data;return O.forEach(e,function(l){a=l.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function j0(e){return!!(e&&e.__CANCEL__)}function Ss(e,t,r){J.call(this,e??"canceled",J.ERR_CANCELED,t,r),this.name="CanceledError"}O.inherits(Ss,J,{__CANCEL__:!0});function N0(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new J("Request failed with status code "+r.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function cw(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function uw(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];o||(o=u),r[i]=c,n[i]=u;let h=a,x=0;for(;h!==i;)x+=r[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-o<t)return;const g=d&&u-d;return g?Math.round(x*1e3/g):void 0}}function dw(e,t){let r=0,n=1e3/t,i,a;const o=(u,d=Date.now())=>{r=d,i=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?o(u,d):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},n-h)))},()=>i&&o(i)]}const eo=(e,t,r=3)=>{let n=0;const i=uw(50,250);return dw(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,u=i(c),d=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},r)},$h=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Ih=e=>(...t)=>O.asap(()=>e(...t)),hw=$e.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,$e.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL($e.origin),$e.navigator&&/(msie|trident)/i.test($e.navigator.userAgent)):()=>!0,mw=$e.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const o=[e+"="+encodeURIComponent(t)];O.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),O.isString(n)&&o.push("path="+n),O.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function pw(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function _0(e,t,r){let n=!fw(t);return e&&(n||r==!1)?pw(e,t):t}const zh=e=>e instanceof rt?{...e}:e;function Sn(e,t){t=t||{};const r={};function n(u,d,h,x){return O.isPlainObject(u)&&O.isPlainObject(d)?O.merge.call({caseless:x},u,d):O.isPlainObject(d)?O.merge({},d):O.isArray(d)?d.slice():d}function i(u,d,h,x){if(O.isUndefined(d)){if(!O.isUndefined(u))return n(void 0,u,h,x)}else return n(u,d,h,x)}function a(u,d){if(!O.isUndefined(d))return n(void 0,d)}function o(u,d){if(O.isUndefined(d)){if(!O.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,h){if(h in t)return n(u,d);if(h in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>i(zh(u),zh(d),h,!0)};return O.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||i,x=h(e[d],t[d],d);O.isUndefined(x)&&h!==l||(r[d]=x)}),r}const k0=e=>{const t=Sn({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;t.headers=o=rt.from(o),t.url=v0(_0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(O.isFormData(r)){if($e.hasStandardBrowserEnv||$e.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if($e.hasStandardBrowserEnv&&(n&&O.isFunction(n)&&(n=n(t)),n||n!==!1&&hw(t.url))){const u=i&&a&&mw.read(a);u&&o.set(i,u)}return t},xw=typeof XMLHttpRequest<"u",gw=xw&&function(e){return new Promise(function(r,n){const i=k0(e);let a=i.data;const o=rt.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,h,x,g,b;function v(){g&&g(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let k=new XMLHttpRequest;k.open(i.method.toUpperCase(),i.url,!0),k.timeout=i.timeout;function p(){if(!k)return;const f=rt.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:f,config:e,request:k};N0(function(j){r(j),v()},function(j){n(j),v()},E),k=null}"onloadend"in k?k.onloadend=p:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(p)},k.onabort=function(){k&&(n(new J("Request aborted",J.ECONNABORTED,e,k)),k=null)},k.onerror=function(){n(new J("Network Error",J.ERR_NETWORK,e,k)),k=null},k.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||b0;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),n(new J(_,E.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,k)),k=null},a===void 0&&o.setContentType(null),"setRequestHeader"in k&&O.forEach(o.toJSON(),function(_,E){k.setRequestHeader(E,_)}),O.isUndefined(i.withCredentials)||(k.withCredentials=!!i.withCredentials),l&&l!=="json"&&(k.responseType=i.responseType),u&&([x,b]=eo(u,!0),k.addEventListener("progress",x)),c&&k.upload&&([h,g]=eo(c),k.upload.addEventListener("progress",h),k.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(d=f=>{k&&(n(!f||f.type?new Ss(null,e,k):f),k.abort(),k=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const m=cw(i.url);if(m&&$e.protocols.indexOf(m)===-1){n(new J("Unsupported protocol "+m+":",J.ERR_BAD_REQUEST,e));return}k.send(a||null)})},yw=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof J?d:new Ss(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new J(`timeout ${t} of ms exceeded`,J.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>O.asap(l),c}},vw=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},bw=async function*(e,t){for await(const r of ww(e))yield*vw(r,t)},ww=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},qh=(e,t,r,n)=>{const i=bw(e,t);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let h=d.byteLength;if(r){let x=a+=h;r(x)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Po=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",S0=Po&&typeof ReadableStream=="function",jw=Po&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),C0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Nw=S0&&C0(()=>{let e=!1;const t=new Request($e.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Vh=64*1024,Dc=S0&&C0(()=>O.isReadableStream(new Response("").body)),to={stream:Dc&&(e=>e.body)};Po&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!to[t]&&(to[t]=O.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new J(`Response type '${t}' is not supported`,J.ERR_NOT_SUPPORT,n)})})})(new Response);const _w=async e=>{if(e==null)return 0;if(O.isBlob(e))return e.size;if(O.isSpecCompliantForm(e))return(await new Request($e.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(O.isArrayBufferView(e)||O.isArrayBuffer(e))return e.byteLength;if(O.isURLSearchParams(e)&&(e=e+""),O.isString(e))return(await jw(e)).byteLength},kw=async(e,t)=>{const r=O.toFiniteNumber(e.getContentLength());return r??_w(t)},Sw=Po&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:x}=k0(e);u=u?(u+"").toLowerCase():"text";let g=yw([i,a&&a.toAbortSignal()],o),b;const v=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let k;try{if(c&&Nw&&r!=="get"&&r!=="head"&&(k=await kw(d,n))!==0){let E=new Request(t,{method:"POST",body:n,duplex:"half"}),w;if(O.isFormData(n)&&(w=E.headers.get("content-type"))&&d.setContentType(w),E.body){const[j,y]=$h(k,eo(Ih(c)));n=qh(E.body,Vh,j,y)}}O.isString(h)||(h=h?"include":"omit");const p="credentials"in Request.prototype;b=new Request(t,{...x,signal:g,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:p?h:void 0});let m=await fetch(b,x);const f=Dc&&(u==="stream"||u==="response");if(Dc&&(l||f&&v)){const E={};["status","statusText","headers"].forEach(M=>{E[M]=m[M]});const w=O.toFiniteNumber(m.headers.get("content-length")),[j,y]=l&&$h(w,eo(Ih(l),!0))||[];m=new Response(qh(m.body,Vh,j,()=>{y&&y(),v&&v()}),E)}u=u||"text";let _=await to[O.findKey(to,u)||"text"](m,e);return!f&&v&&v(),await new Promise((E,w)=>{N0(E,w,{data:_,headers:rt.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:b})})}catch(p){throw v&&v(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,e,b),{cause:p.cause||p}):J.from(p,p&&p.code,e,b)}}),Bc={http:z1,xhr:gw,fetch:Sw};O.forEach(Bc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Wh=e=>`- ${e}`,Cw=e=>O.isFunction(e)||e===null||e===!1,E0={getAdapter:e=>{e=O.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let a=0;a<t;a++){r=e[a];let o;if(n=r,!Cw(r)&&(n=Bc[(o=String(r)).toLowerCase()],n===void 0))throw new J(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(Wh).join(`
`):" "+Wh(a[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Bc};function fl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ss(null,e)}function Uh(e){return fl(e),e.headers=rt.from(e.headers),e.data=ml.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),E0.getAdapter(e.adapter||Di.adapter)(e).then(function(n){return fl(e),n.data=ml.call(e,e.transformResponse,n),n.headers=rt.from(n.headers),n},function(n){return j0(n)||(fl(e),n&&n.response&&(n.response.data=ml.call(e,e.transformResponse,n.response),n.response.headers=rt.from(n.response.headers))),Promise.reject(n)})}const P0="1.11.0",Lo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Lo[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Hh={};Lo.transitional=function(t,r,n){function i(a,o){return"[Axios v"+P0+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new J(i(o," has been removed"+(r?" in "+r:"")),J.ERR_DEPRECATED);return r&&!Hh[o]&&(Hh[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};Lo.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Ew(e,t,r){if(typeof e!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new J("option "+a+" must be "+c,J.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new J("Unknown option "+a,J.ERR_BAD_OPTION)}}const Sa={assertOptions:Ew,validators:Lo},Ft=Sa.validators;let yn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Dh,response:new Dh}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Sn(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&Sa.assertOptions(n,{silentJSONParsing:Ft.transitional(Ft.boolean),forcedJSONParsing:Ft.transitional(Ft.boolean),clarifyTimeoutError:Ft.transitional(Ft.boolean)},!1),i!=null&&(O.isFunction(i)?r.paramsSerializer={serialize:i}:Sa.assertOptions(i,{encode:Ft.function,serialize:Ft.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Sa.assertOptions(r,{baseUrl:Ft.spelling("baseURL"),withXsrfToken:Ft.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&O.merge(a.common,a[r.method]);a&&O.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),r.headers=rt.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,x;if(!c){const b=[Uh.bind(this),void 0];for(b.unshift(...l),b.push(...u),x=b.length,d=Promise.resolve(r);h<x;)d=d.then(b[h++],b[h++]);return d}x=l.length;let g=r;for(h=0;h<x;){const b=l[h++],v=l[h++];try{g=b(g)}catch(k){v.call(this,k);break}}try{d=Uh.call(this,g)}catch(b){return Promise.reject(b)}for(h=0,x=u.length;h<x;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=Sn(this.defaults,t);const r=_0(t.baseURL,t.url,t.allowAbsoluteUrls);return v0(r,t.params,t.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(t){yn.prototype[t]=function(r,n){return this.request(Sn(n||{},{method:t,url:r,data:(n||{}).data}))}});O.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,l){return this.request(Sn(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}yn.prototype[t]=r(),yn.prototype[t+"Form"]=r(!0)});let Pw=class L0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new Ss(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new L0(function(i){t=i}),cancel:t}}};function Lw(e){return function(r){return e.apply(null,r)}}function Rw(e){return O.isObject(e)&&e.isAxiosError===!0}const $c={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($c).forEach(([e,t])=>{$c[t]=e});function R0(e){const t=new yn(e),r=o0(yn.prototype.request,t);return O.extend(r,yn.prototype,t,{allOwnKeys:!0}),O.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return R0(Sn(e,i))},r}const q=R0(Di);q.Axios=yn;q.CanceledError=Ss;q.CancelToken=Pw;q.isCancel=j0;q.VERSION=P0;q.toFormData=Eo;q.AxiosError=J;q.Cancel=q.CanceledError;q.all=function(t){return Promise.all(t)};q.spread=Lw;q.isAxiosError=Rw;q.mergeConfig=Sn;q.AxiosHeaders=rt;q.formToJSON=e=>w0(O.isHTMLForm(e)?new FormData(e):e);q.getAdapter=E0.getAdapter;q.HttpStatusCode=$c;q.default=q;const{Axios:Tj,AxiosError:Oj,CanceledError:Fj,isCancel:Mj,CancelToken:Aj,VERSION:Dj,all:Bj,Cancel:$j,isAxiosError:Ij,spread:zj,toFormData:qj,AxiosHeaders:Vj,HttpStatusCode:Wj,formToJSON:Uj,getAdapter:Hj,mergeConfig:Qj}=q,G=ab()(lb((e,t)=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null},search_filters:{location:null,check_in:null,check_out:null,guest_count:null,price_min:null,price_max:null,property_types:[],amenities:[],sort_by:"recommended"},booking_cart:{listing_id:null,check_in:null,check_out:null,guest_count:null,special_requests:null},user_role:{role:null},notification_count:{unread_count:0},websocket_connection:null,websocket_connected:!1,currentLanguage:"ar",currentCurrency:"LYD",login_user:async(r,n)=>{var i,a;e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null}}));try{const o=await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/login",{email:r,password:n},{headers:{"Content-Type":"application/json"}}),{user:l,token:c}=o.data;e(()=>({authentication_state:{current_user:l,auth_token:c,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null},user_role:{role:l.role}})),t().connect_websocket(c)}catch(o){const l=((a=(i=o.response)==null?void 0:i.data)==null?void 0:a.message)||o.message||"Login failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:l}})),new Error(l)}},logout_user:()=>{t().disconnect_websocket(),e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null},user_role:{role:null}}))},register_user:async r=>{var n,i;e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null}}));try{const a=await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/register",r,{headers:{"Content-Type":"application/json"}}),{user:o,token:l}=a.data;e(()=>({authentication_state:{current_user:o,auth_token:l,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null},user_role:{role:o.role}})),t().connect_websocket(l)}catch(a){const o=((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||a.message||"Registration failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:o}})),new Error(o)}},initialize_auth:async()=>{const{auth_token:r}=t().authentication_state;if(!r){e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null}}));return}try{const n=await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/verify",{headers:{Authorization:`Bearer ${r}`}}),{user:i}=n.data;e(()=>({authentication_state:{current_user:i,auth_token:r,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null},user_role:{role:i.role}})),t().connect_websocket(r)}catch(n){console.error("Auth initialization error:",n),e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null},user_role:{role:null}}))}},clear_auth_error:()=>{e(r=>({authentication_state:{...r.authentication_state,error_message:null}}))},update_search_filters:r=>{e(n=>({search_filters:{...n.search_filters,...r}}))},reset_search_filters:()=>{e(()=>({search_filters:{location:null,check_in:null,check_out:null,guest_count:null,price_min:null,price_max:null,property_types:[],amenities:[],sort_by:"recommended"}}))},update_booking_cart:r=>{e(n=>({booking_cart:{...n.booking_cart,...r}}))},clear_booking_cart:()=>{e(()=>({booking_cart:{listing_id:null,check_in:null,check_out:null,guest_count:null,special_requests:null}}))},update_user_role:r=>{e(()=>({user_role:{role:r}}))},update_notification_count:r=>{e(()=>({notification_count:{unread_count:r}}))},increment_notification_count:()=>{e(r=>({notification_count:{unread_count:r.notification_count.unread_count+1}}))},decrement_notification_count:()=>{e(r=>({notification_count:{unread_count:Math.max(0,r.notification_count.unread_count-1)}}))},setLanguage:r=>{e(()=>({currentLanguage:r}))},connect_websocket:r=>{t().websocket_connection&&t().disconnect_websocket();const n=Na("https://123airbnb-but-just-for-libya.launchpulse.ai",{auth:{token:`Bearer ${r}`}});n.on("connect",()=>{e(()=>({websocket_connected:!0}))}),n.on("disconnect",()=>{e(()=>({websocket_connected:!1}))}),e(()=>({websocket_connection:n})),t().subscribe_to_events()},disconnect_websocket:()=>{const r=t().websocket_connection;r&&(r.disconnect(),e(()=>({websocket_connection:null,websocket_connected:!1})))},subscribe_to_events:()=>{const r=t().websocket_connection;r&&(r.on("message:new",()=>{t().increment_notification_count()}),r.on("booking:request",()=>{t().increment_notification_count()}),r.on("booking:confirmed",()=>{t().increment_notification_count()}),r.on("booking:declined",()=>{t().increment_notification_count()}),r.on("booking:cancelled",()=>{t().increment_notification_count()}))}}),{name:"libyastay-storage",storage:Qp(()=>localStorage),partialize:e=>({authentication_state:{current_user:e.authentication_state.current_user,auth_token:e.authentication_state.auth_token,authentication_status:{is_authenticated:e.authentication_state.authentication_status.is_authenticated,is_loading:!1},error_message:null},search_filters:e.search_filters,booking_cart:e.booking_cart,user_role:e.user_role,notification_count:e.notification_count})})),Tw=()=>{const[e,t]=S.useState(!1),[r,n]=S.useState(!1),i=G(b=>b.authentication_state.current_user),a=G(b=>b.authentication_state.authentication_status.is_authenticated),o=G(b=>b.notification_count.unread_count),l=G(b=>b.logout_user),c=Pn(),u=()=>{l(),n(!1)},d=()=>{t(!e)},h=()=>{t(!1)},x=()=>{n(!r)},g=()=>{n(!1)};return en.useEffect(()=>{const b=()=>{r&&g()};return document.addEventListener("click",b),()=>{document.removeEventListener("click",b)}},[r]),en.useEffect(()=>{h()},[c]),s.jsx(s.Fragment,{children:s.jsxs("nav",{className:"bg-white shadow-md sticky top-0 z-50",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between h-16",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(U,{to:"/",className:"flex-shrink-0 flex items-center",onClick:h,children:s.jsx("div",{className:"bg-red-600 text-white font-bold text-xl px-3 py-1 rounded",children:"LibyaStay"})}),s.jsxs("div",{className:"hidden md:ml-6 md:flex md:space-x-8",children:[s.jsx(U,{to:"/",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${c.pathname==="/"?"border-red-600 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,onClick:h,children:"Home"}),s.jsx(U,{to:"/search",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${c.pathname==="/search"?"border-red-600 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,onClick:h,children:"Search"}),a&&(i==null?void 0:i.role)==="host"&&s.jsx(U,{to:"/dashboard/listings",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${c.pathname==="/dashboard/listings"?"border-red-600 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,onClick:h,children:"Listings"}),a&&s.jsx(U,{to:"/messages",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${c.pathname==="/messages"?"border-red-600 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,onClick:h,children:"Messages"})]})]}),s.jsxs("div",{className:"flex items-center",children:[a?s.jsxs("div",{className:"flex items-center",children:[s.jsxs(U,{to:"/notifications",className:"p-1 rounded-full text-gray-600 hover:text-gray-900 focus:outline-none relative",onClick:h,children:[s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),o>0&&s.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:o})]}),s.jsxs("div",{className:"ml-3 relative",children:[s.jsx("div",{children:s.jsx("button",{onClick:x,className:"flex text-sm rounded-full focus:outline-none","aria-expanded":r,"aria-haspopup":"true",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:i!=null&&i.profile_picture_url?s.jsx("img",{className:"h-8 w-8 rounded-full",src:i.profile_picture_url,alt:i.name}):s.jsx("span",{className:"text-gray-700 font-medium",children:i==null?void 0:i.name.charAt(0)})})})}),r&&s.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-gray-200",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:i==null?void 0:i.name}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:i==null?void 0:i.email})]}),s.jsx(U,{to:"/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:g,children:"Dashboard"}),s.jsx(U,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:g,children:"Settings"}),(i==null?void 0:i.emergency_contact_name)&&s.jsxs("div",{className:"px-4 py-2 text-xs text-red-600 bg-red-50",children:[s.jsx("span",{className:"font-medium",children:"Emergency:"})," ",i.emergency_contact_name]}),s.jsx("button",{onClick:u,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Sign out"})]})]})]}):s.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[s.jsx(U,{to:"/login",className:"text-gray-700 hover:text-gray-900 text-sm font-medium",onClick:h,children:"Login"}),s.jsx(U,{to:"/register",className:"bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700",onClick:h,children:"Register"})]}),s.jsx("div",{className:"md:hidden flex items-center ml-4",children:s.jsxs("button",{onClick:d,className:"inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none","aria-expanded":"false",children:[s.jsx("span",{className:"sr-only",children:"Open main menu"}),e?s.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):s.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})]})}),e&&s.jsx("div",{className:"md:hidden",children:s.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[s.jsx(U,{to:"/",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${c.pathname==="/"?"bg-red-50 border-red-600 text-red-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:h,children:"Home"}),s.jsx(U,{to:"/search",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${c.pathname==="/search"?"bg-red-50 border-red-600 text-red-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:h,children:"Search"}),a&&(i==null?void 0:i.role)==="host"&&s.jsx(U,{to:"/dashboard/listings",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${c.pathname==="/dashboard/listings"?"bg-red-50 border-red-600 text-red-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:h,children:"Listings"}),a&&s.jsx(U,{to:"/messages",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${c.pathname==="/messages"?"bg-red-50 border-red-600 text-red-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:h,children:"Messages"}),a?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"border-t border-gray-200 pt-4 pb-3",children:[s.jsxs("div",{className:"flex items-center px-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:i!=null&&i.profile_picture_url?s.jsx("img",{className:"h-10 w-10 rounded-full",src:i.profile_picture_url,alt:i.name}):s.jsx("span",{className:"text-gray-700 font-medium",children:i==null?void 0:i.name.charAt(0)})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("div",{className:"text-base font-medium text-gray-800",children:i==null?void 0:i.name}),s.jsx("div",{className:"text-sm font-medium text-gray-500",children:i==null?void 0:i.email}),(i==null?void 0:i.emergency_contact_name)&&s.jsxs("div",{className:"text-xs text-red-600 mt-1",children:[s.jsx("span",{className:"font-medium",children:"Emergency:"})," ",i.emergency_contact_name]})]})]}),s.jsxs("div",{className:"mt-3 space-y-1",children:[s.jsx(U,{to:"/dashboard",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",onClick:h,children:"Dashboard"}),s.jsx(U,{to:"/settings",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",onClick:h,children:"Settings"}),s.jsx("button",{onClick:()=>{u(),h()},className:"block w-full text-left px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:"Sign out"})]})]})}):s.jsxs(s.Fragment,{children:[s.jsx(U,{to:"/login",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800",onClick:h,children:"Login"}),s.jsx(U,{to:"/register",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800",onClick:h,children:"Register"})]})]})})]})})},Ow=()=>{const e=G(n=>n.currentLanguage||"ar"),t=G(n=>n.setLanguage),r=n=>{t(n)};return s.jsx(s.Fragment,{children:s.jsx("footer",{className:"bg-gray-900 text-gray-300 mt-auto","aria-label":"Site footer",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white",lang:"ar",children:"ليبيا ستاي"}),s.jsx("p",{className:"text-sm",children:e==="ar"?"منصة حجز أماكن الإقامة في ليبيا، مكرسة لربط المسافرين بمضيفي المواقع المحلية لتجربة تراثية حقيقية.":"LibyaStay connects travelers with local hosts for authentic Libyan accommodation experiences."}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold text-white",children:"Contact Us"}),s.jsx("p",{children:"123 Tripoli Street"}),s.jsx("p",{children:"Tripoli, Libya"}),s.jsx("p",{children:"+218 91 234 5678"}),s.jsx("p",{children:"support@libyastay.com"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:e==="ar"?"الروابط القانونية والدعم":"Legal & Support"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(U,{to:"/terms",className:"hover:text-white transition-colors",children:e==="ar"?"شروط الخدمة":"Terms of Service"})}),s.jsx("li",{children:s.jsx(U,{to:"/privacy",className:"hover:text-white transition-colors",children:e==="ar"?"سياسة الخصوصية":"Privacy Policy"})}),s.jsx("li",{children:s.jsx(U,{to:"/help",className:"hover:text-white transition-colors",children:e==="ar"?"مركز المساعدة":"Help Center"})}),s.jsx("li",{children:s.jsx(U,{to:"/safety",className:"hover:text-white transition-colors",children:e==="ar"?"إرشادات السلامة":"Safety Guidelines"})}),s.jsx("li",{children:s.jsx(U,{to:"/contact",className:"hover:text-white transition-colors",children:e==="ar"?"الإبلاغ عن إساءة":"Report Abuse"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:e==="ar"?"تابعنا":"Follow Us"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Facebook",children:[s.jsx("span",{className:"sr-only",children:"Facebook"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Instagram",children:[s.jsx("span",{className:"sr-only",children:"Instagram"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Twitter",children:[s.jsx("span",{className:"sr-only",children:"Twitter"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]}),s.jsxs("div",{className:"text-sm mt-4",children:[s.jsx("p",{className:"font-semibold text-white",children:e==="ar"?"الشراكات":"Partnerships"}),s.jsx("p",{children:e==="ar"?"في تعاون مع المؤسسات المحلية":"In partnership with local institutions"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:e==="ar"?"الإعدادات":"Settings"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"language-select",className:"block text-sm font-medium text-gray-400 mb-1",children:e==="ar"?"اللغة":"Language"}),s.jsxs("select",{id:"language-select",value:e,onChange:n=>r(n.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-700 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md bg-gray-800 text-white",children:[s.jsx("option",{value:"ar",children:"العربية"}),s.jsx("option",{value:"en",children:"English"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:e==="ar"?"العملة":"Currency"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:"LYD"}),s.jsxs("svg",{className:"h-4 w-6",viewBox:"0 0 30 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("rect",{width:"30",height:"20",fill:"#CE1126"}),s.jsx("rect",{y:"6.66663",width:"30",height:"6.66667",fill:"black"}),s.jsx("rect",{y:"13.3334",width:"30",height:"6.66667",fill:"#007A3D"})]})]})]})]})]})]}),s.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-800 text-center text-sm",children:[s.jsxs("p",{children:["© ",new Date().getFullYear()," LibyaStay. ",e==="ar"?"جميع الحقوق محفوظة.":"All rights reserved."]}),s.jsx("div",{className:"mt-2 flex justify-center space-x-6",children:s.jsx("span",{children:e==="ar"?"منصة Libyan Market":"Libyan Market Platform"})})]})]})})})},Fw=()=>{const e=lr(),t=G(g=>g.update_search_filters),r=G(g=>g.authentication_state.authentication_status.is_authenticated),[n,i]=S.useState({location:"",check_in:"",check_out:"",guest_count:1}),{data:a,isLoading:o,error:l}=oe({queryKey:["featuredProperties"],queryFn:async()=>(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties",{params:{limit:6,sort_by:"created_at"}})).data.properties,staleTime:5*60*1e3,retry:1}),{data:c,isLoading:u,error:d}=oe({queryKey:["testimonials"],queryFn:async()=>(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/reviews",{params:{limit:3,sort_by:"created_at"}})).data,staleTime:10*60*1e3,retry:1}),h=g=>{g.preventDefault(),t({location:n.location||null,check_in:n.check_in||null,check_out:n.check_out||null,guest_count:n.guest_count||null}),e("/search")},x=(g,b)=>{i(v=>({...v,[g]:b}))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative bg-gradient-to-r from-green-700 to-red-700 text-white",children:[s.jsx("div",{className:"absolute inset-0 bg-black opacity-30"}),s.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-24 sm:py-32 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("h1",{className:"text-4xl font-extrabold tracking-tight sm:text-5xl md:text-6xl",children:[s.jsx("span",{className:"block",children:" Libyan Stays, "}),s.jsx("span",{className:"block text-green-300",children:" Local Experiences "})]}),s.jsx("p",{className:"mt-6 max-w-lg mx-auto text-xl text-gray-200",children:"Discover unique accommodations across Libya with LibyaStay - your home away from home."})]}),s.jsx("div",{className:"mt-10 max-w-4xl mx-auto",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6",children:s.jsxs("form",{onSubmit:h,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Where to?"}),s.jsx("input",{type:"text",id:"location",placeholder:"Tripoli, Benghazi, Misrata...",value:n.location,onChange:g=>x("location",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"check_in",className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in"}),s.jsx("input",{type:"date",id:"check_in",value:n.check_in,onChange:g=>x("check_in",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"check_out",className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out"}),s.jsx("input",{type:"date",id:"check_out",value:n.check_out,onChange:g=>x("check_out",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"guests",className:"block text-sm font-medium text-gray-700 mb-1",children:"Guests"}),s.jsx("select",{id:"guests",value:n.guest_count,onChange:g=>x("guest_count",parseInt(g.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[1,2,3,4,5,6,7,8].map(g=>s.jsxs("option",{value:g,children:[g," ",g===1?"Guest":"Guests"]},g))})]}),s.jsx("div",{className:"md:col-span-4",children:s.jsx("button",{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-md transition duration-300",children:"Search Accommodations"})})]})})})]})]}),s.jsx("div",{className:"py-16 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Featured Destinations"}),s.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Discover amazing places to stay across Libya"})]}),o?s.jsx("div",{className:"flex justify-center mt-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-600"})}):l?s.jsx("div",{className:"text-center mt-12 text-red-600",children:"Failed to load featured destinations. Please try again later."}):s.jsx("div",{className:"mt-12 grid gap-5 max-w-lg mx-auto lg:grid-cols-3 lg:max-w-none",children:a==null?void 0:a.map(g=>s.jsxs("div",{className:"flex flex-col rounded-lg shadow-lg overflow-hidden",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-48 w-full bg-gray-300 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-500",children:"Property Image"})})}),s.jsxs("div",{className:"flex-1 bg-white p-6 flex flex-col justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-medium text-green-600",children:[g.city,g.neighborhood?`, ${g.neighborhood}`:""]}),s.jsxs(U,{to:`/properties/${g.property_id}`,className:"block mt-2",children:[s.jsx("p",{className:"text-xl font-semibold text-gray-900",children:g.title}),s.jsx("p",{className:"mt-3 text-base text-gray-500 line-clamp-3",children:g.description})]})]}),s.jsxs("div",{className:"mt-6 flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[g.guest_capacity," guests"]})}),s.jsx("div",{className:"ml-3",children:s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[g.base_price_per_night," LYD",s.jsx("span",{className:"text-gray-500",children:"/night"})]})})]})]})]},g.property_id))})]})}),s.jsx("div",{className:"py-16 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"lg:text-center",children:[s.jsx("h2",{className:"text-base text-green-600 font-semibold tracking-wide uppercase",children:"How It Works"}),s.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"For Travelers & Hosts"})]}),s.jsx("div",{className:"mt-16",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"For Travelers"}),s.jsx("div",{className:"space-y-10",children:[{title:"Search & Discover",description:"Browse our extensive collection of accommodations in Libyan cities."},{title:"Book Your Stay",description:"Secure your accommodation with our simple booking process."},{title:"Enjoy Your Trip",description:"Experience authentic Libyan hospitality and culture."}].map((g,b)=>s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-green-500 text-white font-bold",children:b+1})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h4",{className:"text-lg leading-6 font-medium text-gray-900",children:g.title}),s.jsx("p",{className:"mt-2 text-base text-gray-500",children:g.description})]})]},b))}),s.jsx("div",{className:"mt-8",children:s.jsx(U,{to:"/search",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700",children:"Find Your Stay"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"For Hosts"}),s.jsx("div",{className:"space-y-10",children:[{title:"List Your Property",description:"Create a detailed listing of your space with photos and amenities."},{title:"Receive Booking Requests",description:"Get notified when travelers want to book your property."},{title:"Earn Income",description:"Welcome guests and earn money from your listing."}].map((g,b)=>s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-red-500 text-white font-bold",children:b+1})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h4",{className:"text-lg leading-6 font-medium text-gray-900",children:g.title}),s.jsx("p",{className:"mt-2 text-base text-gray-500",children:g.description})]})]},b))}),s.jsx("div",{className:"mt-8",children:r?s.jsx(U,{to:"/listings/create",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:"Add Your Property"}):s.jsx(U,{to:"/register",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:"Become a Host"})})]})]})})]})}),s.jsx("div",{className:"py-16 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Your Safety is Our Priority"}),s.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"We ensure secure and trustworthy experiences for all users"})]}),s.jsx("div",{className:"mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Verified Listings",description:"All properties are verified for accuracy and safety"},{title:"Secure Payments",description:"Safe and transparent payment processing"},{title:"24/7 Support",description:"Round-the-clock assistance for all your needs"},{title:"Local Community",description:"Authentic experiences with Libyan hosts"}].map((g,b)=>s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-green-500 text-white",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),s.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:g.title}),s.jsx("p",{className:"mt-2 text-base text-gray-500",children:g.description})]},b))})]})}),s.jsx("div",{className:"py-16 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"What Our Guests Say"}),s.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Hear from travelers who've experienced Libya through LibyaStay"})]}),u?s.jsx("div",{className:"flex justify-center mt-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-600"})}):d?s.jsx("div",{className:"text-center mt-12 text-red-600",children:"Failed to load testimonials. Please try again later."}):s.jsx("div",{className:"mt-12 grid gap-8 lg:grid-cols-3",children:c==null?void 0:c.map(g=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((b,v)=>s.jsx("svg",{className:`h-5 w-5 ${v<g.overall_rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},v))}),s.jsx("blockquote",{className:"mt-4",children:s.jsx("p",{className:"text-base text-gray-700",children:g.comment||"This was an amazing experience. The host was very welcoming and the place was exactly as described."})}),s.jsxs("div",{className:"mt-6 flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-600 font-bold",children:"U"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Anonymous Traveler"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Verified Guest"})]})]})]},g.review_id))})]})}),s.jsx("div",{className:"py-16 bg-gradient-to-r from-green-700 to-red-700",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-extrabold text-white",children:"Ready to Experience Libya?"}),s.jsx("p",{className:"mt-4 text-lg text-green-100",children:"Join thousands of travelers and hosts on LibyaStay"}),s.jsxs("div",{className:"mt-10 flex justify-center space-x-4",children:[s.jsx(U,{to:"/search",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-green-700 bg-white hover:bg-green-50",children:"Find Your Stay"}),r?s.jsx(U,{to:"/listings/create",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:"Add Your Property"}):s.jsx(U,{to:"/register",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:"Become a Host"})]})]})})})]})},Mw=()=>{var E;const[e,t]=js(),r=G(w=>w.update_search_filters),[n,i]=S.useState(!1),[a,o]=S.useState(1),[l,c]=S.useState({location:e.get("location")||"",check_in:e.get("check_in")||"",check_out:e.get("check_out")||"",guest_count:e.get("guests")?parseInt(e.get("guests")||"1"):null,price_min:e.get("price_min")?parseFloat(e.get("price_min")||"0"):null,price_max:e.get("price_max")?parseFloat(e.get("price_max")||"0"):null,property_type:e.get("property_type")||"",amenities:e.get("amenities")?((E=e.get("amenities"))==null?void 0:E.split(","))||[]:[],instant_book:null,sort_by:e.get("sort_by")||"created_at"});S.useEffect(()=>{const w=e.get("amenities");w&&c(j=>({...j,amenities:w.split(",")}))},[e]),S.useEffect(()=>{r({location:l.location||null,check_in:l.check_in||null,check_out:l.check_out||null,guest_count:l.guest_count,price_min:l.price_min,price_max:l.price_max,property_types:l.property_type?[l.property_type]:[],amenities:l.amenities,sort_by:l.sort_by})},[l,r]);const u=async()=>{const w={limit:10,offset:(a-1)*10};return l.location&&(w.location=l.location),l.check_in&&(w.check_in=l.check_in),l.check_out&&(w.check_out=l.check_out),l.guest_count&&(w.guests=l.guest_count.toString()),l.price_min&&(w.price_min=l.price_min),l.price_max&&(w.price_max=l.price_max),l.property_type&&(w.property_type=l.property_type),l.amenities.length>0&&(w.amenities=l.amenities.join(",")),l.instant_book!==null&&(w.instant_book=l.instant_book.toString()),l.sort_by&&(w.sort_by=l.sort_by),(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties",{params:w})).data},{data:d,isLoading:h,error:x,refetch:g}=oe({queryKey:["properties",l,a],queryFn:u,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),b=(w,j)=>{c(M=>({...M,[w]:j})),o(1);const y=new URLSearchParams(e.toString());j!==null&&j!==""?w==="amenities"?y.set("amenities",j.join(",")):y.set(w,j.toString()):y.delete(w),t(y)},v=w=>{const j=l.amenities.includes(w)?l.amenities.filter(y=>y!==w):[...l.amenities,w];b("amenities",j)},k=w=>{b("property_type",l.property_type===w?"":w)},p=()=>{c({location:"",check_in:"",check_out:"",guest_count:null,price_min:null,price_max:null,property_type:"",amenities:[],instant_book:null,sort_by:"created_at"}),t({}),o(1)},m=d?Math.ceil(d.total_count/10):1,f=a<m,_=a>1;return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Find Your Stay in Libya"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:d?`${d.total_count} properties found`:"Searching properties..."})]}),s.jsx("div",{className:"mt-4 flex md:mt-0",children:s.jsx("button",{onClick:()=>i(!n),className:"ml-3 inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:n?"List View":"Map View"})})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("div",{className:"w-full lg:w-1/4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Filters"}),s.jsx("button",{onClick:p,className:"text-sm text-blue-600 hover:text-blue-800",children:"Reset all"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),s.jsx("input",{type:"text",id:"location",value:l.location,onChange:w=>b("location",w.target.value),placeholder:"City or neighborhood",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guests"}),s.jsxs("select",{value:l.guest_count||"",onChange:w=>b("guest_count",w.target.value?parseInt(w.target.value):null),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[s.jsx("option",{value:"",children:"Any number"}),[1,2,3,4,5,6,7,8].map(w=>s.jsxs("option",{value:w,children:[w," guest",w>1?"s":""]},w))]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price per night (LYD)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Min",value:l.price_min||"",onChange:w=>b("price_min",w.target.value?parseFloat(w.target.value):null),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})}),s.jsx("div",{children:s.jsx("input",{type:"number",placeholder:"Max",value:l.price_max||"",onChange:w=>b("price_max",w.target.value?parseFloat(w.target.value):null),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property type"}),s.jsx("div",{className:"space-y-2",children:["entire_place","private_room","shared_room"].map(w=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:`type-${w}`,name:"property-type",type:"checkbox",checked:l.property_type===w,onChange:()=>k(w),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:`type-${w}`,className:"ml-3 text-sm text-gray-700 capitalize",children:w.replace("_"," ")})]},w))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amenities"}),s.jsx("div",{className:"space-y-2",children:["wifi","ac","kitchen","parking","laundry","tv","pool","gym","generator_power_backup","water_tank"].map(w=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:`amenity-${w}`,name:`amenity-${w}`,type:"checkbox",checked:l.amenities.includes(w),onChange:()=>v(w),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:`amenity-${w}`,className:"ml-3 text-sm text-gray-700 capitalize",children:w.replace(/_/g," ")})]},w))})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"instant-book",name:"instant-book",type:"checkbox",checked:l.instant_book===!0,onChange:w=>b("instant_book",w.target.checked?!0:null),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"instant-book",className:"ml-3 text-sm text-gray-700",children:"Instant book"})]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"sort-by",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort by"}),s.jsxs("select",{id:"sort-by",value:l.sort_by,onChange:w=>b("sort_by",w.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[s.jsx("option",{value:"created_at",children:"Newest"}),s.jsx("option",{value:"price_low_to_high",children:"Price: Low to High"}),s.jsx("option",{value:"price_high_to_low",children:"Price: High to Low"}),s.jsx("option",{value:"rating_high_to_low",children:"Rating"})]})]})]})}),s.jsx("div",{className:"w-full lg:w-3/4",children:h?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):x?s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading properties"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:s.jsx("p",{children:x instanceof Error?x.message:"An error occurred while loading properties"})}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{type:"button",onClick:()=>g(),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Try again"})})]})]})}):n?s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Map View Coming Soon"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"Interactive map view with property markers will be available in a future update."}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>i(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to List View"})})]}):s.jsxs(s.Fragment,{children:[d&&d.properties.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.properties.map(w=>s.jsxs(U,{to:`/properties/${w.property_id}`,className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-md transition-shadow duration-300",children:[s.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-t-lg w-full h-48 flex items-center justify-center",children:s.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:w.title}),s.jsxs("p",{className:"text-sm text-gray-500",children:[w.city,w.neighborhood?`, ${w.neighborhood}`:""]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),s.jsx("span",{className:"ml-1 text-sm font-medium text-gray-900",children:"4.85"})]})]}),s.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[s.jsxs("span",{children:[w.guest_capacity," guests"]}),s.jsx("span",{className:"mx-2",children:"•"}),s.jsxs("span",{children:[w.bedrooms," bedroom",w.bedrooms!==1?"s":""]}),s.jsx("span",{className:"mx-2",children:"•"}),s.jsxs("span",{children:[w.bathrooms," bath"]})]}),s.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[w.has_power_backup&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Power Backup"}),w.has_water_tank&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Water Tank"}),w.instant_book&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Instant Book"})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[w.base_price_per_night," LYD ",s.jsx("span",{className:"text-sm font-normal text-gray-500",children:"night"})]})}),s.jsx("button",{className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Details"})]})]})]},w.property_id))}):s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No properties found"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"Try adjusting your search filters to find more properties."}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:p,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Reset all filters"})})]}),d&&d.total_count>10&&s.jsxs("div",{className:"mt-8 flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 rounded-lg shadow",children:[s.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>o(w=>Math.max(1,w-1)),disabled:!_,className:`relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${_?"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-300 bg-gray-100 border border-gray-200 cursor-not-allowed"}`,children:"Previous"}),s.jsx("button",{onClick:()=>o(w=>Math.min(m,w+1)),disabled:!f,className:`relative ml-3 inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${f?"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-300 bg-gray-100 border border-gray-200 cursor-not-allowed"}`,children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(a-1)*10+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(a*10,d.total_count)})," ","of ",s.jsx("span",{className:"font-medium",children:d.total_count})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[s.jsxs("button",{onClick:()=>o(w=>Math.max(1,w-1)),disabled:!_,className:`relative inline-flex items-center rounded-l-md px-2 py-2 ${_?"text-gray-400 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-200 bg-gray-100 border border-gray-200 cursor-not-allowed"}`,children:[s.jsx("span",{className:"sr-only",children:"Previous"}),s.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:Math.min(5,m)},(w,j)=>{let y;return m<=5||a<=3?y=j+1:a>=m-2?y=m-4+j:y=a-2+j,s.jsx("button",{onClick:()=>o(y),"aria-current":y===a?"page":void 0,className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${y===a?"z-10 bg-blue-600 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:outline-offset-0"}`,children:y},y)}),s.jsxs("button",{onClick:()=>o(w=>Math.min(m,w+1)),disabled:!f,className:`relative inline-flex items-center rounded-r-md px-2 py-2 ${f?"text-gray-400 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-200 bg-gray-100 border border-gray-200 cursor-not-allowed"}`,children:[s.jsx("span",{className:"sr-only",children:"Next"}),s.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})})]})})]})})};function nt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ir(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Aw(e,t){const r=nt(e);return isNaN(t)?ir(e,NaN):(r.setDate(r.getDate()+t),r)}const T0=6048e5,Dw=864e5,O0=6e4,F0=36e5;let Bw={};function Ro(){return Bw}function _i(e,t){var l,c,u,d;const r=Ro(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=nt(e),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ro(e){return _i(e,{weekStartsOn:1})}function M0(e){const t=nt(e),r=t.getFullYear(),n=ir(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=ro(n),a=ir(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=ro(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function no(e){const t=nt(e);return t.setHours(0,0,0,0),t}function Qh(e){const t=nt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function $w(e,t){const r=no(e),n=no(t),i=+r-Qh(r),a=+n-Qh(n);return Math.round((i-a)/Dw)}function Iw(e){const t=M0(e),r=ir(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ro(r)}function A0(e){return ir(e,Date.now())}function so(e,t){const r=no(e),n=no(t);return+r==+n}function zw(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function qw(e){if(!zw(e)&&typeof e!="number")return!1;const t=nt(e);return!isNaN(Number(t))}function Vw(e){const t=nt(e),r=ir(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Ww={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Uw=(e,t,r)=>{let n;const i=Ww[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function pl(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Hw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Kw={date:pl({formats:Hw,defaultWidth:"full"}),time:pl({formats:Qw,defaultWidth:"full"}),dateTime:pl({formats:Yw,defaultWidth:"full"})},Gw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jw=(e,t,r,n)=>Gw[e];function $s(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Xw={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},e2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},t2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},r2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},n2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},s2=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},i2={ordinalNumber:s2,era:$s({values:Xw,defaultWidth:"wide"}),quarter:$s({values:Zw,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$s({values:e2,defaultWidth:"wide"}),day:$s({values:t2,defaultWidth:"wide"}),dayPeriod:$s({values:r2,defaultWidth:"wide",formattingValues:n2,defaultFormattingWidth:"wide"})};function Is(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?o2(l,h=>h.test(o)):a2(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function a2(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function o2(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function l2(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const c2=/^(\d+)(th|st|nd|rd)?/i,u2=/\d+/i,d2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},h2={any:[/^b/i,/^(a|c)/i]},m2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},f2={any:[/1/i,/2/i,/3/i,/4/i]},p2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},x2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},g2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},y2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},v2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},b2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},w2={ordinalNumber:l2({matchPattern:c2,parsePattern:u2,valueCallback:e=>parseInt(e,10)}),era:Is({matchPatterns:d2,defaultMatchWidth:"wide",parsePatterns:h2,defaultParseWidth:"any"}),quarter:Is({matchPatterns:m2,defaultMatchWidth:"wide",parsePatterns:f2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Is({matchPatterns:p2,defaultMatchWidth:"wide",parsePatterns:x2,defaultParseWidth:"any"}),day:Is({matchPatterns:g2,defaultMatchWidth:"wide",parsePatterns:y2,defaultParseWidth:"any"}),dayPeriod:Is({matchPatterns:v2,defaultMatchWidth:"any",parsePatterns:b2,defaultParseWidth:"any"})},j2={code:"en-US",formatDistance:Uw,formatLong:Kw,formatRelative:Jw,localize:i2,match:w2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function N2(e){const t=nt(e);return $w(t,Vw(t))+1}function _2(e){const t=nt(e),r=+ro(t)-+Iw(t);return Math.round(r/T0)+1}function D0(e,t){var d,h,x,g;const r=nt(e),n=r.getFullYear(),i=Ro(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(x=i.locale)==null?void 0:x.options)==null?void 0:g.firstWeekContainsDate)??1,o=ir(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=_i(o,t),c=ir(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=_i(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function k2(e,t){var l,c,u,d;const r=Ro(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=D0(e,t),a=ir(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),_i(a,t)}function S2(e,t){const r=nt(e),n=+_i(r,t)-+k2(r,t);return Math.round(n/T0)+1}function ie(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const hr={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ie(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ie(r+1,2)},d(e,t){return ie(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ie(e.getHours()%12||12,t.length)},H(e,t){return ie(e.getHours(),t.length)},m(e,t){return ie(e.getMinutes(),t.length)},s(e,t){return ie(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ie(i,t.length)}},Tn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yh={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return hr.y(e,t)},Y:function(e,t,r,n){const i=D0(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return ie(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):ie(a,t.length)},R:function(e,t){const r=M0(e);return ie(r,t.length)},u:function(e,t){const r=e.getFullYear();return ie(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ie(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ie(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return hr.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ie(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=S2(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):ie(i,t.length)},I:function(e,t,r){const n=_2(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ie(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):hr.d(e,t)},D:function(e,t,r){const n=N2(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ie(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ie(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ie(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return ie(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Tn.noon:n===0?i=Tn.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Tn.evening:n>=12?i=Tn.afternoon:n>=4?i=Tn.morning:i=Tn.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return hr.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):hr.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ie(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ie(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):hr.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):hr.s(e,t)},S:function(e,t){return hr.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Gh(n);case"XXXX":case"XX":return Zr(n);case"XXXXX":case"XXX":default:return Zr(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Gh(n);case"xxxx":case"xx":return Zr(n);case"xxxxx":case"xxx":default:return Zr(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Kh(n,":");case"OOOO":default:return"GMT"+Zr(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Kh(n,":");case"zzzz":default:return"GMT"+Zr(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ie(n,t.length)},T:function(e,t,r){const n=e.getTime();return ie(n,t.length)}};function Kh(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+ie(a,2)}function Gh(e,t){return e%60===0?(e>0?"-":"+")+ie(Math.abs(e)/60,2):Zr(e,t)}function Zr(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=ie(Math.trunc(n/60),2),a=ie(n%60,2);return r+i+t+a}const Jh=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},B0=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},C2=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Jh(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Jh(n,t)).replace("{{time}}",B0(i,t))},E2={p:B0,P:C2},P2=/^D+$/,L2=/^Y+$/,R2=["D","DD","YY","YYYY"];function T2(e){return P2.test(e)}function O2(e){return L2.test(e)}function F2(e,t,r){const n=M2(e,t,r);if(console.warn(n),R2.includes(e))throw new RangeError(n)}function M2(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const A2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,D2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,B2=/^'([^]*?)'?$/,$2=/''/g,I2=/[a-zA-Z]/;function xr(e,t,r){var d,h,x,g;const n=Ro(),i=n.locale??j2,a=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((g=(x=n.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??0,l=nt(e);if(!qw(l))throw new RangeError("Invalid time value");let c=t.match(D2).map(b=>{const v=b[0];if(v==="p"||v==="P"){const k=E2[v];return k(b,i.formatLong)}return b}).join("").match(A2).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const v=b[0];if(v==="'")return{isToken:!1,value:z2(b)};if(Yh[v])return{isToken:!0,value:b};if(v.match(I2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(b=>{if(!b.isToken)return b.value;const v=b.value;(O2(v)||T2(v))&&F2(v,t,String(e));const k=Yh[v[0]];return k(l,v,i.localize,u)}).join("")}function z2(e){const t=e.match(B2);return t?t[1].replace($2,"'"):e}function q2(e,t){const r=nt(e),n=nt(t);return+r<+n}function V2(e){return so(e,A0(e))}function W2(e,t){return Aw(e,-1)}function U2(e){return so(e,W2(A0(e)))}function H2(e,t){const n=G2(e);let i;if(n.date){const c=J2(n.date,2);i=X2(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let o=0,l;if(n.time&&(o=Z2(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=ej(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+o+l)}const ia={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Q2=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Y2=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,K2=/^([+-])(\d{2})(?::?(\d{2}))?$/;function G2(e){const t={},r=e.split(ia.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],ia.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ia.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=ia.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function J2(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function X2(e,t){if(t===null)return new Date(NaN);const r=e.match(Q2);if(!r)return new Date(NaN);const n=!!r[4],i=zs(r[1]),a=zs(r[2])-1,o=zs(r[3]),l=zs(r[4]),c=zs(r[5])-1;if(n)return ij(t,l,c)?tj(t,l,c):new Date(NaN);{const u=new Date(0);return!nj(t,a,o)||!sj(t,i)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(i,o)),u)}}function zs(e){return e?parseInt(e):1}function Z2(e){const t=e.match(Y2);if(!t)return NaN;const r=xl(t[1]),n=xl(t[2]),i=xl(t[3]);return aj(r,n,i)?r*F0+n*O0+i*1e3:NaN}function xl(e){return e&&parseFloat(e.replace(",","."))||0}function ej(e){if(e==="Z")return 0;const t=e.match(K2);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return oj(n,i)?r*(n*F0+i*O0):NaN}function tj(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const rj=[31,null,31,30,31,30,31,31,30,31,30,31];function $0(e){return e%400===0||e%4===0&&e%100!==0}function nj(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(rj[t]||($0(e)?29:28))}function sj(e,t){return t>=1&&t<=($0(e)?366:365)}function ij(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function aj(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function oj(e,t){return t>=0&&t<=59}const lj=()=>{var Xu,Zu;const{property_id:e}=$u(),[t]=js(),r=G(B=>B.authentication_state.authentication_status.is_authenticated),n=G(B=>B.authentication_state.current_user),i=G(B=>B.authentication_state.auth_token),a=G(B=>B.booking_cart),[o,l]=S.useState(0),[c,u]=S.useState(!1),[d,h]=S.useState(t.get("check_in")||a.check_in),[x,g]=S.useState(t.get("check_out")||a.check_out),[b,v]=S.useState(t.get("guests")?parseInt(t.get("guests")):a.guest_count||1),[k,p]=S.useState(""),[m,f]=S.useState(!1),[_,E]=S.useState(!1),[w,j]=S.useState({start:null,end:null}),{data:y,isLoading:M,error:D}=oe({queryKey:["property",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}`)).data,enabled:!!e}),{data:K=[]}=oe({queryKey:["property-photos",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/photos`)).data,enabled:!!e}),{data:F}=oe({queryKey:["host",y==null?void 0:y.host_id],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${y==null?void 0:y.host_id}`)).data,enabled:!!(y!=null&&y.host_id)}),{data:L=[]}=oe({queryKey:["property-reviews",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/reviews`)).data,enabled:!!e}),{data:C=[],refetch:P}=oe({queryKey:["property-availability",e,w.start,w.end],queryFn:async()=>{const B=new URLSearchParams;return w.start&&B.append("start_date",w.start),w.end&&B.append("end_date",w.end),(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/availability?${B}`)).data},enabled:!!e&&!!w.start&&!!w.end}),A=y!=null&&y.amenities?y.amenities.split(",").map(B=>B.trim()):[],Q=d&&x?Math.max(0,Math.ceil((new Date(x).getTime()-new Date(d).getTime())/(1e3*60*60*24))):0,z=y&&Q>0?y.base_price_per_night*Q:0,T=z*.1,I=z+T,H=()=>{if(!d||!x)return!1;const B=new Date(d),re=new Date(x);for(let Ce=new Date(B);Ce<re;Ce.setDate(Ce.getDate()+1)){const st=xr(Ce,"yyyy-MM-dd"),it=C.find(Cs=>Cs.date===st);if(!it||!it.is_available)return!1}return!0},R=B=>{l(B),u(!0)},le=()=>{u(!1)};S.useEffect(()=>{if(d&&x){const B=new Date(d),re=new Date(x),Ce=new Date(B);Ce.setMonth(Ce.getMonth()-1);const st=new Date(re);st.setMonth(st.getMonth()+1),j({start:xr(Ce,"yyyy-MM-dd"),end:xr(st,"yyyy-MM-dd")})}},[d,x]),S.useEffect(()=>{w.start&&w.end&&P()},[w,P]);const ve=async()=>{if(!(!y||!n||!i))try{const B={property_id:y.property_id,guest_id:n.user_id,host_id:y.host_id,check_in:d,check_out:x,guest_count:b,total_price:I,service_fee:T,special_requests:k,status:"pending"};await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings",B,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}}),h(null),g(null),v(1),p(""),f(!1),alert("Booking request submitted successfully!")}catch(B){console.error("Booking error:",B),alert("Failed to submit booking request. Please try again.")}},Gr=async()=>{if(!y||!n||!i){alert("You need to be logged in to contact the host.");return}try{const B={guest_id:n.user_id,host_id:y.host_id};await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/conversations",B,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}}),alert("Messaging initiated! You can now communicate with the host.")}catch(B){console.error("Messaging error:",B),alert("Failed to initiate messaging. Please try again.")}},he=(()=>{if(L.length===0)return null;const B={cleanliness:0,accuracy:0,communication:0,location:0,check_in:0,value:0,overall:0};return L.forEach(re=>{B.cleanliness+=re.cleanliness_rating,B.accuracy+=re.accuracy_rating,B.communication+=re.communication_rating,B.location+=re.location_rating,B.check_in+=re.check_in_rating,B.value+=re.value_rating,B.overall+=re.overall_rating}),{cleanliness:B.cleanliness/L.length,accuracy:B.accuracy/L.length,communication:B.communication/L.length,location:B.location/L.length,check_in:B.check_in/L.length,value:B.value/L.length,overall:B.overall/L.length}})(),To=B=>s.jsxs("div",{className:"flex",children:[[...Array(5)].map((re,Ce)=>s.jsx("svg",{className:`w-5 h-5 ${Ce<Math.floor(B)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Ce)),s.jsx("span",{className:"ml-1 text-sm text-gray-600",children:B.toFixed(1)})]}),z0=B=>{switch(B.toLowerCase()){case"wifi":return s.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})});case"ac":case"air conditioning":return s.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15c0-2.8 2.2-5 5-5h11c1.7 0 3 1.3 3 3 0 .4-.1.8-.3 1.1l-4.4 7.9c-.6 1-1.7 1.6-2.9 1.6H8c-2.8 0-5-2.2-5-5z"})});case"kitchen":return s.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})});case"parking":return s.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})});case"generator":return s.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})});case"water tank":return s.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})});default:return s.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}},Oo=B=>{const re=xr(B,"yyyy-MM-dd"),Ce=C.find(Ln=>Ln.date===re);let st=!0,it=!1;if(d&&x){const Ln=new Date(d),Fo=new Date(x);(so(B,Ln)||so(B,Fo)||B>Ln&&B<Fo)&&(it=!0)}Ce&&(st=Ce.is_available);const ur=q2(B,new Date);let Es="bg-white";return it?Es="bg-blue-100":(!st||ur)&&(Es="bg-gray-100"),s.jsx("button",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm ${Es} ${st&&!ur&&!it?"hover:bg-blue-50 cursor-pointer":"cursor-not-allowed"}`,onClick:()=>{!st||ur||it||(d?x?(h(re),g(null)):new Date(re)>new Date(d)?g(re):(g(d),h(re)):h(re))},disabled:!st||ur||it,children:xr(B,"d")},re)},q0=()=>{const B=[],re=new Date,Ce=new Date(re.getFullYear(),re.getMonth(),1),st=new Date(re.getFullYear(),re.getMonth()+2,0),it=new Date(Ce);it.setMonth(it.getMonth()-1);const Cs=new Date(it.getFullYear(),it.getMonth()+1,0),ur=new Date(Ce);ur.setMonth(ur.getMonth()+1);const Es=Cs.getDay();for(let wt=Es;wt>0;wt--){const Wt=new Date(Cs);Wt.setDate(Wt.getDate()-wt+1),B.push(Oo(Wt))}const Ln=st.getDate();for(let wt=1;wt<=Ln;wt++){const Wt=new Date(Ce);Wt.setDate(wt),B.push(Oo(Wt))}const V0=42-B.length;for(let wt=1;wt<=V0;wt++){const Wt=new Date(ur);Wt.setDate(wt),B.push(Oo(Wt))}return B};return M?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):D?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Property Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find the property you're looking for."}),s.jsx(U,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Browse Properties"})]})})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c&&s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:[s.jsx("button",{onClick:le,className:"absolute top-4 right-4 text-white text-3xl",children:"×"}),s.jsx("button",{onClick:()=>l(B=>B>0?B-1:K.length-1),className:"absolute left-4 text-white text-4xl",disabled:K.length<=1,children:"‹"}),s.jsx("button",{onClick:()=>l(B=>B<K.length-1?B+1:0),className:"absolute right-4 text-white text-4xl",disabled:K.length<=1,children:"›"}),s.jsx("img",{src:(Xu=K[o])==null?void 0:Xu.photo_url,alt:"Property",className:"max-h-full max-w-full object-contain"})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:K.length>0?s.jsx("img",{src:(Zu=K[0])==null?void 0:Zu.photo_url,alt:"Property",className:"w-full h-96 object-cover rounded-lg cursor-pointer",onClick:()=>R(0)}):s.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-full h-96 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-500",children:"No photos available"})})}),K.slice(1,5).map((B,re)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:B.photo_url,alt:"Property",className:"w-full h-48 object-cover rounded-lg cursor-pointer",onClick:()=>R(re+1)}),re===3&&K.length>5&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center cursor-pointer",onClick:()=>R(4),children:s.jsxs("span",{className:"text-white text-xl font-bold",children:["+",K.length-5," more"]})})]},B.photo_id))]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:y==null?void 0:y.title}),s.jsxs("p",{className:"text-gray-600",children:[y==null?void 0:y.city,y!=null&&y.neighborhood?`, ${y.neighborhood}`:""]})]}),s.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"flex-shrink-0",children:F!=null&&F.profile_picture_url?s.jsx("img",{src:F.profile_picture_url,alt:F.name,className:"w-16 h-16 rounded-full object-cover"}):s.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-full w-16 h-16 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-500 text-2xl",children:"?"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Hosted by ",F==null?void 0:F.name]}),s.jsx("div",{className:"flex items-center mt-1",children:F!=null&&F.is_verified?s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Verified"}):s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Not Verified"})})]})]}),r&&(F==null?void 0:F.emergency_contact_name)&&s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Emergency Contact"}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Name:"})," ",F.emergency_contact_name]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",F.emergency_contact_phone]})]}),s.jsx("button",{onClick:Gr,className:"mt-4 w-full bg-white border border-gray-300 rounded-md py-2 px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Contact Host"})]}),s.jsx("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:y==null?void 0:y.guest_capacity}),s.jsx("p",{className:"text-sm text-gray-500",children:"Guests"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:y==null?void 0:y.bedrooms}),s.jsx("p",{className:"text-sm text-gray-500",children:"Bedrooms"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:y==null?void 0:y.beds}),s.jsx("p",{className:"text-sm text-gray-500",children:"Beds"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:y==null?void 0:y.bathrooms}),s.jsx("p",{className:"text-sm text-gray-500",children:"Bathrooms"})]})]})}),s.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"About this place"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:y==null?void 0:y.description})]}),s.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"What this place offers"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.map(B=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-3",children:z0(B)}),s.jsx("span",{className:"text-gray-700",children:B})]},B))}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Infrastructure Status"}),s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${y!=null&&y.has_power_backup?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-gray-700",children:"Generator Power Backup"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${y!=null&&y.has_water_tank?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-gray-700",children:"Water Tank/Stable Supply"})]})]})]}),(y==null?void 0:y.house_rules)&&s.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"House Rules"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:y.house_rules})]}),s.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Cancellation Policy"}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:(y==null?void 0:y.cancellation_policy)==="flexible"?s.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):(y==null?void 0:y.cancellation_policy)==="moderate"?s.jsx("svg",{className:"w-6 h-6 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):s.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-lg font-medium text-gray-900 capitalize",children:y==null?void 0:y.cancellation_policy}),s.jsx("p",{className:"text-gray-600 mt-1",children:(y==null?void 0:y.cancellation_policy)==="flexible"?"Free cancellation up to 24 hours before check-in":(y==null?void 0:y.cancellation_policy)==="moderate"?"Free cancellation up to 7 days before check-in":"Non-refundable"})]})]})]}),s.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Reviews"}),he&&s.jsxs("div",{className:"flex items-center",children:[he&&To(he.overall),s.jsxs("span",{className:"ml-2 text-gray-600",children:["(",L.length," reviews)"]})]})]}),he&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Cleanliness"}),s.jsx("span",{className:"text-gray-900 font-medium",children:he.cleanliness.toFixed(1)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${he.cleanliness/5*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Accuracy"}),s.jsx("span",{className:"text-gray-900 font-medium",children:he.accuracy.toFixed(1)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${he.accuracy/5*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Communication"}),s.jsx("span",{className:"text-gray-900 font-medium",children:he.communication.toFixed(1)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${he.communication/5*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Location"}),s.jsx("span",{className:"text-gray-900 font-medium",children:he.location.toFixed(1)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${he.location/5*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Check-in"}),s.jsx("span",{className:"text-gray-900 font-medium",children:he.check_in.toFixed(1)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${he.check_in/5*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Value"}),s.jsx("span",{className:"text-gray-900 font-medium",children:he.value.toFixed(1)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${he.value/5*100}%`}})})]})]}),s.jsx("div",{className:"space-y-6",children:(_?L:L.slice(0,3)).map(B=>s.jsxs("div",{className:"border-b border-gray-200 pb-6 last:border-0 last:pb-0",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-full w-10 h-10 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-500 text-sm",children:"U"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"User"}),s.jsx("p",{className:"text-xs text-gray-500",children:xr(H2(B.created_at),"MMMM d, yyyy")})]})]}),s.jsx("div",{className:"ml-13 mb-2",children:To(B.overall_rating)}),s.jsx("p",{className:"ml-13 text-gray-700",children:B.comment})]},B.review_id))}),L.length>3&&s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>E(!_),className:"text-blue-600 hover:text-blue-800 font-medium",children:_?"Show less":`Show all ${L.length} reviews`})})]})]}),s.jsx("div",{children:s.jsxs("div",{className:"sticky top-8 p-6 bg-white rounded-lg shadow-md border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[y==null?void 0:y.base_price_per_night," ",y==null?void 0:y.currency," ",s.jsx("span",{className:"text-base font-normal text-gray-600",children:"/ night"})]})}),he&&s.jsxs("div",{className:"flex items-center",children:[he&&To(he.overall),s.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:["(",L.length,")"]}),"                    "]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Select dates"}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(B=>s.jsx("div",{className:"text-center text-sm text-gray-500 py-1",children:B},B))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:q0()})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guests"}),s.jsx("select",{value:b,onChange:B=>v(parseInt(B.target.value)),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",disabled:!d||!x,children:[...Array((y==null?void 0:y.guest_capacity)||1)].map((B,re)=>s.jsxs("option",{value:re+1,children:[re+1," ",re===0?"guest":"guests"]},re))})]}),d&&x&&s.jsxs("div",{className:"mb-6 border-t border-gray-200 pt-4",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsxs("span",{className:"text-gray-600",children:[y==null?void 0:y.base_price_per_night," ",y==null?void 0:y.currency," x ",Q," nights"]}),s.jsxs("span",{className:"text-gray-900",children:[z," ",y==null?void 0:y.currency]})]}),s.jsxs("div",{className:"flex justify-between mb-4",children:[s.jsx("span",{className:"text-gray-600",children:"Service fee"}),s.jsxs("span",{className:"text-gray-900",children:[T.toFixed(2)," ",y==null?void 0:y.currency]})]}),s.jsxs("div",{className:"flex justify-between pt-4 border-t border-gray-200",children:[s.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total"}),s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[I.toFixed(2)," ",y==null?void 0:y.currency]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special requests"}),s.jsx("textarea",{value:k,onChange:B=>p(B.target.value),rows:3,className:"block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Any special requests or notes for the host?"})]}),s.jsxs("div",{className:"mb-6 flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:"terms",name:"terms",type:"checkbox",checked:m,onChange:B=>f(B.target.checked),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),s.jsx("div",{className:"ml-3 text-sm",children:s.jsxs("label",{htmlFor:"terms",className:"font-medium text-gray-700",children:["I agree to the ",s.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"House Rules"})," and"," ",s.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Cancellation Policy"})]})})]}),r?s.jsx("button",{onClick:ve,disabled:!d||!x||!m||!H()||b>((y==null?void 0:y.guest_capacity)||0),className:`w-full py-3 px-4 rounded-md text-white font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 ${!d||!x||!m||!H()||b>((y==null?void 0:y.guest_capacity)||0)?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}`,children:!d||!x?"Select dates":H()?b>((y==null?void 0:y.guest_capacity)||0)?"Too many guests":m?y!=null&&y.instant_book?"Book instantly":"Request to book":"Accept terms":"Dates not available"}):s.jsx(U,{to:"/login",className:"w-full py-3 px-4 rounded-md bg-blue-600 hover:bg-blue-700 text-white font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 text-center block",children:"Sign in to book"}),!H()&&d&&x&&s.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Selected dates are not available"})]})})]})]})]})})},cj=()=>{const e=lr(),t=G(P=>P.authentication_state.authentication_status.is_authenticated),r=G(P=>P.register_user),n=G(P=>P.clear_auth_error),[i,a]=S.useState("guest"),[o,l]=S.useState({email:"",phone_number:"",password_hash:"",name:"",profile_picture_url:null,bio:null,emergency_contact_name:null,emergency_contact_phone:null}),[c,u]=S.useState({email_verified:!1,sms_verified:!1,verification_code:""}),[d,h]=S.useState({email:null,phone_number:null,password_hash:null,name:null,verification_code:null}),[x,g]=S.useState(!1),[b,v]=S.useState(!1),[k,p]=S.useState(!1),[m,f]=S.useState(null),[_,E]=S.useState({terms_of_service:!1,privacy_policy:!1,libya_terms:!1,content_guidelines:!1,accommodation_laws:!1});S.useEffect(()=>{t&&e("/dashboard")},[t,e]);const w=()=>{const P={};return o.email?/\S+@\S+\.\S+/.test(o.email)||(P.email="Email address is invalid"):P.email="Email is required",o.phone_number?/^\+?[0-9]{10,15}$/.test(o.phone_number)||(P.phone_number="Phone number is invalid"):P.phone_number="Phone number is required",o.password_hash?o.password_hash.length<8&&(P.password_hash="Password must be at least 8 characters"):P.password_hash="Password is required",o.name?o.name.length<2&&(P.name="Full name must be at least 2 characters"):P.name="Full name is required",h({email:P.email||null,phone_number:P.phone_number||null,password_hash:P.password_hash||null,name:P.name||null,verification_code:null}),!P.email&&!P.phone_number&&!P.password_hash&&!P.name},j=()=>c.verification_code?c.verification_code.length!==6?(h(P=>({...P,verification_code:"Verification code must be 6 digits"})),!1):(h(P=>({...P,verification_code:null})),!0):(h(P=>({...P,verification_code:"Verification code is required"})),!1),y=P=>{const{name:A,value:Q}=P.target;l(z=>({...z,[A]:Q})),d[A]&&h(z=>({...z,[A]:null}))},M=P=>{const{name:A,checked:Q}=P.target;E(z=>({...z,[A]:Q}))},D=async P=>{var A,Q;if(w()){v(!0),f(P);try{await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/send-verification",{email:P==="email"?o.email:void 0,phone_number:P==="sms"?o.phone_number:void 0}),p(!0),u(z=>({...z,verification_code:""}))}catch(z){const T=((Q=(A=z.response)==null?void 0:A.data)==null?void 0:Q.message)||"Failed to send verification code";h(I=>({...I,[P==="email"?"email":"phone_number"]:T}))}finally{v(!1)}}},K=async()=>{j()&&(u(P=>({...P,[m==="email"?"email_verified":"sms_verified"]:!0})),f(null),p(!1))},F=async P=>{if(P.preventDefault(),!w())return;if(!Object.values(_).every(Boolean)){alert("Please accept all terms and conditions");return}if(!c.email_verified||!c.sms_verified){alert("Please verify both your email and phone number");return}g(!0),n();try{await r({email:o.email,phone_number:o.phone_number,password_hash:o.password_hash,name:o.name,profile_picture_url:o.profile_picture_url,bio:o.bio,emergency_contact_name:o.emergency_contact_name,emergency_contact_phone:o.emergency_contact_phone,role:i==="guest"?"traveler":i}),e("/dashboard")}catch(Q){console.error("Registration error:",Q)}finally{g(!1)}},L=Object.values(_).every(Boolean),C=c.email_verified&&c.sms_verified;return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Create Your Account"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Join LibyaStay to start booking accommodations or hosting your property"})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6 sm:p-8",children:[s.jsxs("form",{onSubmit:F,className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"I want to"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>a("guest"),className:`p-4 border rounded-lg text-center ${i==="guest"?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Book Stays"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Find and book accommodations"})]}),s.jsxs("button",{type:"button",onClick:()=>a("host"),className:`p-4 border rounded-lg text-center ${i==="host"?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Host Guests"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"List your property"})]}),s.jsxs("button",{type:"button",onClick:()=>a("both"),className:`p-4 border rounded-lg text-center ${i==="both"?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Both"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Book and host"})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsx("input",{id:"name",name:"name",type:"text",value:o.name,onChange:y,className:`mt-1 block w-full px-3 py-2 border ${d.name?"border-red-300":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),d.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),s.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[s.jsx("input",{id:"email",name:"email",type:"email",value:o.email,onChange:y,className:`flex-1 min-w-0 block w-full px-3 py-2 border ${d.email?"border-red-300":"border-gray-300"} rounded-l-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),s.jsx("button",{type:"button",onClick:()=>D("email"),disabled:b||c.email_verified,className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:c.email_verified?"Verified":"Verify"})]}),d.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.email}),c.email_verified&&s.jsx("p",{className:"mt-1 text-sm text-green-600",children:"Email verified successfully"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),s.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[s.jsx("input",{id:"phone_number",name:"phone_number",type:"tel",value:o.phone_number,onChange:y,className:`flex-1 min-w-0 block w-full px-3 py-2 border ${d.phone_number?"border-red-300":"border-gray-300"} rounded-l-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),s.jsx("button",{type:"button",onClick:()=>D("sms"),disabled:b||c.sms_verified,className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:c.sms_verified?"Verified":"Verify"})]}),d.phone_number&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.phone_number}),c.sms_verified&&s.jsx("p",{className:"mt-1 text-sm text-green-600",children:"Phone number verified successfully"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password_hash",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsx("input",{id:"password_hash",name:"password_hash",type:"password",value:o.password_hash,onChange:y,className:`mt-1 block w-full px-3 py-2 border ${d.password_hash?"border-red-300":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),d.password_hash&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.password_hash}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Password must be at least 8 characters"})]})]})]}),(k||c.email_verified||c.sms_verified)&&s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-md font-medium text-gray-900 mb-2",children:["Verify ",m==="email"?"Email":"Phone"]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["We've sent a verification code to your ",m==="email"?"email":"phone",". Please enter it below."]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:c.verification_code,onChange:P=>{u(A=>({...A,verification_code:P.target.value})),d.verification_code&&h(A=>({...A,verification_code:null}))},maxLength:6,className:`flex-1 px-3 py-2 border ${d.verification_code?"border-red-300":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Enter 6-digit code"}),s.jsx("button",{type:"button",onClick:K,disabled:b||c.verification_code.length!==6,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:b?"Verifying...":"Verify"})]}),d.verification_code&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.verification_code}),s.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Didn't receive the code?"," ",s.jsx("button",{type:"button",onClick:()=>D(m||"email"),className:"font-medium text-blue-600 hover:text-blue-500",children:"Resend"})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Setup"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio (Optional)"}),s.jsx("textarea",{id:"bio",name:"bio",rows:3,value:o.bio||"",onChange:y,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Tell us about yourself in a few sentences"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"emergency_contact_name",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Name"}),s.jsx("input",{id:"emergency_contact_name",name:"emergency_contact_name",type:"text",value:o.emergency_contact_name||"",onChange:y,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"emergency_contact_phone",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Phone"}),s.jsx("input",{id:"emergency_contact_phone",name:"emergency_contact_phone",type:"tel",value:o.emergency_contact_phone||"",onChange:y,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Terms & Conditions"}),s.jsx("div",{className:"space-y-3",children:Object.entries(_).map(([P,A])=>s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:P,name:P,type:"checkbox",checked:A,onChange:M,className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),s.jsx("div",{className:"ml-3 text-sm",children:s.jsxs("label",{htmlFor:P,className:"font-medium text-gray-700",children:[P==="terms_of_service"&&"I agree to the Terms of Service",P==="privacy_policy"&&"I agree to the Privacy Policy",P==="libya_terms"&&"I agree to Libya-specific Terms of Service",P==="content_guidelines"&&"I agree to the Content Guidelines",P==="accommodation_laws"&&"I acknowledge the Local Accommodation Laws"]})})]},P))})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Or register with"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})}),s.jsx("span",{className:"ml-2",children:"Google"})]}),s.jsxs("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),s.jsx("span",{className:"ml-2",children:"Facebook"})]})]})]}),s.jsxs("div",{children:[s.jsx("button",{type:"submit",disabled:x||!C||!L,className:`w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${x||!C||!L?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}`,children:x?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"}),!C&&s.jsx("p",{className:"mt-2 text-sm text-red-600 text-center",children:"Please verify both your email and phone number"}),!L&&s.jsx("p",{className:"mt-2 text-sm text-red-600 text-center",children:"Please accept all terms and conditions"})]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(U,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})]})})})},uj=()=>{const[e,t]=S.useState(""),[r,n]=S.useState(""),[i,a]=S.useState(!1),[o,l]=S.useState(!1),[c,u]=S.useState({email:"",password:"",general:""}),d=lr(),h=G(f=>f.authentication_state.authentication_status.is_authenticated),x=G(f=>f.authentication_state.authentication_status.is_loading),g=G(f=>f.authentication_state.error_message),b=G(f=>f.login_user),v=G(f=>f.clear_auth_error);S.useEffect(()=>{h&&d("/dashboard")},[h,d]),S.useEffect(()=>{(c.email||c.password||c.general)&&(u({email:"",password:"",general:""}),v())},[e,r,v]),S.useEffect(()=>{g&&!c.general&&u(f=>({...f,general:g}))},[g,c.general]);const k=()=>{let f=!0;const _={email:"",password:"",general:""};return e?/\S+@\S+\.\S+/.test(e)||(_.email="Email address is invalid",f=!1):(_.email="Email is required",f=!1),r?r.length<6&&(_.password="Password must be at least 6 characters",f=!1):(_.password="Password is required",f=!1),u(_),f},p=async f=>{if(f.preventDefault(),!!k())try{await b(e,r),h&&d("/dashboard")}catch(_){console.error("Login error:",_);const E=g||_.message||"An error occurred during login";u(w=>({...w,general:E}))}},m=f=>{console.log(`Social login with ${f}`)};return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Discover amazing places to stay in Libya"})]}),c.general&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",role:"alert","aria-live":"polite",children:s.jsx("p",{className:"text-sm",children:c.general})}),s.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[s.jsxs("form",{className:"space-y-6",onSubmit:p,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:f=>t(f.target.value),className:`appearance-none block w-full px-3 py-2 border ${c.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,"aria-invalid":!!c.email,"aria-describedby":c.email?"email-error":void 0}),c.email&&s.jsx("p",{className:"mt-2 text-sm text-red-600",id:"email-error",children:c.email})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:f=>n(f.target.value),className:`appearance-none block w-full px-3 py-2 border ${c.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,"aria-invalid":!!c.password,"aria-describedby":c.password?"password-error":void 0}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!i),"aria-label":i?"Hide password":"Show password",children:i?s.jsxs("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):s.jsxs("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),s.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})}),c.password&&s.jsx("p",{className:"mt-2 text-sm text-red-600",id:"password-error",children:c.password})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:o,onChange:f=>l(f.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),s.jsx("div",{className:"text-sm",children:s.jsx(U,{to:"/reset-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:x,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[s.jsx("div",{children:s.jsxs("button",{onClick:()=>m("google"),className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[s.jsx("span",{className:"sr-only",children:"Sign in with Google"}),s.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"})})]})}),s.jsx("div",{children:s.jsxs("button",{onClick:()=>m("facebook"),className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[s.jsx("span",{className:"sr-only",children:"Sign in with Facebook"}),s.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})]})})]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx(U,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})})]})]})})})},dj=()=>{const[e,t]=js(),r=e.get("tab")||"default",[n,i]=S.useState(r),a=G(y=>y.authentication_state.current_user),o=G(y=>y.authentication_state.auth_token),l=G(y=>y.notification_count.unread_count);S.useEffect(()=>{n==="default"&&(a!=null&&a.role)&&(a.role==="host"?i("host"):a.role==="admin"?i("admin"):i("traveler"))},[n,a==null?void 0:a.role]),S.useEffect(()=>{n!=="default"&&t({tab:n})},[n,t]);const{data:c,isLoading:u}=oe({queryKey:["userBookings",a==null?void 0:a.user_id,n],queryFn:async()=>{if(!(a!=null&&a.user_id)||!o)return null;const y=a.role==="traveler"?"confirmed":"pending";return(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${a.user_id}/bookings`,{headers:{Authorization:`Bearer ${o}`},params:{status:y}})).data},enabled:!!(a!=null&&a.user_id)&&!!o,staleTime:6e4,refetchOnWindowFocus:!1}),{data:d,isLoading:h}=oe({queryKey:["userNotifications",a==null?void 0:a.user_id],queryFn:async()=>!(a!=null&&a.user_id)||!o?[]:(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/notifications",{headers:{Authorization:`Bearer ${o}`},params:{limit:5,is_read:!1}})).data,enabled:!!(a!=null&&a.user_id)&&!!o,staleTime:6e4,refetchOnWindowFocus:!1}),x=u?0:(a==null?void 0:a.role)==="traveler"&&(c==null?void 0:c.filter(y=>y.status==="confirmed"&&new Date(y.check_in)>new Date).length)||0,g=u?0:(a==null?void 0:a.role)==="host"&&(c==null?void 0:c.filter(y=>y.status==="pending").length)||0,v=(()=>{if(!a)return 0;let y=0;const M=5;return a.name&&y++,a.email&&y++,a.phone_number&&y++,a.bio&&y++,a.profile_picture_url&&y++,Math.round(y/M*100)})(),k=!!(a!=null&&a.emergency_contact_name)&&!!(a!=null&&a.emergency_contact_phone),p=()=>{const y=[];return((a==null?void 0:a.role)==="traveler"||(a==null?void 0:a.role)==="both")&&y.push(s.jsx("button",{className:`px-4 py-2 font-medium text-sm rounded-md ${n==="traveler"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>i("traveler"),children:"Traveler Dashboard"},"traveler")),((a==null?void 0:a.role)==="host"||(a==null?void 0:a.role)==="both")&&y.push(s.jsx("button",{className:`px-4 py-2 font-medium text-sm rounded-md ${n==="host"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>i("host"),children:"Host Dashboard"},"host")),(a==null?void 0:a.role)==="admin"&&y.push(s.jsx("button",{className:`px-4 py-2 font-medium text-sm rounded-md ${n==="admin"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>i("admin"),children:"Admin Panel"},"admin")),y},m=()=>s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(a==null?void 0:a.role)==="traveler"&&s.jsxs(U,{to:"/search",className:"flex flex-col items-center justify-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-full mb-2",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Search Stays"})]}),((a==null?void 0:a.role)==="host"||(a==null?void 0:a.role)==="both")&&s.jsxs(U,{to:"/listings/create",className:"flex flex-col items-center justify-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[s.jsx("div",{className:"bg-green-100 p-3 rounded-full mb-2",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Create Listing"})]}),s.jsxs(U,{to:"/messages",className:"flex flex-col items-center justify-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[s.jsx("div",{className:"bg-purple-100 p-3 rounded-full mb-2",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Messages"}),l>0&&s.jsx("span",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:l})]}),s.jsxs(U,{to:"/settings",className:"flex flex-col items-center justify-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx("div",{className:"bg-gray-100 p-3 rounded-full mb-2",children:s.jsxs("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Settings"})]})]})]}),f=()=>s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Activity Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:(a==null?void 0:a.role)==="traveler"?"Upcoming Bookings":"Pending Requests"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:(a==null?void 0:a.role)==="traveler"?x:g})]})]})}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Unread Messages"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l})]})]})}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Profile Completeness"}),s.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[v,"%"]})]})]})})]})]}),_=()=>h?s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Notifications"}),s.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(y=>s.jsxs("div",{className:"flex items-center p-4 border border-gray-200 rounded-lg",children:[s.jsx("div",{className:"bg-gray-200 rounded-full h-10 w-10"}),s.jsxs("div",{className:"ml-4 flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},y))})]}):s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Notifications"}),s.jsx(U,{to:"/messages",className:"text-sm text-blue-600 hover:text-blue-800",children:"View all"})]}),d&&d.length>0?s.jsx("div",{className:"space-y-4",children:d.slice(0,5).map(y=>s.jsxs("div",{className:"flex items-start p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:s.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:y.title}),s.jsx("p",{className:"text-sm text-gray-500",children:y.message}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(y.created_at).toLocaleDateString()})]})]},y.notification_id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No notifications"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You're all caught up!"})]})]}),E=()=>s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Completeness"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Profile Completion"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[v,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${v}%`}})})]}),v<100&&s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("p",{children:"Complete your profile to build trust with other users:"}),s.jsxs("ul",{className:"mt-2 space-y-1 list-disc list-inside",children:[!(a!=null&&a.bio)&&s.jsx("li",{children:"Add a bio"}),!(a!=null&&a.profile_picture_url)&&s.jsx("li",{children:"Upload a profile picture"})]}),s.jsx(U,{to:"/settings",className:"mt-3 inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Complete Profile"})]})]})]}),w=()=>k?s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Emergency Contact Verified"}),s.jsx("div",{className:"mt-1 text-sm text-green-700",children:s.jsx("p",{children:"Your emergency contact information is up to date."})})]})]})}):s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Emergency Contact Required"}),s.jsxs("div",{className:"mt-1 text-sm text-yellow-700",children:[s.jsx("p",{children:"Please add your emergency contact information for safety purposes."}),s.jsx(U,{to:"/settings",className:"font-medium text-yellow-800 underline hover:text-yellow-900",children:"Add emergency contact"})]})]})]})}),j=()=>s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),s.jsx("div",{className:"flow-root",children:s.jsxs("ul",{className:"divide-y divide-gray-200",children:[s.jsx("li",{className:"py-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:s.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"New booking request"}),s.jsx("p",{className:"text-sm text-gray-500 truncate",children:"You have a new booking request for your property"})]}),s.jsx("div",{className:"text-sm text-gray-500 whitespace-nowrap",children:"2h ago"})]})}),s.jsx("li",{className:"py-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:s.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Profile updated"}),s.jsx("p",{className:"text-sm text-gray-500 truncate",children:"You updated your profile information"})]}),s.jsx("div",{className:"text-sm text-gray-500 whitespace-nowrap",children:"1d ago"})]})}),s.jsx("li",{className:"py-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:s.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"New message"}),s.jsx("p",{className:"text-sm text-gray-500 truncate",children:"You received a new message from a guest"})]}),s.jsx("div",{className:"text-sm text-gray-500 whitespace-nowrap",children:"2d ago"})]})})]})})]});return a?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Welcome back, ",a.name,"!"]})]}),s.jsx("div",{className:"mb-6",children:s.jsx("nav",{className:"flex space-x-4",children:p()})}),s.jsx("div",{className:"mb-6",children:w()}),s.jsx("div",{className:"mb-6",children:m()}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[f(),E(),j()]}),s.jsx("div",{children:_()})]})]})})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})})},hj=()=>{const[e,t]=js(),r=Kr(),n=G(j=>j.authentication_state.current_user),i=G(j=>j.authentication_state.auth_token),a=e.get("status")||"upcoming",[o,l]=S.useState(a);S.useEffect(()=>{const j=e.get("status")||"upcoming";l(j)},[e]);const c=j=>{l(j),t({status:j})},u=async j=>!(n!=null&&n.user_id)||!i?[]:(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${n.user_id}/bookings`,{headers:{Authorization:`Bearer ${i}`},params:{status:j}})).data.map(M=>({...M,check_in:new Date(M.check_in),check_out:new Date(M.check_out),created_at:new Date(M.created_at),updated_at:new Date(M.updated_at)})),{data:d=[],isLoading:h,isError:x,error:g}=oe({queryKey:["bookings",o,n==null?void 0:n.user_id],queryFn:()=>u(o),enabled:!!(n!=null&&n.user_id)&&!!i,staleTime:6e4,refetchOnWindowFocus:!1}),b=Be({mutationFn:async j=>{if(!i)throw new Error("No auth token");return(await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings/${j}`,{status:"cancelled"},{headers:{Authorization:`Bearer ${i}`}})).data},onSuccess:j=>{r.setQueryData(["bookings",o,n==null?void 0:n.user_id],(y=[])=>y.map(M=>M.booking_id===j.booking_id?j:M)),r.invalidateQueries({queryKey:["bookings"]})}}),v=Be({mutationFn:async j=>{if(!i||!n)throw new Error("Not authenticated");return(await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/conversations",{booking_id:j.booking_id,guest_id:n.user_id,host_id:j.host_id},{headers:{Authorization:`Bearer ${i}`}})).data},onSuccess:j=>{window.location.href=`/messages?conversation_id=${j.conversation_id}`}}),k=j=>{window.confirm("Are you sure you want to cancel this booking?")&&b.mutate(j)},p=j=>{v.mutate(j)},m=j=>j.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),f=j=>new Intl.NumberFormat("en-LY",{style:"currency",currency:"LYD"}).format(j),_=j=>{switch(j){case"flexible":return"Free cancellation up to 24 hours before check-in";case"moderate":return"Free cancellation up to 7 days before check-in";case"strict":return"Non-refundable";default:return"Cancellation policy not specified"}},E=j=>{const y={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800"},M={pending:"Pending",confirmed:"Confirmed",cancelled:"Cancelled",completed:"Completed"};return s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y[j]}`,children:M[j]})},w=j=>{switch(j.status){case"pending":return s.jsx("div",{className:"flex space-x-2",children:s.jsx("button",{onClick:()=>k(j.booking_id),disabled:b.isPending,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200 disabled:opacity-50",children:b.isPending?"Cancelling...":"Cancel"})});case"confirmed":return s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:()=>p(j),disabled:v.isPending,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 disabled:opacity-50",children:"Message Host"}),s.jsx("button",{onClick:()=>k(j.booking_id),disabled:b.isPending,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200 disabled:opacity-50",children:b.isPending?"Cancelling...":"Cancel"})]});case"completed":return s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(U,{to:`/reviews/create/${j.booking_id}`,className:"px-3 py-1 text-sm bg-green-100 text-green-700 rounded-md hover:bg-green-200",children:"Leave Review"}),s.jsx("button",{onClick:()=>p(j),disabled:v.isPending,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 disabled:opacity-50",children:"Message Host"})]});default:return s.jsx("button",{onClick:()=>p(j),disabled:v.isPending,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 disabled:opacity-50",children:"Message Host"})}};return h?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Bookings"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your accommodation reservations"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex -mb-px",children:["upcoming","past","pending","cancelled"].map(j=>s.jsx("button",{className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${o===j?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>c(j),children:j.charAt(0).toUpperCase()+j.slice(1)},j))})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})})]})]})})}):x?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Bookings"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your accommodation reservations"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex -mb-px",children:["upcoming","past","pending","cancelled"].map(j=>s.jsx("button",{className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${o===j?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>c(j),children:j.charAt(0).toUpperCase()+j.slice(1)},j))})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading bookings"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:s.jsx("p",{children:g instanceof Error?g.message:"An unexpected error occurred"})})]})]})})})]})]})})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Bookings"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your accommodation reservations"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex -mb-px",children:["upcoming","past","pending","cancelled"].map(j=>s.jsxs("button",{className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${o===j?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>c(j),children:[j.charAt(0).toUpperCase()+j.slice(1),d.filter(y=>y.status===j).length>0&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:d.filter(y=>y.status===j).length})]},j))})}),s.jsx("div",{className:"p-6",children:d.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No bookings"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o==="upcoming"?"You don't have any upcoming trips.":o==="past"?"You haven't taken any trips yet.":o==="pending"?"You don't have any pending bookings.":"You haven't cancelled any bookings."}),s.jsx("div",{className:"mt-6",children:s.jsx(U,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Explore Listings"})})]}):s.jsx("div",{className:"space-y-6",children:d.map(j=>s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 w-24 h-24 bg-gray-200 rounded-md overflow-hidden",children:s.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-full h-full"})}),s.jsxs("div",{className:"ml-4 flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.jsxs(U,{to:`/properties/${j.property_id}`,className:"hover:text-blue-600",children:["Property #",j.property_id.substring(0,8)]})}),E(j.status)]}),s.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Dates"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[m(new Date(j.check_in))," - ",m(new Date(j.check_out))]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Guests"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[j.guest_count," guests"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:f(j.total_price)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Booking ID"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:j.booking_id.substring(0,8)})]})]}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Power: Available"}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Water: Available"})]}),j.status==="confirmed"&&s.jsx("div",{className:"mt-2 text-xs text-gray-500",children:s.jsxs("p",{children:["Cancellation Policy: ",_("moderate")]})})]})]})}),s.jsxs("div",{className:"mt-4 md:mt-0 flex flex-col items-end space-y-3",children:[w(j),s.jsx(U,{to:`/properties/${j.property_id}`,className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"View property details"})]})]})}),j.status==="confirmed"&&s.jsx("div",{className:"bg-blue-50 px-6 py-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"flex-shrink-0 h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Emergency Contact"}),s.jsxs("div",{className:"mt-1 text-sm text-blue-700",children:[s.jsx("p",{children:"Host: John Doe"}),s.jsx("p",{children:"Phone: +218 91 000 0000"})]})]})]})})]},j.booking_id))})})]})]})})})},mj=()=>{const e=G(E=>E.authentication_state.current_user),t=G(E=>E.authentication_state.auth_token),[r,n]=S.useState("active"),[i,a]=S.useState({is_verified:!1,documents_submitted:!1}),o=Kr(),l="https://123airbnb-but-just-for-libya.launchpulse.ai",{data:c=[],isLoading:u,error:d}=oe({queryKey:["hostListings",e==null?void 0:e.user_id,r],queryFn:async()=>{if(!(e!=null&&e.user_id)||!t)return[];const E=await q.get(`${l}/api/users/${e.user_id}/listings`,{headers:{Authorization:`Bearer ${t}`}});return r==="active"?E.data.filter(w=>w.is_active):r==="inactive"?E.data.filter(w=>!w.is_active):r==="pending"?E.data.filter(w=>!w.is_active):E.data},enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1}),{data:h,isLoading:x}=oe({queryKey:["performanceMetrics",e==null?void 0:e.user_id],queryFn:async()=>{if(!(e!=null&&e.user_id)||!t)return{total_bookings:0,total_earnings:0,average_rating:0,pending_requests:0};const w=(await q.get(`${l}/api/users/${e.user_id}/bookings`,{headers:{Authorization:`Bearer ${t}`}})).data,j=w.filter(M=>M.status==="completed").reduce((M,D)=>M+D.total_price,0),y=w.filter(M=>M.status==="pending").length;return{total_bookings:w.filter(M=>M.status==="completed").length,total_earnings:j,average_rating:0,pending_requests:y}},enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1}),g=Be({mutationFn:async({property_id:E,is_active:w})=>{if(!t)throw new Error("No auth token");return(await q.patch(`${l}/api/properties/${E}`,{is_active:w},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data},onSuccess:()=>{o.invalidateQueries({queryKey:["hostListings"]})}});S.useEffect(()=>{e&&a({is_verified:e.is_verified,documents_submitted:!!e.verification_document_url})},[e]);const b=(E,w)=>{g.mutate({property_id:E,is_active:!w})},v=E=>new Intl.NumberFormat(" ly-LY",{style:"currency",currency:"LYD",minimumFractionDigits:2}).format(E),k=E=>E?s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"}):s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactive"}),p=()=>i.is_verified?s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx("svg",{className:"h-5 w-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{children:"Verified"})]}):i.documents_submitted?s.jsxs("div",{className:"flex items-center text-yellow-600",children:[s.jsx("svg",{className:"h-5 w-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),s.jsx("span",{children:"Pending Verification"})]}):s.jsxs("div",{className:"flex items-center text-red-600",children:[s.jsx("svg",{className:"h-5 w-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsx("span",{children:"Not Verified"})]}),m=()=>{const E=[{key:"active",label:"Active Listings"},{key:"inactive",label:"Inactive Listings"},{key:"pending",label:"Pending Review"}];return s.jsx("div",{className:"flex space-x-2",children:E.map(w=>s.jsx("button",{onClick:()=>n(w.key),className:`px-4 py-2 text-sm font-medium rounded-md ${r===w.key?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:w.label},w.key))})},f=()=>x?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[1,2,3,4].map(E=>s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]},E))}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Total Bookings"}),s.jsx("div",{className:"text-2xl font-bold mt-1",children:(h==null?void 0:h.total_bookings)||0})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Total Earnings"}),s.jsx("div",{className:"text-2xl font-bold mt-1",children:v((h==null?void 0:h.total_earnings)||0)})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Average Rating"}),s.jsxs("div",{className:"text-2xl font-bold mt-1",children:[(h==null?void 0:h.average_rating)||0,s.jsx("span",{className:"text-base font-normal",children:"/5"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Pending Requests"}),s.jsx("div",{className:"text-2xl font-bold mt-1",children:(h==null?void 0:h.pending_requests)||0})]})]}),_=()=>u?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(E=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden animate-pulse",children:[s.jsx("div",{className:"h-48 bg-gray-200"}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"})]})]})]},E))}):d?s.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-red-700",children:"Failed to load listings. Please try again later."})})]})}):c.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No listings found"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"Get started by creating a new property listing."}),s.jsx("div",{className:"mt-6",children:s.jsxs(U,{to:"/listings/create",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Create New Listing"]})})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(E=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-md transition-shadow duration-200",children:[s.jsxs("div",{className:"h-48 bg-gray-200 relative",children:[E.is_active?s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})}):s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactive"})}),s.jsx("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:E.city})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:E.title}),k(E.is_active)]}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:[E.description.substring(0,100),"..."]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[v(E.base_price_per_night),s.jsx("span",{className:"text-sm font-normal text-gray-500",children:"/night"})]})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(U,{to:`/listings/${E.property_id}/edit`,className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Edit"}),s.jsx("button",{onClick:()=>b(E.property_id,E.is_active),disabled:g.isPending,className:`inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${E.is_active?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:g.isPending?"Updating...":E.is_active?"Deactivate":"Activate"})]})]})]})]},E.property_id))});return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Listings"}),s.jsxs(U,{to:"/listings/create",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Create New Listing"]})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-4",children:s.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Account Verification"}),s.jsx("div",{className:"mt-1",children:p()})]})]}),!i.is_verified&&s.jsx("div",{className:"mt-4 md:mt-0",children:s.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Submit Documents"})})]})}),f(),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"My Property Listings"}),s.jsx("div",{className:"mt-4 md:mt-0",children:m()})]})}),s.jsx("div",{className:"px-4 py-5 sm:p-6",children:_()})]})]})]})})},fj=["Tripoli","Benghazi","Misrata","Tobruk","Derna","Zliten","Zuwara","Khoms","Sirte","Al-Bayda","Tajura"],Xh=[{id:"wifi",name:"WiFi",category:"Essentials"},{id:"ac",name:"Air Conditioning",category:"Comfort"},{id:"kitchen",name:"Kitchen",category:"Essentials"},{id:"parking",name:"Parking",category:"Essentials"},{id:"washer",name:"Washer",category:"Essentials"},{id:"tv",name:"TV",category:"Entertainment"},{id:"pool",name:"Pool",category:"Luxury"},{id:"gym",name:"Gym",category:"Luxury"},{id:"power_backup",name:"Generator Power Backup",category:"Libya-Specific"},{id:"water_tank",name:"Water Tank/Stable Supply",category:"Libya-Specific"},{id:"balcony",name:"Balcony/Patio",category:"Comfort"},{id:"heating",name:"Heating",category:"Comfort"}],pj=[{id:"flexible",name:"Flexible",description:"Full refund 24 hours prior to arrival"},{id:"moderate",name:"Moderate",description:"Full refund 7 days prior to arrival"},{id:"strict",name:"Strict",description:"Non-refundable"}],xj=()=>{const e=G(F=>F.authentication_state.current_user),t=G(F=>F.authentication_state.auth_token),r=lr(),[n,i]=S.useState(1),[a,o]=S.useState({host_id:(e==null?void 0:e.user_id)||"",title:"",description:"",city:"",neighborhood:"",address:"",property_type:"",guest_capacity:1,bedrooms:1,beds:1,bathrooms:1,amenities:[],base_price_per_night:0,currency:"LYD",has_power_backup:!1,has_water_tank:!1,house_rules:"",cancellation_policy:"moderate",instant_book:!1,is_active:!0}),[l,c]=S.useState({}),[u,d]=S.useState([]),[h,x]=S.useState([]),[g,b]=S.useState(!1),[v,k]=S.useState(null);S.useEffect(()=>{!e||!t?r("/login"):o(F=>({...F,host_id:e.user_id}))},[e,t,r]);const p=F=>{if(F.target.files){const L=Array.from(F.target.files),C=L.map(P=>URL.createObjectURL(P));d(P=>[...P,...L]),x(P=>[...P,...C]),c(P=>{const A={...P};return delete A.photos,A})}},m=F=>{d(L=>L.filter((C,P)=>P!==F)),x(L=>L.filter((C,P)=>P!==F))},f=F=>{const{name:L,value:C,type:P}=F.target;if(P==="checkbox"){const A=F.target.checked;o(Q=>({...Q,[L]:A}))}else o(A=>({...A,[L]:C}));l[L]&&c(A=>{const Q={...A};return delete Q[L],Q})},_=F=>{o(L=>{const C=[...L.amenities],P=C.indexOf(F);return P>-1?C.splice(P,1):C.push(F),{...L,amenities:C}})},E=F=>{const L={};switch(F){case 1:a.title.trim()||(L.title="Title is required"),a.title.length<10&&(L.title="Title must be at least 10 characters"),a.description.trim()||(L.description="Description is required"),a.description.length<50&&(L.description="Description must be at least 50 characters"),a.property_type||(L.property_type="Property type is required");break;case 2:a.city||(L.city="City is required"),a.address.trim()||(L.address="Address is required");break;case 3:a.guest_capacity<1&&(L.guest_capacity="At least 1 guest required"),a.bedrooms<0&&(L.bedrooms="Number of bedrooms cannot be negative"),a.beds<1&&(L.beds="At least 1 bed required"),a.bathrooms<1&&(L.bathrooms="At least 1 bathroom required");break;case 4:break;case 5:u.length<5&&(L.photos="At least 5 photos are required");break;case 6:a.base_price_per_night<=0&&(L.base_price_per_night="Price must be greater than 0");break}return c(L),Object.keys(L).length===0},w=()=>{E(n)&&i(F=>Math.min(F+1,8))},j=()=>{i(F=>Math.max(F-1,1))},y=Be({mutationFn:async F=>(await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties",F,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data,onSuccess:()=>{r("/dashboard/listings")},onError:F=>{var L,C;k(((C=(L=F.response)==null?void 0:L.data)==null?void 0:C.message)||"Failed to create listing. Please try again."),b(!1)}}),M=()=>{if(E(n)){b(!0),k(null);const F={...a,amenities:a.amenities,latitude:null,longitude:null,house_rules:a.house_rules||"",neighborhood:a.neighborhood||"",address:a.address||""};y.mutate(F)}},D=(a.base_price_per_night*.1).toFixed(2),K=(a.base_price_per_night+parseFloat(D)).toFixed(2);return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsxs("div",{className:"px-6 pt-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Create New Listing"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Follow the steps to list your property"}),s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex justify-between items-center mb-2",children:[1,2,3,4,5,6,7,8].map(F=>s.jsxs("div",{className:`flex flex-col items-center w-1/8 ${F<=n?"text-blue-600":"text-gray-400"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mb-1 ${F===n?"bg-blue-600 text-white":F<n?"bg-green-500 text-white":"bg-gray-200"}`,children:F<n?"✓":F}),s.jsxs("span",{className:"text-xs text-center",children:[F===1&&"Basic Info",F===2&&"Location",F===3&&"Specs",F===4&&"Amenities",F===5&&"Photos",F===6&&"Pricing",F===7&&"Availability",F===8&&"Rules"]})]},F))}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${n/8*100}%`}})})]})]}),s.jsxs("div",{className:"px-6 py-6 border-t border-gray-200",children:[n===1&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Basic Information"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Title *"}),s.jsx("input",{type:"text",id:"title",name:"title",value:a.title,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.title?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Beautiful apartment in downtown Tripoli"}),l.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.title}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Create a descriptive title that highlights your property's best features"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),s.jsx("textarea",{id:"description",name:"description",rows:5,value:a.description,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.description?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Describe your property in detail. Mention what makes it special for travelers in Libya..."}),l.description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.description}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Include details about the space, neighborhood, and what guests will love"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"property_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Type *"}),s.jsxs("select",{id:"property_type",name:"property_type",value:a.property_type,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.property_type?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[s.jsx("option",{value:"",children:"Select property type"}),s.jsx("option",{value:"entire_place",children:"Entire Place"}),s.jsx("option",{value:"private_room",children:"Private Room"}),s.jsx("option",{value:"shared_room",children:"Shared Room"})]}),l.property_type&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.property_type})]})]})]}),n===2&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Location Details"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),s.jsxs("select",{id:"city",name:"city",value:a.city,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.city?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[s.jsx("option",{value:"",children:"Select a city"}),fj.map(F=>s.jsx("option",{value:F,children:F},F))]}),l.city&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.city})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"neighborhood",className:"block text-sm font-medium text-gray-700 mb-1",children:"Neighborhood"}),s.jsx("input",{type:"text",id:"neighborhood",name:"neighborhood",value:a.neighborhood,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Al-Sabah, Souq Al-Juma"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),s.jsx("textarea",{id:"address",name:"address",rows:3,value:a.address,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.address?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Enter the full address with nearby landmarks if needed"}),l.address&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.address}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"For areas with inconsistent addressing, include nearby landmarks"})]})]})]}),n===3&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Accommodation Specifications"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"guest_capacity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Guests *"}),s.jsx("input",{type:"number",id:"guest_capacity",name:"guest_capacity",min:"1",value:a.guest_capacity,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.guest_capacity?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),l.guest_capacity&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.guest_capacity})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrooms"}),s.jsx("input",{type:"number",id:"bedrooms",name:"bedrooms",min:"0",value:a.bedrooms,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.bedrooms?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),l.bedrooms&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.bedrooms})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"beds",className:"block text-sm font-medium text-gray-700 mb-1",children:"Beds *"}),s.jsx("input",{type:"number",id:"beds",name:"beds",min:"1",value:a.beds,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.beds?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),l.beds&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.beds})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bathrooms *"}),s.jsx("input",{type:"number",id:"bathrooms",name:"bathrooms",min:"1",step:"0.5",value:a.bathrooms,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.bathrooms?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),l.bathrooms&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.bathrooms})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-md",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Tip:"})," For Libya-specific accommodations, describe unique features like rooftop spaces, traditional architecture, or local decor that make your listing special."]})})]}),n===4&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Amenities"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Select all amenities available at your property. This helps guests find exactly what they need."}),s.jsx("div",{className:"space-y-6",children:Array.from(new Set(Xh.map(F=>F.category))).map(F=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:F}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Xh.filter(L=>L.category===F).map(L=>s.jsxs("div",{className:`flex items-center p-3 border rounded-md cursor-pointer ${a.amenities.includes(L.id)?"border-blue-500 bg-blue-50":"border-gray-300 hover:bg-gray-50"}`,onClick:()=>_(L.id),children:[s.jsx("input",{type:"checkbox",checked:a.amenities.includes(L.id),onChange:()=>_(L.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-3 text-sm text-gray-700",children:L.name})]},L.id))})]},F))})]}),n===5&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Photo Upload"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Add clear photos of your property. Upload at least 5 photos for best results."}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Photos *"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed border-gray-300 rounded-md",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"photos",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[s.jsx("span",{children:"Upload files"}),s.jsx("input",{id:"photos",name:"photos",type:"file",multiple:!0,accept:"image/*",onChange:p,className:"sr-only"})]}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 5MB"})]})}),l.photos&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.photos})]}),h.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Preview"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:h.map((F,L)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:F,alt:`Preview ${L+1}`,className:"h-32 w-full object-cover rounded-md"}),s.jsx("button",{type:"button",onClick:()=>m(L),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},L))})]}),u.length>=5&&s.jsx("div",{className:"p-4 bg-green-50 rounded-md",children:s.jsxs("p",{className:"text-sm text-green-700",children:[s.jsx("strong",{children:"Great!"})," You've uploaded ",u.length," photos. This meets the minimum requirement."]})})]})]}),n===6&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Pricing"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"base_price_per_night",className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Price per Night (LYD) *"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:"LYD"})}),s.jsx("input",{type:"number",id:"base_price_per_night",name:"base_price_per_night",min:"0",step:"0.5",value:a.base_price_per_night,onChange:f,className:`pl-12 w-full px-3 py-2 border rounded-md ${l.base_price_per_night?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),l.base_price_per_night&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.base_price_per_night}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This is the nightly rate before service fees"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[s.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Price Breakdown"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Base Price:"}),s.jsxs("span",{className:"font-medium",children:["LYD ",a.base_price_per_night.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Service Fee (10%):"}),s.jsxs("span",{className:"font-medium",children:["LYD ",D]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[s.jsx("span",{className:"font-medium",children:"Total per night:"}),s.jsxs("span",{className:"font-bold text-lg",children:["LYD ",K]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Discounts"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Coming soon: Offer weekly or monthly discounts to attract longer stays"}),s.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:!0,children:"Add Discount"})]})]})]}),n===7&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Availability Calendar"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Set when your property is available for bookings. You can adjust this later."}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mb-6",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Tip:"})," For now, your property will be available by default. You can set specific dates in the property management section after creation."]})}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(F=>s.jsx("div",{className:"text-center text-sm font-medium text-gray-500 py-2",children:F},F))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:Array.from({length:35}).map((F,L)=>{const C=new Date;return C.setDate(C.getDate()+L),s.jsx("div",{className:"h-12 flex items-center justify-center text-sm rounded-md bg-green-100 text-green-800 border border-green-200",children:C.getDate()},L)})}),s.jsxs("div",{className:"mt-6 flex items-center",children:[s.jsxs("div",{className:"flex items-center mr-6",children:[s.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-200 rounded-md mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Available"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded-md mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Unavailable"})]})]})]}),n===8&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"House Rules & Policies"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"house_rules",className:"block text-sm font-medium text-gray-700 mb-1",children:"House Rules"}),s.jsx("textarea",{id:"house_rules",name:"house_rules",rows:4,value:a.house_rules,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"List any specific rules for your guests (e.g., no smoking, no pets, quiet hours)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cancellation Policy *"}),s.jsx("div",{className:"space-y-3",children:pj.map(F=>s.jsx("div",{className:`p-4 border rounded-md cursor-pointer ${a.cancellation_policy===F.id?"border-blue-500 bg-blue-50":"border-gray-300 hover:bg-gray-50"}`,onClick:()=>o(L=>({...L,cancellation_policy:F.id})),children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{type:"radio",name:"cancellation_policy",value:F.id,checked:a.cancellation_policy===F.id,onChange:f,className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("span",{className:"block text-sm font-medium text-gray-900",children:F.name}),s.jsx("span",{className:"block text-sm text-gray-500",children:F.description})]})]})},F.id))})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:"instant_book",name:"instant_book",type:"checkbox",checked:a.instant_book,onChange:f,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),s.jsxs("div",{className:"ml-3 text-sm",children:[s.jsx("label",{htmlFor:"instant_book",className:"font-medium text-gray-700",children:"Enable instant booking"}),s.jsx("p",{className:"text-gray-500",children:"Allow guests to book without your approval (recommended for better conversion)"})]})]}),s.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:s.jsxs("p",{className:"text-sm text-yellow-700",children:[s.jsx("strong",{children:"Important:"})," By submitting this listing, you confirm that you have the right to rent this property and that it complies with all local laws and regulations in Libya."]})})]})]}),s.jsxs("div",{className:"mt-8 flex justify-between",children:[s.jsx("button",{type:"button",onClick:j,disabled:n===1,className:`px-4 py-2 border border-gray-300 rounded-md text-sm font-medium ${n===1?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"}`,children:"Back"}),n<8?s.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-blue-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Next"}):s.jsx("button",{type:"button",onClick:M,disabled:g,className:"px-4 py-2 bg-green-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:g?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Listing..."]}):"Create Listing"})]}),v&&s.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:s.jsx("p",{className:"text-sm",children:v})}),y.isSuccess&&s.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md",children:s.jsx("p",{className:"text-sm",children:"Your listing has been created successfully! You'll be redirected to your listings dashboard."})})]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(U,{to:"/dashboard/listings",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"← Back to Listings Dashboard"})})]})})})},gj=()=>{var P,A,Q,z;const{listing_id:e}=$u(),t=lr(),r=G(T=>T.authentication_state.auth_token),n=G(T=>T.authentication_state.current_user),[i,a]=S.useState({}),[o,l]=S.useState([]),[c,u]=S.useState([]),[d,h]=S.useState(!1),[x,g]=S.useState(null),[b,v]=S.useState(null),k=Kr(),p=["Tripoli","Benghazi","Misrata","Tobruk","Derna","Zliten","Zuwara","Khoms","Sirte","Al-Bayda","Tajura","Sabha","Al-Marj","Ghat","Murzuq","Waddan","Jalu","Jaghbub"],{data:m,isLoading:f,isError:_}=oe({queryKey:["property",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}`,{headers:{Authorization:`Bearer ${r}`}})).data,enabled:!!e&&!!r}),{data:E=[],refetch:w}=oe({queryKey:["property-photos",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/photos`,{headers:{Authorization:`Bearer ${r}`}})).data,enabled:!!e&&!!r});S.useEffect(()=>{m&&(a({...m}),h(!1))},[m]),S.useEffect(()=>{if(m){const T=JSON.stringify(i)!==JSON.stringify(m)||o.length>0;h(T)}},[i,o,m]);const j=(T,I)=>{a(H=>({...H,[T]:I})),g(null)},y=T=>{if(T.target.files&&T.target.files.length>0){const I=Array.from(T.target.files),H=I.map(le=>({id:`temp-${Date.now()}-${Math.random()}`,file:le,url:URL.createObjectURL(le)}));u(le=>[...le,...H]);const R=I.map((le,ve)=>({type:"add",tempId:H[ve].id,file:le}));l(le=>[...le,...R])}T.target.value=""},M=T=>{"photo_id"in T?l(I=>[...I,{type:"remove",photo:T}]):(u(I=>I.filter(H=>H.id!==T.id)),l(I=>I.filter(H=>H.tempId!==T.id)))},D=Be({mutationFn:async T=>(await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}`,T,{headers:{Authorization:`Bearer ${r}`}})).data,onSuccess:()=>{k.invalidateQueries({queryKey:["property",e]}),v("Listing updated successfully!"),h(!1),setTimeout(()=>v(null),3e3)},onError:T=>{var I,H;g(((H=(I=T.response)==null?void 0:I.data)==null?void 0:H.message)||"Failed to update listing")}}),K=async()=>{var T,I;if(!(!i||!e)){g(null),v(null);try{const H={property_id:e,...i};Object.keys(H).forEach(R=>{R!=="property_id"&&JSON.stringify(H[R])===JSON.stringify(m==null?void 0:m[R])&&delete H[R]}),Object.keys(H).length>1&&await D.mutateAsync(H);for(const R of o)if(R.type==="add"&&R.file){new FormData().append("file",R.file);const ve=URL.createObjectURL(R.file);await q.post(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/photos`,{property_id:e,photo_url:ve,display_order:E.length+c.length},{headers:{Authorization:`Bearer ${r}`}})}else R.type==="remove"&&R.photo&&await q.delete(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/photos/${R.photo.photo_id}`,{headers:{Authorization:`Bearer ${r}`}});l([]),u([]),w(),v("All changes saved successfully!"),h(!1)}catch(H){g(((I=(T=H.response)==null?void 0:T.data)==null?void 0:I.message)||"Failed to save changes")}}},F=async()=>{var T,I;if(window.confirm("Are you sure you want to delete this listing? This action cannot be undone."))try{await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}`,{property_id:e,is_active:!1},{headers:{Authorization:`Bearer ${r}`}}),t("/dashboard/listings")}catch(H){g(((I=(T=H.response)==null?void 0:T.data)==null?void 0:I.message)||"Failed to delete listing")}},L=async()=>{var T,I;if(m)try{await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}`,{property_id:e,is_active:!m.is_active},{headers:{Authorization:`Bearer ${r}`}}),k.invalidateQueries({queryKey:["property",e]}),v(`Listing ${m.is_active?"unpublished":"published"} successfully!`),setTimeout(()=>v(null),3e3)}catch(H){g(((I=(T=H.response)==null?void 0:T.data)==null?void 0:I.message)||"Failed to update listing status")}};if(!r||!n)return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to edit your listing."}),s.jsx(U,{to:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors",children:"Go to Login"})]})})});if(f)return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(_||!m)return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Listing"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find the listing you're trying to edit."}),s.jsx(U,{to:"/dashboard/listings",className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors",children:"Back to My Listings"})]})})});if(m.host_id!==n.user_id)return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to edit this listing."}),s.jsx(U,{to:"/dashboard/listings",className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors",children:"Back to My Listings"})]})})});const C=[...E.map(T=>({...T,temp:!1})),...c.map(T=>({photo_id:T.id,property_id:e||"",photo_url:T.url,caption:null,display_order:E.length,created_at:new Date().toISOString(),temp:!0}))];return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Listing"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Make changes to your property listing below"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>t("/dashboard/listings"),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:L,className:`${m.is_active?"bg-yellow-500 hover:bg-yellow-600":"bg-green-600 hover:bg-green-700"} text-white px-4 py-2 rounded-md font-medium transition-colors`,children:m.is_active?"Unpublish":"Publish"}),s.jsx("button",{onClick:K,disabled:!d||D.isPending,className:`${d?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"} text-white px-4 py-2 rounded-md font-medium transition-colors`,children:D.isPending?"Saving...":"Save Changes"})]})]}),x&&s.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:s.jsx("p",{children:x})}),b&&s.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md",children:s.jsx("p",{children:b})})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"divide-y divide-gray-200",children:[s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Listing Title"}),s.jsx("input",{type:"text",id:"title",value:i.title||"",onChange:T=>j("title",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Beautiful apartment in central Tripoli"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"property_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Type"}),s.jsxs("select",{id:"property_type",value:i.property_type||"",onChange:T=>j("property_type",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select property type"}),s.jsx("option",{value:"entire_place",children:"Entire Place"}),s.jsx("option",{value:"private_room",children:"Private Room"}),s.jsx("option",{value:"shared_room",children:"Shared Room"})]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{id:"description",rows:4,value:i.description||"",onChange:T=>j("description",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe your property in detail..."})]})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Location"}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),s.jsxs("select",{id:"city",value:i.city||"",onChange:T=>j("city",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select a city"}),p.map(T=>s.jsx("option",{value:T,children:T},T))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"neighborhood",className:"block text-sm font-medium text-gray-700 mb-1",children:"Neighborhood"}),s.jsx("input",{type:"text",id:"neighborhood",value:i.neighborhood||"",onChange:T=>j("neighborhood",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional neighborhood"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),s.jsx("input",{type:"text",id:"address",value:i.address||"",onChange:T=>j("address",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Full address"})]})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Accommodation Details"}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"guest_capacity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Guests"}),s.jsx("input",{type:"number",id:"guest_capacity",min:"1",value:i.guest_capacity||1,onChange:T=>j("guest_capacity",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrooms"}),s.jsx("input",{type:"number",id:"bedrooms",min:"0",value:i.bedrooms||0,onChange:T=>j("bedrooms",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"beds",className:"block text-sm font-medium text-gray-700 mb-1",children:"Beds"}),s.jsx("input",{type:"number",id:"beds",min:"1",value:i.beds||1,onChange:T=>j("beds",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bathrooms"}),s.jsx("input",{type:"number",id:"bathrooms",min:"1",step:"0.5",value:i.bathrooms||1,onChange:T=>j("bathrooms",parseFloat(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Amenities"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"has_power_backup",type:"checkbox",checked:i.has_power_backup||!1,onChange:T=>j("has_power_backup",T.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"has_power_backup",className:"ml-2 block text-sm text-gray-900",children:"Generator Power Backup"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"has_water_tank",type:"checkbox",checked:i.has_water_tank||!1,onChange:T=>j("has_water_tank",T.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"has_water_tank",className:"ml-2 block text-sm text-gray-900",children:"Water Tank/Stable Supply"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"wifi",type:"checkbox",checked:((P=i.amenities)==null?void 0:P.includes("WiFi"))||!1,onChange:T=>{const I=i.amenities||"",H=T.target.checked?`${I}${I?",":""}WiFi`:I.replace(/WiFi,?/g,"").replace(/^,|,$/g,"");j("amenities",H)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"wifi",className:"ml-2 block text-sm text-gray-900",children:"WiFi"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"ac",type:"checkbox",checked:((A=i.amenities)==null?void 0:A.includes("Air Conditioning"))||!1,onChange:T=>{const I=i.amenities||"",H=T.target.checked?`${I}${I?",":""}Air Conditioning`:I.replace(/Air Conditioning,?/g,"").replace(/^,|,$/g,"");j("amenities",H)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"ac",className:"ml-2 block text-sm text-gray-900",children:"Air Conditioning"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"kitchen",type:"checkbox",checked:((Q=i.amenities)==null?void 0:Q.includes("Kitchen"))||!1,onChange:T=>{const I=i.amenities||"",H=T.target.checked?`${I}${I?",":""}Kitchen`:I.replace(/Kitchen,?/g,"").replace(/^,|,$/g,"");j("amenities",H)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"kitchen",className:"ml-2 block text-sm text-gray-900",children:"Kitchen"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"parking",type:"checkbox",checked:((z=i.amenities)==null?void 0:z.includes("Parking"))||!1,onChange:T=>{const I=i.amenities||"",H=T.target.checked?`${I}${I?",":""}Parking`:I.replace(/Parking,?/g,"").replace(/^,|,$/g,"");j("amenities",H)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"parking",className:"ml-2 block text-sm text-gray-900",children:"Parking"})]})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Photos"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add New Photos"}),s.jsx("div",{className:"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"photo-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[s.jsx("span",{children:"Upload files"}),s.jsx("input",{id:"photo-upload",name:"photo-upload",type:"file",multiple:!0,accept:"image/*",onChange:y,className:"sr-only"})]}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]}),C.length>0&&s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:C.map(T=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:T.photo_url,alt:"Property",className:"h-32 w-full object-cover rounded-md"}),s.jsx("button",{type:"button",onClick:()=>M(T.temp?{id:T.photo_id}:T),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},T.photo_id))})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Pricing"}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"base_price_per_night",className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Price per Night (LYD)"}),s.jsxs("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("input",{type:"number",id:"base_price_per_night",min:"0",step:"0.01",value:i.base_price_per_night||0,onChange:T=>j("base_price_per_night",parseFloat(T.target.value)),className:"focus:ring-blue-500 focus:border-blue-500 block w-full pr-12 sm:text-sm border-gray-300 rounded-md"}),s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:"LYD"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cancellation_policy",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cancellation Policy"}),s.jsxs("select",{id:"cancellation_policy",value:i.cancellation_policy||"moderate",onChange:T=>j("cancellation_policy",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"flexible",children:"Flexible (Free cancellation up to 24 hours)"}),s.jsx("option",{value:"moderate",children:"Moderate (Free cancellation up to 7 days)"}),s.jsx("option",{value:"strict",children:"Strict (Non-refundable)"})]})]}),s.jsxs("div",{className:"flex items-center pt-6",children:[s.jsx("input",{id:"instant_book",type:"checkbox",checked:i.instant_book||!1,onChange:T=>j("instant_book",T.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"instant_book",className:"ml-2 block text-sm text-gray-900",children:"Enable Instant Booking"})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-between",children:[s.jsx("button",{onClick:F,className:"text-red-600 hover:text-red-800 font-medium",children:"Delete Listing"}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>t("/dashboard/listings"),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:K,disabled:!d||D.isPending,className:`${d?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"} text-white px-4 py-2 rounded-md font-medium transition-colors`,children:D.isPending?"Saving...":"Save Changes"})]})]})]})]})})})},yj=()=>{const e=G(C=>C.authentication_state.current_user),t=G(C=>C.authentication_state.auth_token),r=Kr(),[n,i]=S.useState("pending"),[a,o]=S.useState(null),[l,c]=S.useState(!1),[u,d]=S.useState(""),[h,x]=S.useState("month"),g="https://123airbnb-but-just-for-libya.launchpulse.ai",{data:b=[],isLoading:v}=oe({queryKey:["hostBookings","pending",e==null?void 0:e.user_id],queryFn:async()=>!(e!=null&&e.user_id)||!t?[]:(await q.get(`${g}/api/bookings`,{headers:{Authorization:`Bearer ${t}`},params:{host_id:e.user_id,status:"pending"}})).data.bookings,enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),{data:k=[],isLoading:p}=oe({queryKey:["hostBookings","confirmed",e==null?void 0:e.user_id],queryFn:async()=>!(e!=null&&e.user_id)||!t?[]:(await q.get(`${g}/api/bookings`,{headers:{Authorization:`Bearer ${t}`},params:{host_id:e.user_id,status:"confirmed"}})).data.bookings,enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),{data:m=[],isLoading:f}=oe({queryKey:["hostBookings","history",e==null?void 0:e.user_id],queryFn:async()=>!(e!=null&&e.user_id)||!t?[]:(await q.get(`${g}/api/bookings`,{headers:{Authorization:`Bearer ${t}`},params:{host_id:e.user_id,status:["completed","cancelled"]}})).data.bookings,enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),_=Be({mutationFn:async C=>{if(!t)throw new Error("No auth token");return(await q.patch(`${g}/api/bookings/${C}`,{status:"confirmed"},{headers:{Authorization:`Bearer ${t}`}})).data},onSuccess:C=>{r.setQueryData(["hostBookings","pending",e==null?void 0:e.user_id],P=>(P==null?void 0:P.filter(A=>A.booking_id!==C.booking_id))||[]),r.setQueryData(["hostBookings","confirmed",e==null?void 0:e.user_id],P=>[...P||[],C]),o(null)},onError:C=>{console.error("Error approving booking:",C),alert("Failed to approve booking. Please try again.")}}),E=Be({mutationFn:async({bookingId:C,reason:P})=>{if(!t)throw new Error("No auth token");return(await q.patch(`${g}/api/bookings/${C}`,{status:"declined",special_requests:P||"No reason provided"},{headers:{Authorization:`Bearer ${t}`}})).data},onSuccess:C=>{r.setQueryData(["hostBookings","pending",e==null?void 0:e.user_id],P=>(P==null?void 0:P.filter(A=>A.booking_id!==C.booking_id))||[]),c(!1),d(""),o(null)},onError:C=>{console.error("Error declining booking:",C),alert("Failed to decline booking. Please try again.")}}),w=C=>{_.mutate(C)},j=C=>{o(b.find(P=>P.booking_id===C)||null),c(!0)},y=()=>{a&&E.mutate({bookingId:a.booking_id,reason:u})},M=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),D=C=>new Intl.NumberFormat("en-LY",{style:"currency",currency:"LYD"}).format(C),K=C=>s.jsxs("div",{className:"border rounded-lg p-4 mb-4 shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Booking #",C.booking_id.substring(0,8)]}),s.jsxs("p",{className:"text-gray-600",children:[M(C.check_in)," - ",M(C.check_out)]}),s.jsxs("p",{className:"text-gray-600",children:[C.guest_count," guest",C.guest_count>1?"s":""]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-lg font-bold",children:D(C.total_price)}),s.jsxs("p",{className:"text-sm text-gray-500",children:["+",D(C.service_fee)," service fee"]})]})]}),C.special_requests&&s.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("span",{className:"font-medium",children:"Special requests:"})," ",C.special_requests]})}),s.jsxs("div",{className:"mt-4 flex space-x-2",children:[s.jsx("button",{onClick:()=>w(C.booking_id),disabled:_.isPending,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md transition-colors disabled:opacity-50",children:_.isPending?"Approving...":"Approve"}),s.jsx("button",{onClick:()=>j(C.booking_id),disabled:E.isPending,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-md transition-colors disabled:opacity-50",children:E.isPending?"Declining...":"Decline"})]})]},C.booking_id),F=C=>s.jsx("div",{className:"border rounded-lg p-4 mb-4 shadow-sm",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Booking #",C.booking_id.substring(0,8)]}),s.jsxs("p",{className:"text-gray-600",children:[M(C.check_in)," - ",M(C.check_out)]}),s.jsxs("p",{className:"text-gray-600",children:[C.guest_count," guest",C.guest_count>1?"s":""]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-lg font-bold",children:D(C.total_price)}),s.jsx("p",{className:`text-sm font-medium ${C.status==="completed"?"text-green-600":"text-red-600"}`,children:C.status.charAt(0).toUpperCase()+C.status.slice(1)})]})]})},C.booking_id),L=()=>{const C={};return k.forEach(P=>{const A=new Date(P.check_in).toLocaleString("default",{month:"long",year:"numeric"});C[A]||(C[A]=[]),C[A].push(P)}),s.jsx("div",{className:"space-y-8",children:Object.entries(C).map(([P,A])=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:P}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(Q=>s.jsx("div",{className:"border rounded-lg p-4 bg-white shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>o(Q),children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold",children:["Booking #",Q.booking_id.substring(0,8)]}),s.jsxs("p",{className:"text-gray-600",children:[M(Q.check_in)," - ",M(Q.check_out)]}),s.jsxs("p",{className:"text-gray-600",children:[Q.guest_count," guest",Q.guest_count>1?"s":""]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"font-bold",children:D(Q.total_price)})})]})},Q.booking_id))})]},P))})};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Host Bookings"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your booking requests, confirmed bookings, and booking history"})]}),s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsxs("button",{onClick:()=>i("pending"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${n==="pending"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Booking Requests",b.length>0&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:b.length})]}),s.jsx("button",{onClick:()=>i("confirmed"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${n==="confirmed"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Confirmed Bookings"}),s.jsx("button",{onClick:()=>i("history"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${n==="history"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Booking History"})]})}),n==="pending"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Pending Booking Requests"}),v?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):b.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No pending booking requests"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"When guests request to book your properties, they'll appear here."})]}):s.jsx("div",{children:b.map(K)})]}),n==="confirmed"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Confirmed Bookings"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>x("month"),className:`px-3 py-1 rounded ${h==="month"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Month"}),s.jsx("button",{onClick:()=>x("week"),className:`px-3 py-1 rounded ${h==="week"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Week"}),s.jsx("button",{onClick:()=>x("day"),className:`px-3 py-1 rounded ${h==="day"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Day"})]})]}),p?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):k.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No confirmed bookings"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"When guests confirm bookings, they'll appear here."})]}):s.jsx("div",{children:L()})]}),n==="history"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Booking History"}),f?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):m.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No booking history"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"Your completed and cancelled bookings will appear here."})]}):s.jsx("div",{children:m.map(F)})]})]})}),l&&a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Decline Booking Request"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to decline this booking request? You can provide a reason for declining."}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"declineReason",className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for declining (optional)"}),s.jsx("textarea",{id:"declineReason",rows:3,className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 mt-1 block w-full sm:text-sm border border-gray-300 rounded-md p-2",placeholder:"Enter reason for declining...",value:u,onChange:C=>d(C.target.value)})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),s.jsx("button",{onClick:y,disabled:E.isPending,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:E.isPending?"Declining...":"Decline Booking"})]})]})})}),a&&!l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Booking Details"}),s.jsx("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-500",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Booking Information"}),s.jsxs("dl",{className:"mt-2 space-y-2",children:[s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Booking ID"}),s.jsx("dd",{className:"text-sm text-gray-900",children:a.booking_id})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Check-in"}),s.jsx("dd",{className:"text-sm text-gray-900",children:M(a.check_in)})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Check-out"}),s.jsx("dd",{className:"text-sm text-gray-900",children:M(a.check_out)})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Guests"}),s.jsx("dd",{className:"text-sm text-gray-900",children:a.guest_count})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),s.jsx("dd",{className:"text-sm text-gray-900 capitalize",children:a.status})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Financial Details"}),s.jsxs("dl",{className:"mt-2 space-y-2",children:[s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Total Price"}),s.jsx("dd",{className:"text-sm text-gray-900",children:D(a.total_price)})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Service Fee"}),s.jsx("dd",{className:"text-sm text-gray-900",children:D(a.service_fee)})]}),a.special_requests&&s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Special Requests"}),s.jsx("dd",{className:"text-sm text-gray-900",children:a.special_requests})]})]})]})]}),s.jsx("div",{className:"mt-6 flex justify-end space-x-3",children:s.jsx("button",{onClick:()=>o(null),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Close"})})]})})})]})},vj=()=>{var L;const e=G(C=>C.authentication_state.current_user),t=G(C=>C.authentication_state.auth_token),[r,n]=S.useState([]),[i,a]=S.useState(null),[o,l]=S.useState([]),[c,u]=S.useState({}),[d,h]=S.useState(""),[x]=js(),[g,b]=S.useState(!0),[v,k]=S.useState(!1),[p,m]=S.useState(null),f="https://123airbnb-but-just-for-libya.launchpulse.ai",_=S.useCallback(async()=>{if(!t)return[];try{return(await q.get(`${f}/api/conversations`,{headers:{Authorization:`Bearer ${t}`},params:{limit:20,offset:0}})).data.conversations}catch(C){throw console.error("Error fetching conversations:",C),new Error("Failed to load conversations")}},[t,f]),E=S.useCallback(async C=>{if(!t)return[];try{return(await q.get(`${f}/api/conversations/${C}/messages`,{headers:{Authorization:`Bearer ${t}`},params:{limit:50,offset:0}})).data}catch(P){throw console.error("Error fetching messages:",P),new Error("Failed to load messages")}},[t,f]),w=Be({mutationFn:async C=>{if(!t)throw new Error("Not authenticated");return(await q.post(`${f}/api/conversations/${C.conversation_id}/messages`,{content:C.content,sender_id:e==null?void 0:e.user_id},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data},onSuccess:C=>{l(P=>[...P,C]),h(""),n(P=>P.map(A=>A.conversation_id===C.conversation_id?{...A,updated_at:new Date().toISOString()}:A).sort((A,Q)=>new Date(Q.updated_at).getTime()-new Date(A.updated_at).getTime()))},onError:C=>{console.error("Error sending message:",C),m("Failed to send message. Please try again.")}}),j=Be({mutationFn:async C=>{if(!t)throw new Error("Not authenticated");return(await q.patch(`${f}/api/messages/${C}`,{is_read:!0},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data},onSuccess:C=>{l(P=>P.map(A=>A.message_id===C.message_id?{...A,is_read:C.is_read}:A)),u(P=>{const A=C.conversation_id,Q=P[A]||0;return{...P,[A]:Math.max(0,Q-1)}})}});S.useEffect(()=>{t&&(async()=>{try{b(!0);const P=await _();n(P);const A=x.get("conversation_id");if(A){const Q=P.find(z=>z.conversation_id===A);Q&&a(Q)}else P.length>0&&a(P[0])}catch(P){m("Failed to load conversations"),console.error("Error loading conversations:",P)}finally{b(!1)}})()},[t,_,x]),S.useEffect(()=>{(async()=>{if(!i){l([]);return}try{k(!0);const P=await E(i.conversation_id);l(P),P.filter(A=>!A.is_read&&A.sender_id!==(e==null?void 0:e.user_id)).forEach(A=>{j.mutate(A.message_id)})}catch(P){m("Failed to load messages"),console.error("Error loading messages:",P)}finally{k(!1)}})()},[i,E,e,j]);const y=C=>{C.preventDefault(),!(!d.trim()||!i||w.isPending)&&w.mutate({conversation_id:i.conversation_id,content:d})},M=C=>{const P=new Date(C);return V2(P)?xr(P,"HH:mm"):U2(P)?"Yesterday":xr(P,"MMM dd")},D=C=>e?C.guest_id===e.user_id?C.host_id:C.guest_id:null,K=C=>{const P=c[C.conversation_id]||0,A=(i==null?void 0:i.conversation_id)===C.conversation_id,Q=D(C);return s.jsx("div",{className:`p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50 ${A?"bg-blue-50 border-l-4 border-l-blue-500":""}`,onClick:()=>a(C),children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-700 font-medium",children:(Q==null?void 0:Q.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:Q===C.guest_id?"Guest":"Host"}),s.jsx("time",{className:"text-xs text-gray-500",children:M(C.updated_at)})]}),s.jsxs("p",{className:"text-sm text-gray-500 truncate",children:["Conversation about booking #",C.booking_id.substring(0,8)]})]}),P>0&&s.jsx("div",{className:"ml-2 flex-shrink-0",children:s.jsx("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full",children:P})})]})},C.conversation_id)},F=C=>{const P=C.sender_id===(e==null?void 0:e.user_id),A=P?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none";return s.jsx("div",{className:`flex ${P?"justify-end":"justify-start"} mb-4`,children:s.jsxs("div",{className:`max-w-xs md:max-w-md lg:max-w-lg px-4 py-2 rounded-lg ${A}`,children:[s.jsx("p",{className:"text-sm",children:C.content}),s.jsxs("div",{className:`text-xs mt-1 ${P?"text-blue-100":"text-gray-500"}`,children:[s.jsx("span",{children:M(C.created_at)}),P&&s.jsx("span",{className:"ml-2",children:C.is_read?"✓✓":"✓"})]})]})},C.message_id)};return!t||!e?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Authentication Required"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to access your messages"}),s.jsx(U,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go to Login"})]})})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:s.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-200px)]",children:[s.jsxs("div",{className:"w-full md:w-1/3 border-r border-gray-200 flex flex-col",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Messages"})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:g?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):p?s.jsx("div",{className:"p-4 text-center text-red-500",children:p}):r.length===0?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"No conversations yet. Start a conversation from a booking."}):r.map(K)})]}),s.jsx("div",{className:"w-full md:w-2/3 flex flex-col",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-700 font-medium",children:((L=D(i))==null?void 0:L.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:D(i)===i.guest_id?"Guest":"Host"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Booking #",i.booking_id.substring(0,8)]})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-white",children:v?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):p?s.jsx("div",{className:"p-4 text-center text-red-500",children:p}):o.length===0?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("p",{className:"text-gray-500",children:"No messages yet. Start the conversation!"})}):s.jsx("div",{className:"space-y-4",children:o.map(F)})}),s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("form",{onSubmit:y,className:"flex",children:[s.jsx("input",{type:"text",value:d,onChange:C=>h(C.target.value),placeholder:"Type a message...",className:"flex-1 rounded-l-lg border border-gray-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:w.isPending}),s.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-r-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",disabled:!d.trim()||w.isPending,children:w.isPending?"Sending...":"Send"})]})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No conversation selected"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"Select a conversation from the list to start messaging"})]})})})]})})})})})},bj=()=>{const{booking_id:e}=$u(),t=lr(),r=G(L=>L.authentication_state.current_user),n=G(L=>L.authentication_state.auth_token),[i,a]=S.useState({cleanliness_rating:0,accuracy_rating:0,communication_rating:0,location_rating:0,check_in_rating:0,value_rating:0,overall_rating:0}),[o,l]=S.useState(""),[c,u]=S.useState([]),[d,h]=S.useState([]),[x,g]=S.useState(null),[b,v]=S.useState(!1),k=Kr(),{data:p,isLoading:m,error:f}=oe({queryKey:["booking",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings/${e}`,{headers:{Authorization:`Bearer ${n}`}})).data,enabled:!!e&&!!n}),{data:_}=oe({queryKey:["property",p==null?void 0:p.property_id],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${p==null?void 0:p.property_id}`)).data,enabled:!!(p!=null&&p.property_id)}),{data:E}=oe({queryKey:["host",p==null?void 0:p.host_id],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${p==null?void 0:p.host_id}`)).data,enabled:!!(p!=null&&p.host_id)});S.useEffect(()=>{if(p&&r){const L=new Date,C=new Date(p.check_out);p.guest_id===r.user_id&&p.status==="completed"&&L>C||t("/dashboard/bookings")}},[p,r,t]);const w=L=>{if(L.target.files){const P=Array.from(L.target.files).slice(0,5-c.length);u(Q=>[...Q,...P]);const A=P.map(Q=>URL.createObjectURL(Q));h(Q=>[...Q,...A])}},j=L=>{u(C=>C.filter((P,A)=>A!==L)),h(C=>C.filter((P,A)=>A!==L))};S.useEffect(()=>{const C=[i.cleanliness_rating,i.accuracy_rating,i.communication_rating,i.location_rating,i.check_in_rating,i.value_rating].filter(A=>A>0),P=C.length>0?Math.round(C.reduce((A,Q)=>A+Q,0)/C.length):0;a(A=>({...A,overall_rating:P}))},[i.cleanliness_rating,i.accuracy_rating,i.communication_rating,i.location_rating,i.check_in_rating,i.value_rating]);const y=async L=>{const C=new FormData;C.append("file",L);try{return(await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/upload",C,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${n}`}})).data.url}catch(P){throw console.error("Error uploading photo:",P),P}},M=async(L,C)=>(await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/review-photos",{review_id:C,photo_url:L,caption:null},{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).data,D=Be({mutationFn:async L=>(await q.post(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings/${e}/reviews`,L,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).data,onSuccess:async L=>{if(c.length>0)try{for(const C of c){const P=await y(C);await M(P,L.review_id)}}catch(C){console.error("Error uploading photos:",C)}v(!0),k.invalidateQueries({queryKey:["bookings"]})},onError:L=>{var C,P;g(((P=(C=L.response)==null?void 0:C.data)==null?void 0:P.message)||"Failed to submit review")}}),K=L=>{if(L.preventDefault(),g(null),[i.cleanliness_rating,i.accuracy_rating,i.communication_rating,i.location_rating,i.check_in_rating,i.value_rating].some(A=>A===0)){g("Please provide ratings for all categories");return}if(!p||!r){g("Booking or user information missing");return}const P={booking_id:p.booking_id,property_id:p.property_id,reviewer_id:r.user_id,host_id:p.host_id,cleanliness_rating:i.cleanliness_rating,accuracy_rating:i.accuracy_rating,communication_rating:i.communication_rating,location_rating:i.location_rating,check_in_rating:i.check_in_rating,value_rating:i.value_rating,overall_rating:i.overall_rating,comment:o||null};D.mutate(P)},F=(L,C,P)=>s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:L}),s.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(A=>s.jsx("button",{type:"button",onClick:()=>P(A),className:"text-2xl focus:outline-none","aria-label":`Rate ${A} out of 5 stars`,children:A<=C?s.jsx("span",{className:"text-yellow-400",children:"★"}):s.jsx("span",{className:"text-gray-300",children:"☆"})},A))})]});return m?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-8"}),s.jsx("div",{className:"space-y-4",children:[...Array(6)].map((L,C)=>s.jsx("div",{className:"h-16 bg-gray-200 rounded"},C))})]})})})})}):f?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Error Loading Booking"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"We couldn't load the booking information. Please try again later."}),s.jsx(U,{to:"/dashboard/bookings",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Bookings"})]})})})})}):b?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[s.jsx("div",{className:"text-green-500 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Review Submitted!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for sharing your experience. Your review helps other travelers make informed decisions."}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[s.jsx(U,{to:"/dashboard/bookings",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Bookings"}),s.jsx(U,{to:`/properties/${p==null?void 0:p.property_id}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Property"})]})]})})})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Leave a Review"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Share your experience to help other travelers"})]}),s.jsxs("div",{className:"p-6",children:[p&&_&&E&&s.jsxs("div",{className:"mb-8 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:_.title}),s.jsxs("p",{className:"text-gray-600",children:[_.neighborhood?`${_.neighborhood}, `:"",_.city]}),s.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[s.jsxs("span",{children:["Stayed from ",new Date(p.check_in).toLocaleDateString()," to ",new Date(p.check_out).toLocaleDateString()]}),s.jsx("span",{className:"mx-2",children:"•"}),s.jsxs("span",{children:["Hosted by ",E.name]})]})]}),s.jsxs("form",{onSubmit:K,children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Your Rating"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[F("Cleanliness",i.cleanliness_rating,L=>a(C=>({...C,cleanliness_rating:L}))),F("Accuracy",i.accuracy_rating,L=>a(C=>({...C,accuracy_rating:L}))),F("Communication",i.communication_rating,L=>a(C=>({...C,communication_rating:L}))),F("Location",i.location_rating,L=>a(C=>({...C,location_rating:L}))),F("Check-in",i.check_in_rating,L=>a(C=>({...C,check_in_rating:L}))),F("Value",i.value_rating,L=>a(C=>({...C,value_rating:L})))]}),s.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-gray-700 mr-2",children:"Overall Rating:"}),s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(L=>s.jsx("span",{className:`text-2xl ${L<=i.overall_rating?"text-yellow-400":"text-gray-300"}`,children:"★"},L))}),s.jsx("span",{className:"ml-2 text-gray-700",children:i.overall_rating>0?`${i.overall_rating}/5`:"Not rated"})]})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("label",{htmlFor:"review",className:"block text-lg font-medium text-gray-900 mb-2",children:"Your Review"}),s.jsx("textarea",{id:"review",rows:6,value:o,onChange:L=>{l(L.target.value),g(null)},className:"block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-3",placeholder:"Share details about your stay, what you liked, and any suggestions for improvement..."}),s.jsxs("div",{className:"mt-2 flex justify-between text-sm text-gray-500",children:[s.jsx("span",{children:"Helpful reviews include specific details about your stay"}),s.jsxs("span",{children:[o.length,"/1000 characters"]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("label",{className:"block text-lg font-medium text-gray-900 mb-2",children:"Photos (Optional)"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Upload up to 5 photos from your stay"}),s.jsx("div",{className:"mt-2 flex flex-col items-center justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"photo-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[s.jsx("span",{children:"Upload a file"}),s.jsx("input",{id:"photo-upload",name:"photo-upload",type:"file",className:"sr-only",accept:"image/*",multiple:!0,onChange:w,disabled:c.length>=5})]}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]})}),d.length>0&&s.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:d.map((L,C)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:L,alt:`Preview ${C+1}`,className:"h-24 w-full object-cover rounded-md"}),s.jsx("button",{type:"button",onClick:()=>j(C),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove photo",children:s.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},C))})]}),x&&s.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:s.jsx("p",{className:"text-sm",children:x})}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx(U,{to:"/dashboard/bookings",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:D.isPending,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:D.isPending?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit Review"})]})]})]})]})})})})},wj=()=>{const e=G(R=>R.authentication_state.current_user),t=G(R=>R.authentication_state.auth_token),[r,n]=S.useState({total_users:0,total_properties:0,total_bookings:0,total_reviews:0,active_conversations:0,pending_moderation:0}),[i,a]=S.useState({users:!0,listings:!1,bookings:!1,reviews:!1}),[o,l]=S.useState("dashboard"),[c,u]=S.useState({user_query:"",user_role:"",user_verified:!1,property_query:"",property_status:"",booking_status:"",review_query:""});S.useEffect(()=>{e&&e.role!=="admin"&&(window.location.href="/")},[e]);const d=async()=>{try{const R=await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/users",{headers:{Authorization:`Bearer ${t}`},params:{limit:1}}),le=await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties",{headers:{Authorization:`Bearer ${t}`},params:{limit:1}}),ve=await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings",{headers:{Authorization:`Bearer ${t}`},params:{limit:1}}),Gr=await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/reviews",{headers:{Authorization:`Bearer ${t}`},params:{limit:1}});return{total_users:R.data.total_count||0,total_properties:le.data.total_count||0,total_bookings:ve.data.total_count||0,total_reviews:Gr.data.total_count||0,active_conversations:0,pending_moderation:0}}catch(R){throw console.error("Failed to load dashboard metrics:",R),R}},{data:h,isLoading:x,refetch:g}=oe({queryKey:["dashboard-metrics"],queryFn:d,enabled:!!t,staleTime:6e4,retry:1});S.useEffect(()=>{h&&n(h)},[h]);const b=async()=>{try{return(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/users",{headers:{Authorization:`Bearer ${t}`},params:{query:c.user_query,role:c.user_role,is_verified:c.user_verified,limit:50,offset:0}})).data}catch(R){throw console.error("Failed to search users:",R),R}},{data:v,isLoading:k,refetch:p}=oe({queryKey:["users",c.user_query,c.user_role,c.user_verified],queryFn:b,enabled:!!t&&o==="users",staleTime:6e4,retry:1}),m=async()=>{try{return(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties",{headers:{Authorization:`Bearer ${t}`},params:{query:c.property_query,is_active:c.property_status==="active"?!0:c.property_status==="inactive"?!1:void 0,limit:50,offset:0}})).data.properties}catch(R){throw console.error("Failed to search properties:",R),R}},{data:f,isLoading:_,refetch:E}=oe({queryKey:["properties",c.property_query,c.property_status],queryFn:m,enabled:!!t&&o==="listings",staleTime:6e4,retry:1}),w=async()=>{try{return(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings",{headers:{Authorization:`Bearer ${t}`},params:{status:c.booking_status||void 0,limit:50,offset:0}})).data.bookings}catch(R){throw console.error("Failed to search bookings:",R),R}},{data:j,isLoading:y,refetch:M}=oe({queryKey:["bookings",c.booking_status],queryFn:w,enabled:!!t&&o==="bookings",staleTime:6e4,retry:1}),D=async()=>{try{return(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/reviews",{headers:{Authorization:`Bearer ${t}`},params:{query:c.review_query,limit:50,offset:0}})).data}catch(R){throw console.error("Failed to search reviews:",R),R}},{data:K,isLoading:F,refetch:L}=oe({queryKey:["reviews",c.review_query],queryFn:D,enabled:!!t&&o==="reviews",staleTime:6e4,retry:1}),C=Be({mutationFn:async R=>(await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${R}`,{is_verified:!1},{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{p(),g()}}),P=Be({mutationFn:async R=>(await q.delete(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${R}`,{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{p(),g()}}),A=Be({mutationFn:async R=>(await q.delete(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${R}`,{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{E(),g()}}),Q=Be({mutationFn:async R=>(await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings/${R}`,{status:"refunded"},{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{M(),g()}}),z=Be({mutationFn:async R=>(await q.delete(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/reviews/${R}`,{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{L(),g()}}),T=R=>{a({users:R==="users",listings:R==="listings",bookings:R==="bookings",reviews:R==="reviews"}),R==="users"&&l("users"),R==="listings"&&l("listings"),R==="bookings"&&l("bookings"),R==="reviews"&&l("reviews")},I=(R,le)=>{u(ve=>({...ve,[R]:le}))},H=()=>{g(),o==="users"&&p(),o==="listings"&&E(),o==="bookings"&&M(),o==="reviews"&&L()};return!e||e.role!=="admin"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600",children:"You must be an administrator to access this panel."}),s.jsx(U,{to:"/",className:"mt-4 inline-block text-blue-600 hover:text-blue-800",children:"Return to Home"})]})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8 flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Panel"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"text-gray-600",children:["Welcome, ",e.name]}),s.jsx("button",{onClick:H,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Refresh"})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[o==="dashboard"&&s.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:[s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"px-4 py-5 sm:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:s.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),s.jsx("dd",{className:"flex items-baseline",children:s.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:x?s.jsx("div",{className:"animate-pulse h-6 bg-gray-200 rounded w-1/2"}):r.total_users})})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"px-4 py-5 sm:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:s.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Listings"}),s.jsx("dd",{className:"flex items-baseline",children:s.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:x?s.jsx("div",{className:"animate-pulse h-6 bg-gray-200 rounded w-1/2"}):r.total_properties})})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"px-4 py-5 sm:p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-yellow-500 rounded-md p-3",children:s.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Bookings"}),s.jsx("dd",{className:"flex items-baseline",children:s.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:x?s.jsx("div",{className:"animate-pulse h-6 bg-gray-200 rounded w-1/2"}):r.total_bookings})})]})})]})})})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Activity"}),s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:s.jsxs("ul",{className:"divide-y divide-gray-200",children:[s.jsx("li",{children:s.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:"New user registered"}),s.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:s.jsx("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Completed"})})]}),s.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[s.jsx("div",{className:"sm:flex",children:s.jsx("p",{className:"flex items-center text-sm text-gray-500",children:"Ahmed Ali registered as a host"})}),s.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[s.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),s.jsx("span",{children:"Just now"})]})]})]})}),s.jsx("li",{children:s.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:"New property listed"}),s.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:s.jsx("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Completed"})})]}),s.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[s.jsx("div",{className:"sm:flex",children:s.jsx("p",{className:"flex items-center text-sm text-gray-500",children:"Luxury apartment in Tripoli was listed"})}),s.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[s.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),s.jsx("span",{children:"2 hours ago"})]})]})]})})]})})]}),s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsx("button",{onClick:()=>l("users"),className:"bg-white border border-gray-300 rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Manage Platform"})})]}),(o==="users"||o==="listings"||o==="bookings"||o==="reviews")&&s.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{onClick:()=>T("users"),className:`${i.users?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Users"}),s.jsx("button",{onClick:()=>T("listings"),className:`${i.listings?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Listings"}),s.jsx("button",{onClick:()=>T("bookings"),className:`${i.bookings?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Bookings"}),s.jsx("button",{onClick:()=>T("reviews"),className:`${i.reviews?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Reviews"})]})}),s.jsx("div",{className:"mt-6 bg-white shadow rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o==="users"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"user_query",className:"block text-sm font-medium text-gray-700",children:"Search Users"}),s.jsx("input",{type:"text",name:"user_query",id:"user_query",value:c.user_query,onChange:R=>I("user_query",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Name, email..."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"user_role",className:"block text-sm font-medium text-gray-700",children:"Role"}),s.jsxs("select",{id:"user_role",name:"user_role",value:c.user_role,onChange:R=>I("user_role",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[s.jsx("option",{value:"",children:"All Roles"}),s.jsx("option",{value:"guest",children:"Guest"}),s.jsx("option",{value:"host",children:"Host"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"user_verified",className:"block text-sm font-medium text-gray-700",children:"Verified Status"}),s.jsxs("select",{id:"user_verified",name:"user_verified",value:c.user_verified.toString(),onChange:R=>I("user_verified",R.target.value==="true"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[s.jsx("option",{value:"false",children:"All"}),s.jsx("option",{value:"true",children:"Verified"}),s.jsx("option",{value:"false",children:"Unverified"})]})]})]}),o==="listings"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"property_query",className:"block text-sm font-medium text-gray-700",children:"Search Listings"}),s.jsx("input",{type:"text",name:"property_query",id:"property_query",value:c.property_query,onChange:R=>I("property_query",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Title, city..."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"property_status",className:"block text-sm font-medium text-gray-700",children:"Status"}),s.jsxs("select",{id:"property_status",name:"property_status",value:c.property_status,onChange:R=>I("property_status",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[s.jsx("option",{value:"",children:"All"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),o==="bookings"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"booking_status",className:"block text-sm font-medium text-gray-700",children:"Booking Status"}),s.jsxs("select",{id:"booking_status",name:"booking_status",value:c.booking_status,onChange:R=>I("booking_status",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"refunded",children:"Refunded"})]})]}),o==="reviews"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"review_query",className:"block text-sm font-medium text-gray-700",children:"Search Reviews"}),s.jsx("input",{type:"text",name:"review_query",id:"review_query",value:c.review_query,onChange:R=>I("review_query",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Comment, property..."})]})]})}),o==="users"&&s.jsx("div",{className:"mt-6 bg-white shadow rounded-lg overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-4 text-center",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})})})}):v&&v.length>0?v.map(R=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:R.profile_picture_url?s.jsx("img",{className:"h-10 w-10 rounded-full",src:R.profile_picture_url,alt:""}):s.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-10 h-10"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name}),s.jsx("div",{className:"text-sm text-gray-500",children:R.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900 capitalize",children:R.role})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R.is_verified?s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Verified"}):s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(R.created_at).toLocaleDateString()}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>C.mutate(R.user_id),disabled:C.isPending,className:"text-indigo-600 hover:text-indigo-900 mr-3",children:C.isPending?"Suspending...":"Suspend"}),s.jsx("button",{onClick:()=>P.mutate(R.user_id),disabled:P.isPending,className:"text-red-600 hover:text-red-900",children:P.isPending?"Deleting...":"Delete"})]})]},R.user_id)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No users found"})})})]})})}),o==="listings"&&s.jsx("div",{className:"mt-6 bg-white shadow rounded-lg overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Listing"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Host"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-4 text-center",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})})})}):f&&f.length>0?f.map(R=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.title}),s.jsx("div",{className:"text-sm text-gray-500",children:R.property_type})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:["Host #",R.host_id.substring(0,8)]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[R.city,R.neighborhood?`, ${R.neighborhood}`:""]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[R.base_price_per_night," LYD"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R.is_active?s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Active"}):s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>A.mutate(R.property_id),disabled:A.isPending,className:"text-red-600 hover:text-red-900",children:A.isPending?"Deleting...":"Delete"})})]},R.property_id)):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No listings found"})})})]})})}),o==="bookings"&&s.jsx("div",{className:"mt-6 bg-white shadow rounded-lg overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guest"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-4 text-center",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})})})}):j&&j.length>0?j.map(R=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",R.booking_id.substring(0,8)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:["Property #",R.property_id.substring(0,8)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:["Guest #",R.guest_id.substring(0,8)]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(R.check_in).toLocaleDateString()," - ",new Date(R.check_out).toLocaleDateString()]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[R.total_price," LYD"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${R.status==="confirmed"?"bg-green-100 text-green-800":R.status==="pending"?"bg-yellow-100 text-yellow-800":R.status==="cancelled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:R.status.charAt(0).toUpperCase()+R.status.slice(1)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:R.status!=="refunded"&&s.jsx("button",{onClick:()=>Q.mutate(R.booking_id),disabled:Q.isPending,className:"text-indigo-600 hover:text-indigo-900",children:Q.isPending?"Processing...":"Refund"})})]},R.booking_id)):s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No bookings found"})})})]})})}),o==="reviews"&&s.jsx("div",{className:"mt-6 bg-white shadow rounded-lg overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Review"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guest"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-4 text-center",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})})})}):K&&K.length>0?K.map(R=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900 line-clamp-2",children:R.comment||"No comment"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:["Property #",R.property_id.substring(0,8)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:["Guest #",R.reviewer_id.substring(0,8)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((le,ve)=>s.jsx("svg",{className:`h-5 w-5 ${ve<R.overall_rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},ve)),s.jsxs("span",{className:"ml-1 text-sm text-gray-500",children:["(",R.overall_rating,")"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(R.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>z.mutate(R.review_id),disabled:z.isPending,className:"text-red-600 hover:text-red-900",children:z.isPending?"Removing...":"Remove"})})]},R.review_id)):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No reviews found"})})})]})})})]})]})]})})},jj=()=>{const e=G(L=>L.authentication_state.current_user),t=G(L=>L.authentication_state.auth_token),[r,n]=S.useState("personal"),[i,a]=S.useState({name:"",email:"",phone_number:"",bio:"",profile_picture_url:"",emergency_contact_name:"",emergency_contact_phone:""}),[o,l]=S.useState({current_password:"",new_password:"",confirm_password:""}),[c,u]=S.useState({email_notifications:!0,sms_notifications:!0,push_notifications:!0}),[d,h]=S.useState(null),[x,g]=S.useState(null),[b,v]=S.useState(null),k=S.useRef(null),p=Kr(),{data:m,isLoading:f,isError:_}=oe({queryKey:["user",e==null?void 0:e.user_id],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${e==null?void 0:e.user_id}`,{headers:{Authorization:`Bearer ${t}`}})).data,enabled:!!(e!=null&&e.user_id)&&!!t});S.useEffect(()=>{m&&a({name:m.name||"",email:m.email||"",phone_number:m.phone_number||"",bio:m.bio||"",profile_picture_url:m.profile_picture_url||"",emergency_contact_name:m.emergency_contact_name||"",emergency_contact_phone:m.emergency_contact_phone||""})},[m]),S.useEffect(()=>()=>{k.current&&clearTimeout(k.current)},[]);const E=Be({mutationFn:async L=>(await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${e==null?void 0:e.user_id}`,L,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data,onSuccess:L=>{p.setQueryData(["user",e==null?void 0:e.user_id],L),v("Profile updated successfully"),g(null),k.current&&clearTimeout(k.current),k.current=setTimeout(()=>v(null),3e3)},onError:L=>{var C,P;g(((P=(C=L.response)==null?void 0:C.data)==null?void 0:P.message)||"Failed to update profile"),v(null)}}),w=L=>{const{name:C,value:P}=L.target;a(A=>({...A,[C]:P})),g(null)},j=L=>{const{name:C,checked:P}=L.target;u(A=>({...A,[C]:P}))},y=L=>{const{name:C,value:P}=L.target;l(A=>({...A,[C]:P})),g(null)},M=L=>{L.preventDefault(),E.mutate(i)},D=L=>{if(L.preventDefault(),o.new_password!==o.confirm_password){g("New passwords do not match");return}g("Password change functionality not implemented yet")},K=L=>{L.target.files&&L.target.files[0]&&(h(L.target.files[0]),v("Document selected for upload"),k.current&&clearTimeout(k.current),k.current=setTimeout(()=>v(null),3e3))},F=()=>{switch(r){case"personal":return s.jsxs("form",{onSubmit:M,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsx("input",{type:"text",id:"name",name:"name",value:i.name,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),s.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"phone_number",name:"phone_number",value:i.phone_number,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"profile_picture_url",className:"block text-sm font-medium text-gray-700",children:"Profile Picture URL"}),s.jsx("input",{type:"text",id:"profile_picture_url",name:"profile_picture_url",value:i.profile_picture_url,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),s.jsx("textarea",{id:"bio",name:"bio",rows:3,value:i.bio,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"emergency_contact_name",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Name"}),s.jsx("input",{type:"text",id:"emergency_contact_name",name:"emergency_contact_name",value:i.emergency_contact_name,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"emergency_contact_phone",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Phone"}),s.jsx("input",{type:"tel",id:"emergency_contact_phone",name:"emergency_contact_phone",value:i.emergency_contact_phone,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"submit",disabled:E.isPending,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:E.isPending?"Saving...":"Save Changes"})})]});case"verification":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Identity Verification"}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex-shrink-0 h-6 w-6 rounded-full flex items-center justify-center ${e!=null&&e.is_verified?"bg-green-100":"bg-gray-100"}`,children:e!=null&&e.is_verified?s.jsx("svg",{className:"h-4 w-4 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):s.jsx("svg",{className:"h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("p",{className:"ml-3 text-sm font-medium text-gray-900",children:e!=null&&e.is_verified?"Verified":"Not verified"})]}),!(e!=null&&e.is_verified)&&s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Upload a government-issued ID to verify your identity"})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Upload Verification Document"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"document-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[s.jsx("span",{children:"Upload a file"}),s.jsx("input",{id:"document-upload",name:"document-upload",type:"file",className:"sr-only",onChange:K})]}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF up to 5MB"})]})})]}),d&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Selected file: ",d.name]}),s.jsx("button",{type:"button",className:"mt-2 inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Upload Document"})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Phone Verification"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",i.phone_number||"Not provided"]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Status: ",m!=null&&m.phone_number?"Verified":"Not verified"]})]}),s.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Verify Phone"})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Email Verification"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",i.email]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Status: Verified"})]}),s.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Resend Verification"})]})]})]});case"notifications":return s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Preferences"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email Notifications"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Receive updates via email"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"email_notifications",checked:c.email_notifications,onChange:j,className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"SMS Notifications"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Receive text messages for important updates"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"sms_notifications",checked:c.sms_notifications,onChange:j,className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Push Notifications"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Receive mobile notifications when app is open"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"push_notifications",checked:c.push_notifications,onChange:j,className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Communication Frequency"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Daily Digest"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Summary of activity once per day"}),s.jsx("button",{className:"mt-3 w-full py-1 px-3 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Select"})]}),s.jsxs("div",{className:"border border-blue-500 rounded-lg p-4 bg-blue-50",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Real-time"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Immediate notifications for all events"}),s.jsx("button",{className:"mt-3 w-full py-1 px-3 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Selected"})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Weekly Summary"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Summary of activity once per week"}),s.jsx("button",{className:"mt-3 w-full py-1 px-3 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Select"})]})]})]})]});case"security":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Change Password"}),s.jsxs("form",{onSubmit:D,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"current_password",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),s.jsx("input",{type:"password",id:"current_password",name:"current_password",value:o.current_password,onChange:y,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),s.jsx("input",{type:"password",id:"new_password",name:"new_password",value:o.new_password,onChange:y,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),s.jsx("input",{type:"password",id:"confirm_password",name:"confirm_password",value:o.confirm_password,onChange:y,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Update Password"})})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Two-Factor Authentication"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),s.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Enable"})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Preferred 2FA Method"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"sms-auth",name:"2fa-method",type:"radio",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),s.jsx("label",{htmlFor:"sms-auth",className:"ml-3 block text-sm font-medium text-gray-700",children:"SMS Authentication"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"app-auth",name:"2fa-method",type:"radio",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),s.jsx("label",{htmlFor:"app-auth",className:"ml-3 block text-sm font-medium text-gray-700",children:"Authenticator App"})]})]})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Login Activity"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Current Session"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Libya (current)"})]}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})]}),s.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Chrome on Windows"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Tripoli, Libya · 2 days ago"})]}),s.jsx("button",{className:"text-sm text-red-600 hover:text-red-900",children:"Logout"})]}),s.jsxs("div",{className:"flex items-center justify-between py-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Safari on iPhone"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Benghazi, Libya · 1 week ago"})]}),s.jsx("button",{className:"text-sm text-red-600 hover:text-red-900",children:"Logout"})]})]})]})]});case"billing":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Payment Methods"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No payment methods"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a payment method."}),s.jsx("div",{className:"mt-6",children:s.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Payment Method"]})})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Transaction History"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No transactions"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You have no transaction history yet."})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tax Information"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No tax information"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add tax information for your earnings."}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add Tax Information"})})]})]})]});default:return null}};return f?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):_?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Error loading profile"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"There was an issue loading your profile information."}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Retry"})})]})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"lg:flex lg:items-center lg:justify-between",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Account Settings"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account information and preferences"})]})}),s.jsxs("div",{className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[s.jsx("button",{onClick:()=>n("personal"),className:`${r==="personal"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Personal Information"}),s.jsx("button",{onClick:()=>n("verification"),className:`${r==="verification"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Verification"}),s.jsx("button",{onClick:()=>n("notifications"),className:`${r==="notifications"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Notifications"}),s.jsx("button",{onClick:()=>n("security"),className:`${r==="security"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Security"}),(e==null?void 0:e.role)==="host"&&s.jsx("button",{onClick:()=>n("billing"),className:`${r==="billing"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Billing"})]})}),s.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[x&&s.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:s.jsx("p",{className:"text-sm",children:x})}),b&&s.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md",children:s.jsx("p",{className:"text-sm",children:b})}),F()]})]})]})})})},Nj=()=>{const[e,t]=S.useState(!1),[r,n]=S.useState(!1),[i,a]=S.useState({password_hash:"",confirm_password:""}),[o,l]=S.useState({}),[c,u]=S.useState(!1),[d,h]=S.useState(""),[x,g]=S.useState(!1),[b]=js(),v=b.get("token");S.useEffect(()=>{(async()=>{var j,y;if(v){u(!0);try{await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/validate-reset-token",{params:{token:v}}),n(!0)}catch(M){l({general:((y=(j=M.response)==null?void 0:j.data)==null?void 0:y.message)||"Invalid or expired reset link"}),n(!1)}finally{u(!1)}}})()},[v]);const k=async w=>{var j,y;w.preventDefault(),u(!0),l({});try{await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/request-password-reset",{email:d}),t(!0)}catch(M){l({email:((y=(j=M.response)==null?void 0:j.data)==null?void 0:y.message)||"Failed to send reset email"})}finally{u(!1)}},p=async w=>{var y,M;w.preventDefault();const j={};if(i.password_hash?i.password_hash.length<8&&(j.password_hash="Password must be at least 8 characters"):j.password_hash="Password is required",i.password_hash!==i.confirm_password&&(j.confirm_password="Passwords do not match"),Object.keys(j).length>0){l(j);return}u(!0),l({});try{await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/reset-password",{token:v,password_hash:i.password_hash}),g(!0),a({password_hash:"",confirm_password:""})}catch(D){l({general:((M=(y=D.response)==null?void 0:y.data)==null?void 0:M.message)||"Failed to reset password"})}finally{u(!1)}},f=(w=>{if(!w)return 0;let j=0;return w.length>=8&&(j+=1),/[A-Z]/.test(w)&&(j+=1),/[0-9]/.test(w)&&(j+=1),/[^A-Za-z0-9]/.test(w)&&(j+=1),j})(i.password_hash),_=["Very Weak","Weak","Fair","Good","Strong"],E=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"];return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:x?"Password Reset Successful":r?"Set New Password":e?"Check Your Email":"Reset Your Password"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:x?"Your password has been successfully reset. You can now sign in with your new password.":r?"Please enter your new password below":e?"We have sent a password reset link to your email address if it exists in our system":"Enter your email address and we will send you a link to reset your password"})]}),x?s.jsx("div",{className:"mt-8 bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:s.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("div",{className:"mt-4",children:s.jsx(U,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Return to login page"})})]})}):r?s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[o.general&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:o.general}),s.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),s.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:i.password_hash,onChange:w=>{a({...i,password_hash:w.target.value}),o.password_hash&&l({...o,password_hash:void 0})},className:`appearance-none relative block w-full px-3 py-2 border ${o.password_hash?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),o.password_hash&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password_hash}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Password Strength"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:_[f]||"Very Weak"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${E[f]||"bg-red-500"}`,style:{width:`${f/4*100}%`}})})]}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Password must be at least 8 characters and include a mix of letters, numbers, and symbols."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),s.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,value:i.confirm_password,onChange:w=>{a({...i,confirm_password:w.target.value}),o.confirm_password&&l({...o,confirm_password:void 0})},className:`appearance-none relative block w-full px-3 py-2 border ${o.confirm_password?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),o.confirm_password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.confirm_password})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting Password..."]}):"Reset Password"})})]}):e?s.jsx("div",{className:"mt-8 bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:s.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),s.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"If an account exists with the email address you provided, you will receive a password reset link shortly."}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>t(!1),className:"font-medium text-blue-600 hover:text-blue-500",children:"Resend email"})})]})}):s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:k,children:[o.general&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:o.general}),s.jsx("div",{className:"rounded-md shadow-sm",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),s.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:d,onChange:w=>{h(w.target.value),o.email&&l({...o,email:void 0})},className:`appearance-none relative block w-full px-3 py-2 border ${o.email?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`,placeholder:"Email address"}),o.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email})]})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Reset Link..."]}):"Send Reset Link"})}),s.jsx("div",{className:"text-center",children:s.jsx(U,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Return to login"})})]})]})})})},_j=new Vv({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),I0=()=>s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),Mt=({children:e})=>{const t=G(n=>n.authentication_state.authentication_status.is_authenticated);return G(n=>n.authentication_state.authentication_status.is_loading)?s.jsx(I0,{}):t?s.jsx(s.Fragment,{children:e}):s.jsx(Fp,{to:"/login",replace:!0})},kj=()=>{const e=G(r=>r.authentication_state.authentication_status.is_loading),t=G(r=>r.initialize_auth);return S.useEffect(()=>{t()},[t]),e?s.jsx(I0,{}):s.jsx(gv,{children:s.jsx(Wv,{client:_j,children:s.jsxs("div",{className:"App min-h-screen flex flex-col",children:[s.jsx(Tw,{}),s.jsx("main",{className:"flex-1",children:s.jsxs(cv,{children:[s.jsx(Ee,{path:"/",element:s.jsx(Fw,{})}),s.jsx(Ee,{path:"/search",element:s.jsx(Mw,{})}),s.jsx(Ee,{path:"/properties/:property_id",element:s.jsx(lj,{})}),s.jsx(Ee,{path:"/register",element:s.jsx(cj,{})}),s.jsx(Ee,{path:"/login",element:s.jsx(uj,{})}),s.jsx(Ee,{path:"/reset-password",element:s.jsx(Nj,{})}),s.jsx(Ee,{path:"/dashboard",element:s.jsx(Mt,{children:s.jsx(dj,{})})}),s.jsx(Ee,{path:"/dashboard/bookings",element:s.jsx(Mt,{children:s.jsx(hj,{})})}),s.jsx(Ee,{path:"/dashboard/listings",element:s.jsx(Mt,{children:s.jsx(mj,{})})}),s.jsx(Ee,{path:"/listings/create",element:s.jsx(Mt,{children:s.jsx(xj,{})})}),s.jsx(Ee,{path:"/listings/:listing_id/edit",element:s.jsx(Mt,{children:s.jsx(gj,{})})}),s.jsx(Ee,{path:"/dashboard/host-bookings",element:s.jsx(Mt,{children:s.jsx(yj,{})})}),s.jsx(Ee,{path:"/messages",element:s.jsx(Mt,{children:s.jsx(vj,{})})}),s.jsx(Ee,{path:"/reviews/create/:booking_id",element:s.jsx(Mt,{children:s.jsx(bj,{})})}),s.jsx(Ee,{path:"/settings",element:s.jsx(Mt,{children:s.jsx(jj,{})})}),s.jsx(Ee,{path:"/admin",element:s.jsx(Mt,{children:s.jsx(wj,{})})}),s.jsx(Ee,{path:"*",element:s.jsx(Fp,{to:"/",replace:!0})})]})}),s.jsx(Ow,{})]})})})},Sj=()=>s.jsx(s.Fragment,{children:s.jsx(kj,{})});Np(document.getElementById("root")).render(s.jsx(Sj,{}));

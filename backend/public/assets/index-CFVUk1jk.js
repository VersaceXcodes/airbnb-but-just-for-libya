var V0=Object.defineProperty;var Xu=e=>{throw TypeError(e)};var U0=(e,t,r)=>t in e?V0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Zu=(e,t,r)=>U0(e,typeof t!="symbol"?t+"":t,r),Mo=(e,t,r)=>t.has(e)||Xu("Cannot "+r);var _=(e,t,r)=>(Mo(e,t,"read from private field"),r?r.call(e):t.get(e)),K=(e,t,r)=>t.has(e)?Xu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),W=(e,t,r,s)=>(Mo(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),X=(e,t,r)=>(Mo(e,t,"access private method"),r);var $i=(e,t,r,s)=>({set _(i){W(e,t,i,r)},get _(){return _(e,t,s)}});function H0(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Q0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hm={exports:{}},io={},mm={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Li=Symbol.for("react.element"),Y0=Symbol.for("react.portal"),K0=Symbol.for("react.fragment"),G0=Symbol.for("react.strict_mode"),J0=Symbol.for("react.profiler"),X0=Symbol.for("react.provider"),Z0=Symbol.for("react.context"),ex=Symbol.for("react.forward_ref"),tx=Symbol.for("react.suspense"),rx=Symbol.for("react.memo"),nx=Symbol.for("react.lazy"),ed=Symbol.iterator;function sx(e){return e===null||typeof e!="object"?null:(e=ed&&e[ed]||e["@@iterator"],typeof e=="function"?e:null)}var fm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pm=Object.assign,xm={};function ys(e,t,r){this.props=e,this.context=t,this.refs=xm,this.updater=r||fm}ys.prototype.isReactComponent={};ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gm(){}gm.prototype=ys.prototype;function $c(e,t,r){this.props=e,this.context=t,this.refs=xm,this.updater=r||fm}var zc=$c.prototype=new gm;zc.constructor=$c;pm(zc,ys.prototype);zc.isPureReactComponent=!0;var td=Array.isArray,ym=Object.prototype.hasOwnProperty,Ic={current:null},vm={key:!0,ref:!0,__self:!0,__source:!0};function bm(e,t,r){var s,i={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)ym.call(t,s)&&!vm.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:Li,type:e,key:a,ref:o,props:i,_owner:Ic.current}}function ix(e,t){return{$$typeof:Li,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Li}function ax(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var rd=/\/+/g;function Fo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ax(""+e.key):t.toString(36)}function la(e,t,r,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Li:case Y0:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+Fo(o,0):s,td(i)?(r="",e!=null&&(r=e.replace(rd,"$&/")+"/"),la(i,t,r,"",function(u){return u})):i!=null&&(qc(i)&&(i=ix(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rd,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",td(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+Fo(a,l);o+=la(a,t,r,c,i)}else if(c=sx(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+Fo(a,l++),o+=la(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zi(e,t,r){if(e==null)return e;var s=[],i=0;return la(e,s,"","",function(a){return t.call(r,a,i++)}),s}function ox(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},ca={transition:null},lx={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:ca,ReactCurrentOwner:Ic};function wm(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:zi,forEach:function(e,t,r){zi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zi(e,function(){t++}),t},toArray:function(e){return zi(e,function(t){return t})||[]},only:function(e){if(!qc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=ys;Z.Fragment=K0;Z.Profiler=J0;Z.PureComponent=$c;Z.StrictMode=G0;Z.Suspense=tx;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lx;Z.act=wm;Z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=pm({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Ic.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ym.call(t,c)&&!vm.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Li,type:e.type,key:i,ref:a,props:s,_owner:o}};Z.createContext=function(e){return e={$$typeof:Z0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:X0,_context:e},e.Consumer=e};Z.createElement=bm;Z.createFactory=function(e){var t=bm.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:ex,render:e}};Z.isValidElement=qc;Z.lazy=function(e){return{$$typeof:nx,_payload:{_status:-1,_result:e},_init:ox}};Z.memo=function(e,t){return{$$typeof:rx,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=ca.transition;ca.transition={};try{e()}finally{ca.transition=t}};Z.unstable_act=wm;Z.useCallback=function(e,t){return He.current.useCallback(e,t)};Z.useContext=function(e){return He.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return He.current.useDeferredValue(e)};Z.useEffect=function(e,t){return He.current.useEffect(e,t)};Z.useId=function(){return He.current.useId()};Z.useImperativeHandle=function(e,t,r){return He.current.useImperativeHandle(e,t,r)};Z.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return He.current.useMemo(e,t)};Z.useReducer=function(e,t,r){return He.current.useReducer(e,t,r)};Z.useRef=function(e){return He.current.useRef(e)};Z.useState=function(e){return He.current.useState(e)};Z.useSyncExternalStore=function(e,t,r){return He.current.useSyncExternalStore(e,t,r)};Z.useTransition=function(){return He.current.useTransition()};Z.version="18.3.1";mm.exports=Z;var C=mm.exports;const tn=Q0(C),cx=H0({__proto__:null,default:tn},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux=C,dx=Symbol.for("react.element"),hx=Symbol.for("react.fragment"),mx=Object.prototype.hasOwnProperty,fx=ux.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,px={key:!0,ref:!0,__self:!0,__source:!0};function jm(e,t,r){var s,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)mx.call(t,s)&&!px.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:dx,type:e,key:a,ref:o,props:i,_owner:fx.current}}io.Fragment=hx;io.jsx=jm;io.jsxs=jm;hm.exports=io;var n=hm.exports,Nm={exports:{}},ut={},_m={exports:{}},km={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,O){var $=D.length;D.push(O);e:for(;0<$;){var V=$-1>>>1,R=D[V];if(0<i(R,O))D[V]=O,D[$]=R,$=V;else break e}}function r(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var O=D[0],$=D.pop();if($!==O){D[0]=$;e:for(var V=0,R=D.length,se=R>>>1;V<se;){var ce=2*(V+1)-1,Ot=D[ce],hr=ce+1,me=D[hr];if(0>i(Ot,$))hr<R&&0>i(me,Ot)?(D[V]=me,D[hr]=$,V=hr):(D[V]=Ot,D[ce]=$,V=ce);else if(hr<R&&0>i(me,$))D[V]=me,D[hr]=$,V=hr;else break e}}return O}function i(D,O){var $=D.sortIndex-O.sortIndex;return $!==0?$:D.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,x=3,y=!1,g=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(D){for(var O=r(u);O!==null;){if(O.callback===null)s(u);else if(O.startTime<=D)s(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(u)}}function N(D){if(b=!1,f(D),!g)if(r(c)!==null)g=!0,F(E);else{var O=r(u);O!==null&&Q(N,O.startTime-D)}}function E(D,O){g=!1,b&&(b=!1,p(v),v=-1),y=!0;var $=x;try{for(f(O),h=r(c);h!==null&&(!(h.expirationTime>O)||D&&!Y());){var V=h.callback;if(typeof V=="function"){h.callback=null,x=h.priorityLevel;var R=V(h.expirationTime<=O);O=e.unstable_now(),typeof R=="function"?h.callback=R:h===r(c)&&s(c),f(O)}else s(c);h=r(c)}if(h!==null)var se=!0;else{var ce=r(u);ce!==null&&Q(N,ce.startTime-O),se=!1}return se}finally{h=null,x=$,y=!1}}var w=!1,j=null,v=-1,B=5,A=-1;function Y(){return!(e.unstable_now()-A<B)}function M(){if(j!==null){var D=e.unstable_now();A=D;var O=!0;try{O=j(!0,D)}finally{O?L():(w=!1,j=null)}}else w=!1}var L;if(typeof m=="function")L=function(){m(M)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,P=S.port2;S.port1.onmessage=M,L=function(){P.postMessage(null)}}else L=function(){k(M,0)};function F(D){j=D,w||(w=!0,L())}function Q(D,O){v=k(function(){D(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,F(E))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(x){case 1:case 2:case 3:var O=3;break;default:O=x}var $=x;x=O;try{return D()}finally{x=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,O){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=x;x=D;try{return O()}finally{x=$}},e.unstable_scheduleCallback=function(D,O,$){var V=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?V+$:V):$=V,D){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=$+R,D={id:d++,callback:O,priorityLevel:D,startTime:$,expirationTime:R,sortIndex:-1},$>V?(D.sortIndex=$,t(u,D),r(c)===null&&D===r(u)&&(b?(p(v),v=-1):b=!0,Q(N,$-V))):(D.sortIndex=R,t(c,D),g||y||(g=!0,F(E))),D},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(D){var O=x;return function(){var $=x;x=O;try{return D.apply(this,arguments)}finally{x=$}}}})(km);_m.exports=km;var xx=_m.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx=C,ct=xx;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sm=new Set,si={};function En(e,t){us(e,t),us(e+"Capture",t)}function us(e,t){for(si[e]=t,e=0;e<t.length;e++)Sm.add(t[e])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xl=Object.prototype.hasOwnProperty,yx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nd={},sd={};function vx(e){return xl.call(sd,e)?!0:xl.call(nd,e)?!1:yx.test(e)?sd[e]=!0:(nd[e]=!0,!1)}function bx(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wx(e,t,r,s){if(t===null||typeof t>"u"||bx(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,r,s,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wc=/[\-:]([a-z])/g;function Vc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wc,Vc);Me[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wc,Vc);Me[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wc,Vc);Me[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Uc(e,t,r,s){var i=Me.hasOwnProperty(t)?Me[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wx(t,r,i,s)&&(r=null),s||i===null?vx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,s=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var cr=gx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ii=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),Fn=Symbol.for("react.fragment"),Hc=Symbol.for("react.strict_mode"),gl=Symbol.for("react.profiler"),Cm=Symbol.for("react.provider"),Em=Symbol.for("react.context"),Qc=Symbol.for("react.forward_ref"),yl=Symbol.for("react.suspense"),vl=Symbol.for("react.suspense_list"),Yc=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),Pm=Symbol.for("react.offscreen"),id=Symbol.iterator;function Ls(e){return e===null||typeof e!="object"?null:(e=id&&e[id]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,Ao;function Ws(e){if(Ao===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ao=t&&t[1]||""}return`
`+Ao+e}var Do=!1;function Bo(e,t){if(!e||Do)return"";Do=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Do=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ws(e):""}function jx(e){switch(e.tag){case 5:return Ws(e.type);case 16:return Ws("Lazy");case 13:return Ws("Suspense");case 19:return Ws("SuspenseList");case 0:case 2:case 15:return e=Bo(e.type,!1),e;case 11:return e=Bo(e.type.render,!1),e;case 1:return e=Bo(e.type,!0),e;default:return""}}function bl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fn:return"Fragment";case Mn:return"Portal";case gl:return"Profiler";case Hc:return"StrictMode";case yl:return"Suspense";case vl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Em:return(e.displayName||"Context")+".Consumer";case Cm:return(e._context.displayName||"Context")+".Provider";case Qc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yc:return t=e.displayName||null,t!==null?t:bl(e.type)||"Memo";case gr:t=e._payload,e=e._init;try{return bl(e(t))}catch{}}return null}function Nx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bl(t);case 8:return t===Hc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _x(e){var t=Lm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qi(e){e._valueTracker||(e._valueTracker=_x(e))}function Rm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Lm(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Ea(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wl(e,t){var r=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ad(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Ur(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tm(e,t){t=t.checked,t!=null&&Uc(e,"checked",t,!1)}function jl(e,t){Tm(e,t);var r=Ur(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nl(e,t.type,r):t.hasOwnProperty("defaultValue")&&Nl(e,t.type,Ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function od(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Nl(e,t,r){(t!=="number"||Ea(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vs=Array.isArray;function Hn(e,t,r,s){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Ur(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function _l(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ld(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(Vs(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ur(r)}}function Om(e,t){var r=Ur(t.value),s=Ur(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function cd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wi,Fm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wi=Wi||document.createElement("div"),Wi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ii(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kx=["Webkit","ms","Moz","O"];Object.keys(Ks).forEach(function(e){kx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ks[t]=Ks[e]})});function Am(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ks.hasOwnProperty(e)&&Ks[e]?(""+t).trim():t+"px"}function Dm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,i=Am(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,i):e[r]=i}}var Sx=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sl(e,t){if(t){if(Sx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Cl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var El=null;function Kc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pl=null,Qn=null,Yn=null;function ud(e){if(e=Oi(e)){if(typeof Pl!="function")throw Error(I(280));var t=e.stateNode;t&&(t=uo(t),Pl(e.stateNode,e.type,t))}}function Bm(e){Qn?Yn?Yn.push(e):Yn=[e]:Qn=e}function $m(){if(Qn){var e=Qn,t=Yn;if(Yn=Qn=null,ud(e),t)for(e=0;e<t.length;e++)ud(t[e])}}function zm(e,t){return e(t)}function Im(){}var $o=!1;function qm(e,t,r){if($o)return e(t,r);$o=!0;try{return zm(e,t,r)}finally{$o=!1,(Qn!==null||Yn!==null)&&(Im(),$m())}}function ai(e,t){var r=e.stateNode;if(r===null)return null;var s=uo(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var Ll=!1;if(sr)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){Ll=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{Ll=!1}function Cx(e,t,r,s,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Gs=!1,Pa=null,La=!1,Rl=null,Ex={onError:function(e){Gs=!0,Pa=e}};function Px(e,t,r,s,i,a,o,l,c){Gs=!1,Pa=null,Cx.apply(Ex,arguments)}function Lx(e,t,r,s,i,a,o,l,c){if(Px.apply(this,arguments),Gs){if(Gs){var u=Pa;Gs=!1,Pa=null}else throw Error(I(198));La||(La=!0,Rl=u)}}function Pn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Wm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dd(e){if(Pn(e)!==e)throw Error(I(188))}function Rx(e){var t=e.alternate;if(!t){if(t=Pn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,s=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){r=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return dd(i),e;if(a===s)return dd(i),t;a=a.sibling}throw Error(I(188))}if(r.return!==s.return)r=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o)throw Error(I(189))}}if(r.alternate!==s)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function Vm(e){return e=Rx(e),e!==null?Um(e):null}function Um(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Um(e);if(t!==null)return t;e=e.sibling}return null}var Hm=ct.unstable_scheduleCallback,hd=ct.unstable_cancelCallback,Tx=ct.unstable_shouldYield,Ox=ct.unstable_requestPaint,be=ct.unstable_now,Mx=ct.unstable_getCurrentPriorityLevel,Gc=ct.unstable_ImmediatePriority,Qm=ct.unstable_UserBlockingPriority,Ra=ct.unstable_NormalPriority,Fx=ct.unstable_LowPriority,Ym=ct.unstable_IdlePriority,ao=null,qt=null;function Ax(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(ao,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:$x,Dx=Math.log,Bx=Math.LN2;function $x(e){return e>>>=0,e===0?32:31-(Dx(e)/Bx|0)|0}var Vi=64,Ui=4194304;function Us(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ta(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?s=Us(l):(a&=o,a!==0&&(s=Us(a)))}else o=r&~i,o!==0?s=Us(o):a!==0&&(s=Us(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Pt(t),i=1<<r,s|=e[r],t&=~i;return s}function zx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ix(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Pt(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&s)&&(i[o]=zx(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Tl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Km(){var e=Vi;return Vi<<=1,!(Vi&4194240)&&(Vi=64),e}function zo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ri(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=r}function qx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Pt(r),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,r&=~a}}function Jc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Pt(r),i=1<<s;i&t|e[s]&t&&(e[s]|=t),r&=~i}}var oe=0;function Gm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jm,Xc,Xm,Zm,ef,Ol=!1,Hi=[],Mr=null,Fr=null,Ar=null,oi=new Map,li=new Map,br=[],Wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function md(e,t){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(t.pointerId)}}function Ts(e,t,r,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Oi(t),t!==null&&Xc(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Vx(e,t,r,s,i){switch(t){case"focusin":return Mr=Ts(Mr,e,t,r,s,i),!0;case"dragenter":return Fr=Ts(Fr,e,t,r,s,i),!0;case"mouseover":return Ar=Ts(Ar,e,t,r,s,i),!0;case"pointerover":var a=i.pointerId;return oi.set(a,Ts(oi.get(a)||null,e,t,r,s,i)),!0;case"gotpointercapture":return a=i.pointerId,li.set(a,Ts(li.get(a)||null,e,t,r,s,i)),!0}return!1}function tf(e){var t=rn(e.target);if(t!==null){var r=Pn(t);if(r!==null){if(t=r.tag,t===13){if(t=Wm(r),t!==null){e.blockedOn=t,ef(e.priority,function(){Xm(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ua(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ml(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);El=s,r.target.dispatchEvent(s),El=null}else return t=Oi(r),t!==null&&Xc(t),e.blockedOn=r,!1;t.shift()}return!0}function fd(e,t,r){ua(e)&&r.delete(t)}function Ux(){Ol=!1,Mr!==null&&ua(Mr)&&(Mr=null),Fr!==null&&ua(Fr)&&(Fr=null),Ar!==null&&ua(Ar)&&(Ar=null),oi.forEach(fd),li.forEach(fd)}function Os(e,t){e.blockedOn===t&&(e.blockedOn=null,Ol||(Ol=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Ux)))}function ci(e){function t(i){return Os(i,e)}if(0<Hi.length){Os(Hi[0],e);for(var r=1;r<Hi.length;r++){var s=Hi[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Mr!==null&&Os(Mr,e),Fr!==null&&Os(Fr,e),Ar!==null&&Os(Ar,e),oi.forEach(t),li.forEach(t),r=0;r<br.length;r++)s=br[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<br.length&&(r=br[0],r.blockedOn===null);)tf(r),r.blockedOn===null&&br.shift()}var Kn=cr.ReactCurrentBatchConfig,Oa=!0;function Hx(e,t,r,s){var i=oe,a=Kn.transition;Kn.transition=null;try{oe=1,Zc(e,t,r,s)}finally{oe=i,Kn.transition=a}}function Qx(e,t,r,s){var i=oe,a=Kn.transition;Kn.transition=null;try{oe=4,Zc(e,t,r,s)}finally{oe=i,Kn.transition=a}}function Zc(e,t,r,s){if(Oa){var i=Ml(e,t,r,s);if(i===null)Go(e,t,s,Ma,r),md(e,s);else if(Vx(i,e,t,r,s))s.stopPropagation();else if(md(e,s),t&4&&-1<Wx.indexOf(e)){for(;i!==null;){var a=Oi(i);if(a!==null&&Jm(a),a=Ml(e,t,r,s),a===null&&Go(e,t,s,Ma,r),a===i)break;i=a}i!==null&&s.stopPropagation()}else Go(e,t,s,null,r)}}var Ma=null;function Ml(e,t,r,s){if(Ma=null,e=Kc(s),e=rn(e),e!==null)if(t=Pn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Wm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ma=e,null}function rf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mx()){case Gc:return 1;case Qm:return 4;case Ra:case Fx:return 16;case Ym:return 536870912;default:return 16}default:return 16}}var Rr=null,eu=null,da=null;function nf(){if(da)return da;var e,t=eu,r=t.length,s,i="value"in Rr?Rr.value:Rr.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===i[a-s];s++);return da=i.slice(e,1<s?1-s:void 0)}function ha(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qi(){return!0}function pd(){return!1}function dt(e){function t(r,s,i,a,o){this._reactName=r,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Qi:pd,this.isPropagationStopped=pd,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),t}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tu=dt(vs),Ti=ge({},vs,{view:0,detail:0}),Yx=dt(Ti),Io,qo,Ms,oo=ge({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ru,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ms&&(Ms&&e.type==="mousemove"?(Io=e.screenX-Ms.screenX,qo=e.screenY-Ms.screenY):qo=Io=0,Ms=e),Io)},movementY:function(e){return"movementY"in e?e.movementY:qo}}),xd=dt(oo),Kx=ge({},oo,{dataTransfer:0}),Gx=dt(Kx),Jx=ge({},Ti,{relatedTarget:0}),Wo=dt(Jx),Xx=ge({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),Zx=dt(Xx),eg=ge({},vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tg=dt(eg),rg=ge({},vs,{data:0}),gd=dt(rg),ng={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ig={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ag(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ig[e])?!!t[e]:!1}function ru(){return ag}var og=ge({},Ti,{key:function(e){if(e.key){var t=ng[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ha(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ru,charCode:function(e){return e.type==="keypress"?ha(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ha(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lg=dt(og),cg=ge({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yd=dt(cg),ug=ge({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ru}),dg=dt(ug),hg=ge({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),mg=dt(hg),fg=ge({},oo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pg=dt(fg),xg=[9,13,27,32],nu=sr&&"CompositionEvent"in window,Js=null;sr&&"documentMode"in document&&(Js=document.documentMode);var gg=sr&&"TextEvent"in window&&!Js,sf=sr&&(!nu||Js&&8<Js&&11>=Js),vd=" ",bd=!1;function af(e,t){switch(e){case"keyup":return xg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function of(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var An=!1;function yg(e,t){switch(e){case"compositionend":return of(t);case"keypress":return t.which!==32?null:(bd=!0,vd);case"textInput":return e=t.data,e===vd&&bd?null:e;default:return null}}function vg(e,t){if(An)return e==="compositionend"||!nu&&af(e,t)?(e=nf(),da=eu=Rr=null,An=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sf&&t.locale!=="ko"?null:t.data;default:return null}}var bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bg[e.type]:t==="textarea"}function lf(e,t,r,s){Bm(s),t=Fa(t,"onChange"),0<t.length&&(r=new tu("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Xs=null,ui=null;function wg(e){vf(e,0)}function lo(e){var t=$n(e);if(Rm(t))return e}function jg(e,t){if(e==="change")return t}var cf=!1;if(sr){var Vo;if(sr){var Uo="oninput"in document;if(!Uo){var jd=document.createElement("div");jd.setAttribute("oninput","return;"),Uo=typeof jd.oninput=="function"}Vo=Uo}else Vo=!1;cf=Vo&&(!document.documentMode||9<document.documentMode)}function Nd(){Xs&&(Xs.detachEvent("onpropertychange",uf),ui=Xs=null)}function uf(e){if(e.propertyName==="value"&&lo(ui)){var t=[];lf(t,ui,e,Kc(e)),qm(wg,t)}}function Ng(e,t,r){e==="focusin"?(Nd(),Xs=t,ui=r,Xs.attachEvent("onpropertychange",uf)):e==="focusout"&&Nd()}function _g(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lo(ui)}function kg(e,t){if(e==="click")return lo(t)}function Sg(e,t){if(e==="input"||e==="change")return lo(t)}function Cg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:Cg;function di(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var i=r[s];if(!xl.call(t,i)||!Rt(e[i],t[i]))return!1}return!0}function _d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kd(e,t){var r=_d(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_d(r)}}function df(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?df(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hf(){for(var e=window,t=Ea();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ea(e.document)}return t}function su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Eg(e){var t=hf(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&df(r.ownerDocument.documentElement,r)){if(s!==null&&su(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=kd(r,a);var o=kd(r,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pg=sr&&"documentMode"in document&&11>=document.documentMode,Dn=null,Fl=null,Zs=null,Al=!1;function Sd(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Al||Dn==null||Dn!==Ea(s)||(s=Dn,"selectionStart"in s&&su(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Zs&&di(Zs,s)||(Zs=s,s=Fa(Fl,"onSelect"),0<s.length&&(t=new tu("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Dn)))}function Yi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Bn={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionend:Yi("Transition","TransitionEnd")},Ho={},mf={};sr&&(mf=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function co(e){if(Ho[e])return Ho[e];if(!Bn[e])return e;var t=Bn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in mf)return Ho[e]=t[r];return e}var ff=co("animationend"),pf=co("animationiteration"),xf=co("animationstart"),gf=co("transitionend"),yf=new Map,Cd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(e,t){yf.set(e,t),En(t,[e])}for(var Qo=0;Qo<Cd.length;Qo++){var Yo=Cd[Qo],Lg=Yo.toLowerCase(),Rg=Yo[0].toUpperCase()+Yo.slice(1);Qr(Lg,"on"+Rg)}Qr(ff,"onAnimationEnd");Qr(pf,"onAnimationIteration");Qr(xf,"onAnimationStart");Qr("dblclick","onDoubleClick");Qr("focusin","onFocus");Qr("focusout","onBlur");Qr(gf,"onTransitionEnd");us("onMouseEnter",["mouseout","mouseover"]);us("onMouseLeave",["mouseout","mouseover"]);us("onPointerEnter",["pointerout","pointerover"]);us("onPointerLeave",["pointerout","pointerover"]);En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));En("onBeforeInput",["compositionend","keypress","textInput","paste"]);En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hs));function Ed(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Lx(s,t,void 0,e),e.currentTarget=null}function vf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Ed(i,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Ed(i,l,u),a=c}}}if(La)throw e=Rl,La=!1,Rl=null,e}function de(e,t){var r=t[Il];r===void 0&&(r=t[Il]=new Set);var s=e+"__bubble";r.has(s)||(bf(t,e,2,!1),r.add(s))}function Ko(e,t,r){var s=0;t&&(s|=4),bf(r,e,s,t)}var Ki="_reactListening"+Math.random().toString(36).slice(2);function hi(e){if(!e[Ki]){e[Ki]=!0,Sm.forEach(function(r){r!=="selectionchange"&&(Tg.has(r)||Ko(r,!1,e),Ko(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ki]||(t[Ki]=!0,Ko("selectionchange",!1,t))}}function bf(e,t,r,s){switch(rf(t)){case 1:var i=Hx;break;case 4:i=Qx;break;default:i=Zc}r=i.bind(null,t,r,e),i=void 0,!Ll||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Go(e,t,r,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=rn(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}qm(function(){var u=a,d=Kc(r),h=[];e:{var x=yf.get(e);if(x!==void 0){var y=tu,g=e;switch(e){case"keypress":if(ha(r)===0)break e;case"keydown":case"keyup":y=lg;break;case"focusin":g="focus",y=Wo;break;case"focusout":g="blur",y=Wo;break;case"beforeblur":case"afterblur":y=Wo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Gx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=dg;break;case ff:case pf:case xf:y=Zx;break;case gf:y=mg;break;case"scroll":y=Yx;break;case"wheel":y=pg;break;case"copy":case"cut":case"paste":y=tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=yd}var b=(t&4)!==0,k=!b&&e==="scroll",p=b?x!==null?x+"Capture":null:x;b=[];for(var m=u,f;m!==null;){f=m;var N=f.stateNode;if(f.tag===5&&N!==null&&(f=N,p!==null&&(N=ai(m,p),N!=null&&b.push(mi(m,N,f)))),k)break;m=m.return}0<b.length&&(x=new y(x,g,null,r,d),h.push({event:x,listeners:b}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",x&&r!==El&&(g=r.relatedTarget||r.fromElement)&&(rn(g)||g[ir]))break e;if((y||x)&&(x=d.window===d?d:(x=d.ownerDocument)?x.defaultView||x.parentWindow:window,y?(g=r.relatedTarget||r.toElement,y=u,g=g?rn(g):null,g!==null&&(k=Pn(g),g!==k||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=u),y!==g)){if(b=xd,N="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(b=yd,N="onPointerLeave",p="onPointerEnter",m="pointer"),k=y==null?x:$n(y),f=g==null?x:$n(g),x=new b(N,m+"leave",y,r,d),x.target=k,x.relatedTarget=f,N=null,rn(d)===u&&(b=new b(p,m+"enter",g,r,d),b.target=f,b.relatedTarget=k,N=b),k=N,y&&g)t:{for(b=y,p=g,m=0,f=b;f;f=Tn(f))m++;for(f=0,N=p;N;N=Tn(N))f++;for(;0<m-f;)b=Tn(b),m--;for(;0<f-m;)p=Tn(p),f--;for(;m--;){if(b===p||p!==null&&b===p.alternate)break t;b=Tn(b),p=Tn(p)}b=null}else b=null;y!==null&&Pd(h,x,y,b,!1),g!==null&&k!==null&&Pd(h,k,g,b,!0)}}e:{if(x=u?$n(u):window,y=x.nodeName&&x.nodeName.toLowerCase(),y==="select"||y==="input"&&x.type==="file")var E=jg;else if(wd(x))if(cf)E=Sg;else{E=_g;var w=Ng}else(y=x.nodeName)&&y.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(E=kg);if(E&&(E=E(e,u))){lf(h,E,r,d);break e}w&&w(e,x,u),e==="focusout"&&(w=x._wrapperState)&&w.controlled&&x.type==="number"&&Nl(x,"number",x.value)}switch(w=u?$n(u):window,e){case"focusin":(wd(w)||w.contentEditable==="true")&&(Dn=w,Fl=u,Zs=null);break;case"focusout":Zs=Fl=Dn=null;break;case"mousedown":Al=!0;break;case"contextmenu":case"mouseup":case"dragend":Al=!1,Sd(h,r,d);break;case"selectionchange":if(Pg)break;case"keydown":case"keyup":Sd(h,r,d)}var j;if(nu)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else An?af(e,r)&&(v="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(v="onCompositionStart");v&&(sf&&r.locale!=="ko"&&(An||v!=="onCompositionStart"?v==="onCompositionEnd"&&An&&(j=nf()):(Rr=d,eu="value"in Rr?Rr.value:Rr.textContent,An=!0)),w=Fa(u,v),0<w.length&&(v=new gd(v,e,null,r,d),h.push({event:v,listeners:w}),j?v.data=j:(j=of(r),j!==null&&(v.data=j)))),(j=gg?yg(e,r):vg(e,r))&&(u=Fa(u,"onBeforeInput"),0<u.length&&(d=new gd("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}vf(h,t)})}function mi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fa(e,t){for(var r=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ai(e,r),a!=null&&s.unshift(mi(e,a,i)),a=ai(e,t),a!=null&&s.push(mi(e,a,i))),e=e.return}return s}function Tn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pd(e,t,r,s,i){for(var a=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,i?(c=ai(r,a),c!=null&&o.unshift(mi(r,c,l))):i||(c=ai(r,a),c!=null&&o.push(mi(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Og=/\r\n?/g,Mg=/\u0000|\uFFFD/g;function Ld(e){return(typeof e=="string"?e:""+e).replace(Og,`
`).replace(Mg,"")}function Gi(e,t,r){if(t=Ld(t),Ld(e)!==t&&r)throw Error(I(425))}function Aa(){}var Dl=null,Bl=null;function $l(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zl=typeof setTimeout=="function"?setTimeout:void 0,Fg=typeof clearTimeout=="function"?clearTimeout:void 0,Rd=typeof Promise=="function"?Promise:void 0,Ag=typeof queueMicrotask=="function"?queueMicrotask:typeof Rd<"u"?function(e){return Rd.resolve(null).then(e).catch(Dg)}:zl;function Dg(e){setTimeout(function(){throw e})}function Jo(e,t){var r=t,s=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(s===0){e.removeChild(i),ci(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=i}while(r);ci(t)}function Dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Td(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var bs=Math.random().toString(36).slice(2),It="__reactFiber$"+bs,fi="__reactProps$"+bs,ir="__reactContainer$"+bs,Il="__reactEvents$"+bs,Bg="__reactListeners$"+bs,$g="__reactHandles$"+bs;function rn(e){var t=e[It];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ir]||r[It]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Td(e);e!==null;){if(r=e[It])return r;e=Td(e)}return t}e=r,r=e.parentNode}return null}function Oi(e){return e=e[It]||e[ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function uo(e){return e[fi]||null}var ql=[],zn=-1;function Yr(e){return{current:e}}function he(e){0>zn||(e.current=ql[zn],ql[zn]=null,zn--)}function ue(e,t){zn++,ql[zn]=e.current,e.current=t}var Hr={},ze=Yr(Hr),Xe=Yr(!1),bn=Hr;function ds(e,t){var r=e.type.contextTypes;if(!r)return Hr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ze(e){return e=e.childContextTypes,e!=null}function Da(){he(Xe),he(ze)}function Od(e,t,r){if(ze.current!==Hr)throw Error(I(168));ue(ze,t),ue(Xe,r)}function wf(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(I(108,Nx(e)||"Unknown",i));return ge({},r,s)}function Ba(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hr,bn=ze.current,ue(ze,e),ue(Xe,Xe.current),!0}function Md(e,t,r){var s=e.stateNode;if(!s)throw Error(I(169));r?(e=wf(e,t,bn),s.__reactInternalMemoizedMergedChildContext=e,he(Xe),he(ze),ue(ze,e)):he(Xe),ue(Xe,r)}var Kt=null,ho=!1,Xo=!1;function jf(e){Kt===null?Kt=[e]:Kt.push(e)}function zg(e){ho=!0,jf(e)}function Kr(){if(!Xo&&Kt!==null){Xo=!0;var e=0,t=oe;try{var r=Kt;for(oe=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Kt=null,ho=!1}catch(i){throw Kt!==null&&(Kt=Kt.slice(e+1)),Hm(Gc,Kr),i}finally{oe=t,Xo=!1}}return null}var In=[],qn=0,$a=null,za=0,ft=[],pt=0,wn=null,er=1,tr="";function Xr(e,t){In[qn++]=za,In[qn++]=$a,$a=e,za=t}function Nf(e,t,r){ft[pt++]=er,ft[pt++]=tr,ft[pt++]=wn,wn=e;var s=er;e=tr;var i=32-Pt(s)-1;s&=~(1<<i),r+=1;var a=32-Pt(t)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,er=1<<32-Pt(t)+i|r<<i|s,tr=a+e}else er=1<<a|r<<i|s,tr=e}function iu(e){e.return!==null&&(Xr(e,1),Nf(e,1,0))}function au(e){for(;e===$a;)$a=In[--qn],In[qn]=null,za=In[--qn],In[qn]=null;for(;e===wn;)wn=ft[--pt],ft[pt]=null,tr=ft[--pt],ft[pt]=null,er=ft[--pt],ft[pt]=null}var lt=null,ot=null,fe=!1,Et=null;function _f(e,t){var r=gt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Fd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,ot=Dr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=wn!==null?{id:er,overflow:tr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,lt=e,ot=null,!0):!1;default:return!1}}function Wl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vl(e){if(fe){var t=ot;if(t){var r=t;if(!Fd(e,t)){if(Wl(e))throw Error(I(418));t=Dr(r.nextSibling);var s=lt;t&&Fd(e,t)?_f(s,r):(e.flags=e.flags&-4097|2,fe=!1,lt=e)}}else{if(Wl(e))throw Error(I(418));e.flags=e.flags&-4097|2,fe=!1,lt=e}}}function Ad(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function Ji(e){if(e!==lt)return!1;if(!fe)return Ad(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$l(e.type,e.memoizedProps)),t&&(t=ot)){if(Wl(e))throw kf(),Error(I(418));for(;t;)_f(e,t),t=Dr(t.nextSibling)}if(Ad(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ot=Dr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=lt?Dr(e.stateNode.nextSibling):null;return!0}function kf(){for(var e=ot;e;)e=Dr(e.nextSibling)}function hs(){ot=lt=null,fe=!1}function ou(e){Et===null?Et=[e]:Et.push(e)}var Ig=cr.ReactCurrentBatchConfig;function Fs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var s=r.stateNode}if(!s)throw Error(I(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function Xi(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dd(e){var t=e._init;return t(e._payload)}function Sf(e){function t(p,m){if(e){var f=p.deletions;f===null?(p.deletions=[m],p.flags|=16):f.push(m)}}function r(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function s(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=Ir(p,m),p.index=0,p.sibling=null,p}function a(p,m,f){return p.index=f,e?(f=p.alternate,f!==null?(f=f.index,f<m?(p.flags|=2,m):f):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,m,f,N){return m===null||m.tag!==6?(m=il(f,p.mode,N),m.return=p,m):(m=i(m,f),m.return=p,m)}function c(p,m,f,N){var E=f.type;return E===Fn?d(p,m,f.props.children,N,f.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gr&&Dd(E)===m.type)?(N=i(m,f.props),N.ref=Fs(p,m,f),N.return=p,N):(N=va(f.type,f.key,f.props,null,p.mode,N),N.ref=Fs(p,m,f),N.return=p,N)}function u(p,m,f,N){return m===null||m.tag!==4||m.stateNode.containerInfo!==f.containerInfo||m.stateNode.implementation!==f.implementation?(m=al(f,p.mode,N),m.return=p,m):(m=i(m,f.children||[]),m.return=p,m)}function d(p,m,f,N,E){return m===null||m.tag!==7?(m=yn(f,p.mode,N,E),m.return=p,m):(m=i(m,f),m.return=p,m)}function h(p,m,f){if(typeof m=="string"&&m!==""||typeof m=="number")return m=il(""+m,p.mode,f),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ii:return f=va(m.type,m.key,m.props,null,p.mode,f),f.ref=Fs(p,null,m),f.return=p,f;case Mn:return m=al(m,p.mode,f),m.return=p,m;case gr:var N=m._init;return h(p,N(m._payload),f)}if(Vs(m)||Ls(m))return m=yn(m,p.mode,f,null),m.return=p,m;Xi(p,m)}return null}function x(p,m,f,N){var E=m!==null?m.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return E!==null?null:l(p,m,""+f,N);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ii:return f.key===E?c(p,m,f,N):null;case Mn:return f.key===E?u(p,m,f,N):null;case gr:return E=f._init,x(p,m,E(f._payload),N)}if(Vs(f)||Ls(f))return E!==null?null:d(p,m,f,N,null);Xi(p,f)}return null}function y(p,m,f,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return p=p.get(f)||null,l(m,p,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ii:return p=p.get(N.key===null?f:N.key)||null,c(m,p,N,E);case Mn:return p=p.get(N.key===null?f:N.key)||null,u(m,p,N,E);case gr:var w=N._init;return y(p,m,f,w(N._payload),E)}if(Vs(N)||Ls(N))return p=p.get(f)||null,d(m,p,N,E,null);Xi(m,N)}return null}function g(p,m,f,N){for(var E=null,w=null,j=m,v=m=0,B=null;j!==null&&v<f.length;v++){j.index>v?(B=j,j=null):B=j.sibling;var A=x(p,j,f[v],N);if(A===null){j===null&&(j=B);break}e&&j&&A.alternate===null&&t(p,j),m=a(A,m,v),w===null?E=A:w.sibling=A,w=A,j=B}if(v===f.length)return r(p,j),fe&&Xr(p,v),E;if(j===null){for(;v<f.length;v++)j=h(p,f[v],N),j!==null&&(m=a(j,m,v),w===null?E=j:w.sibling=j,w=j);return fe&&Xr(p,v),E}for(j=s(p,j);v<f.length;v++)B=y(j,p,v,f[v],N),B!==null&&(e&&B.alternate!==null&&j.delete(B.key===null?v:B.key),m=a(B,m,v),w===null?E=B:w.sibling=B,w=B);return e&&j.forEach(function(Y){return t(p,Y)}),fe&&Xr(p,v),E}function b(p,m,f,N){var E=Ls(f);if(typeof E!="function")throw Error(I(150));if(f=E.call(f),f==null)throw Error(I(151));for(var w=E=null,j=m,v=m=0,B=null,A=f.next();j!==null&&!A.done;v++,A=f.next()){j.index>v?(B=j,j=null):B=j.sibling;var Y=x(p,j,A.value,N);if(Y===null){j===null&&(j=B);break}e&&j&&Y.alternate===null&&t(p,j),m=a(Y,m,v),w===null?E=Y:w.sibling=Y,w=Y,j=B}if(A.done)return r(p,j),fe&&Xr(p,v),E;if(j===null){for(;!A.done;v++,A=f.next())A=h(p,A.value,N),A!==null&&(m=a(A,m,v),w===null?E=A:w.sibling=A,w=A);return fe&&Xr(p,v),E}for(j=s(p,j);!A.done;v++,A=f.next())A=y(j,p,v,A.value,N),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?v:A.key),m=a(A,m,v),w===null?E=A:w.sibling=A,w=A);return e&&j.forEach(function(M){return t(p,M)}),fe&&Xr(p,v),E}function k(p,m,f,N){if(typeof f=="object"&&f!==null&&f.type===Fn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Ii:e:{for(var E=f.key,w=m;w!==null;){if(w.key===E){if(E=f.type,E===Fn){if(w.tag===7){r(p,w.sibling),m=i(w,f.props.children),m.return=p,p=m;break e}}else if(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===gr&&Dd(E)===w.type){r(p,w.sibling),m=i(w,f.props),m.ref=Fs(p,w,f),m.return=p,p=m;break e}r(p,w);break}else t(p,w);w=w.sibling}f.type===Fn?(m=yn(f.props.children,p.mode,N,f.key),m.return=p,p=m):(N=va(f.type,f.key,f.props,null,p.mode,N),N.ref=Fs(p,m,f),N.return=p,p=N)}return o(p);case Mn:e:{for(w=f.key;m!==null;){if(m.key===w)if(m.tag===4&&m.stateNode.containerInfo===f.containerInfo&&m.stateNode.implementation===f.implementation){r(p,m.sibling),m=i(m,f.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else t(p,m);m=m.sibling}m=al(f,p.mode,N),m.return=p,p=m}return o(p);case gr:return w=f._init,k(p,m,w(f._payload),N)}if(Vs(f))return g(p,m,f,N);if(Ls(f))return b(p,m,f,N);Xi(p,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,m!==null&&m.tag===6?(r(p,m.sibling),m=i(m,f),m.return=p,p=m):(r(p,m),m=il(f,p.mode,N),m.return=p,p=m),o(p)):r(p,m)}return k}var ms=Sf(!0),Cf=Sf(!1),Ia=Yr(null),qa=null,Wn=null,lu=null;function cu(){lu=Wn=qa=null}function uu(e){var t=Ia.current;he(Ia),e._currentValue=t}function Ul(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Gn(e,t){qa=e,lu=Wn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function vt(e){var t=e._currentValue;if(lu!==e)if(e={context:e,memoizedValue:t,next:null},Wn===null){if(qa===null)throw Error(I(308));Wn=e,qa.dependencies={lanes:0,firstContext:e}}else Wn=Wn.next=e;return t}var nn=null;function du(e){nn===null?nn=[e]:nn.push(e)}function Ef(e,t,r,s){var i=t.interleaved;return i===null?(r.next=r,du(t)):(r.next=i.next,i.next=r),t.interleaved=r,ar(e,s)}function ar(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var yr=!1;function hu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Br(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ne&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,ar(e,r)}return i=s.interleaved,i===null?(t.next=t,du(s)):(t.next=i.next,i.next=t),s.interleaved=t,ar(e,r)}function ma(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Jc(e,r)}}function Bd(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wa(e,t,r,s){var i=e.updateQueue;yr=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,d=u=c=null,l=a;do{var x=l.lane,y=l.eventTime;if((s&x)===x){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,b=l;switch(x=t,y=r,b.tag){case 1:if(g=b.payload,typeof g=="function"){h=g.call(y,h,x);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,x=typeof g=="function"?g.call(y,h,x):g,x==null)break e;h=ge({},h,x);break e;case 2:yr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,x=i.effects,x===null?i.effects=[l]:x.push(l))}else y={eventTime:y,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,o|=x;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;x=l,l=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Nn|=o,e.lanes=o,e.memoizedState=h}}function $d(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=r,typeof i!="function")throw Error(I(191,i));i.call(s)}}}var Mi={},Wt=Yr(Mi),pi=Yr(Mi),xi=Yr(Mi);function sn(e){if(e===Mi)throw Error(I(174));return e}function mu(e,t){switch(ue(xi,t),ue(pi,e),ue(Wt,Mi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kl(t,e)}he(Wt),ue(Wt,t)}function fs(){he(Wt),he(pi),he(xi)}function Lf(e){sn(xi.current);var t=sn(Wt.current),r=kl(t,e.type);t!==r&&(ue(pi,e),ue(Wt,r))}function fu(e){pi.current===e&&(he(Wt),he(pi))}var pe=Yr(0);function Va(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zo=[];function pu(){for(var e=0;e<Zo.length;e++)Zo[e]._workInProgressVersionPrimary=null;Zo.length=0}var fa=cr.ReactCurrentDispatcher,el=cr.ReactCurrentBatchConfig,jn=0,xe=null,_e=null,Le=null,Ua=!1,ei=!1,gi=0,qg=0;function Fe(){throw Error(I(321))}function xu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rt(e[r],t[r]))return!1;return!0}function gu(e,t,r,s,i,a){if(jn=a,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=e===null||e.memoizedState===null?Hg:Qg,e=r(s,i),ei){a=0;do{if(ei=!1,gi=0,25<=a)throw Error(I(301));a+=1,Le=_e=null,t.updateQueue=null,fa.current=Yg,e=r(s,i)}while(ei)}if(fa.current=Ha,t=_e!==null&&_e.next!==null,jn=0,Le=_e=xe=null,Ua=!1,t)throw Error(I(300));return e}function yu(){var e=gi!==0;return gi=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?xe.memoizedState=Le=e:Le=Le.next=e,Le}function bt(){if(_e===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Le===null?xe.memoizedState:Le.next;if(t!==null)Le=t,_e=e;else{if(e===null)throw Error(I(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Le===null?xe.memoizedState=Le=e:Le=Le.next=e}return Le}function yi(e,t){return typeof t=="function"?t(e):t}function tl(e){var t=bt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var s=_e,i=s.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((jn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,xe.lanes|=d,Nn|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,Rt(s,t.memoizedState)||(Je=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){i=e;do a=i.lane,xe.lanes|=a,Nn|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function rl(e){var t=bt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var s=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Rt(a,t.memoizedState)||(Je=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,s]}function Rf(){}function Tf(e,t){var r=xe,s=bt(),i=t(),a=!Rt(s.memoizedState,i);if(a&&(s.memoizedState=i,Je=!0),s=s.queue,vu(Ff.bind(null,r,s,e),[e]),s.getSnapshot!==t||a||Le!==null&&Le.memoizedState.tag&1){if(r.flags|=2048,vi(9,Mf.bind(null,r,s,i,t),void 0,null),Re===null)throw Error(I(349));jn&30||Of(r,t,i)}return i}function Of(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Mf(e,t,r,s){t.value=r,t.getSnapshot=s,Af(t)&&Df(e)}function Ff(e,t,r){return r(function(){Af(t)&&Df(e)})}function Af(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rt(e,r)}catch{return!0}}function Df(e){var t=ar(e,1);t!==null&&Lt(t,e,1,-1)}function zd(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ug.bind(null,xe,e),[t.memoizedState,e]}function vi(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Bf(){return bt().memoizedState}function pa(e,t,r,s){var i=Dt();xe.flags|=e,i.memoizedState=vi(1|t,r,void 0,s===void 0?null:s)}function mo(e,t,r,s){var i=bt();s=s===void 0?null:s;var a=void 0;if(_e!==null){var o=_e.memoizedState;if(a=o.destroy,s!==null&&xu(s,o.deps)){i.memoizedState=vi(t,r,a,s);return}}xe.flags|=e,i.memoizedState=vi(1|t,r,a,s)}function Id(e,t){return pa(8390656,8,e,t)}function vu(e,t){return mo(2048,8,e,t)}function $f(e,t){return mo(4,2,e,t)}function zf(e,t){return mo(4,4,e,t)}function If(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qf(e,t,r){return r=r!=null?r.concat([e]):null,mo(4,4,If.bind(null,t,e),r)}function bu(){}function Wf(e,t){var r=bt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&xu(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Vf(e,t){var r=bt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&xu(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Uf(e,t,r){return jn&21?(Rt(r,t)||(r=Km(),xe.lanes|=r,Nn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=r)}function Wg(e,t){var r=oe;oe=r!==0&&4>r?r:4,e(!0);var s=el.transition;el.transition={};try{e(!1),t()}finally{oe=r,el.transition=s}}function Hf(){return bt().memoizedState}function Vg(e,t,r){var s=zr(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Qf(e))Yf(t,r);else if(r=Ef(e,t,r,s),r!==null){var i=Ue();Lt(r,e,s,i),Kf(r,t,s)}}function Ug(e,t,r){var s=zr(e),i={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qf(e))Yf(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,Rt(l,o)){var c=t.interleaved;c===null?(i.next=i,du(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=Ef(e,t,i,s),r!==null&&(i=Ue(),Lt(r,e,s,i),Kf(r,t,s))}}function Qf(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function Yf(e,t){ei=Ua=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Kf(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Jc(e,r)}}var Ha={readContext:vt,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},Hg={readContext:vt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:Id,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,pa(4194308,4,If.bind(null,t,e),r)},useLayoutEffect:function(e,t){return pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return pa(4,2,e,t)},useMemo:function(e,t){var r=Dt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Dt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Vg.bind(null,xe,e),[s.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:zd,useDebugValue:bu,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=zd(!1),t=e[0];return e=Wg.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=xe,i=Dt();if(fe){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),Re===null)throw Error(I(349));jn&30||Of(s,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Id(Ff.bind(null,s,a,e),[e]),s.flags|=2048,vi(9,Mf.bind(null,s,a,r,t),void 0,null),r},useId:function(){var e=Dt(),t=Re.identifierPrefix;if(fe){var r=tr,s=er;r=(s&~(1<<32-Pt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=gi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=qg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qg={readContext:vt,useCallback:Wf,useContext:vt,useEffect:vu,useImperativeHandle:qf,useInsertionEffect:$f,useLayoutEffect:zf,useMemo:Vf,useReducer:tl,useRef:Bf,useState:function(){return tl(yi)},useDebugValue:bu,useDeferredValue:function(e){var t=bt();return Uf(t,_e.memoizedState,e)},useTransition:function(){var e=tl(yi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Rf,useSyncExternalStore:Tf,useId:Hf,unstable_isNewReconciler:!1},Yg={readContext:vt,useCallback:Wf,useContext:vt,useEffect:vu,useImperativeHandle:qf,useInsertionEffect:$f,useLayoutEffect:zf,useMemo:Vf,useReducer:rl,useRef:Bf,useState:function(){return rl(yi)},useDebugValue:bu,useDeferredValue:function(e){var t=bt();return _e===null?t.memoizedState=e:Uf(t,_e.memoizedState,e)},useTransition:function(){var e=rl(yi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Rf,useSyncExternalStore:Tf,useId:Hf,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Hl(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:ge({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var fo={isMounted:function(e){return(e=e._reactInternals)?Pn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Ue(),i=zr(e),a=rr(s,i);a.payload=t,r!=null&&(a.callback=r),t=Br(e,a,i),t!==null&&(Lt(t,e,i,s),ma(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Ue(),i=zr(e),a=rr(s,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Br(e,a,i),t!==null&&(Lt(t,e,i,s),ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ue(),s=zr(e),i=rr(r,s);i.tag=2,t!=null&&(i.callback=t),t=Br(e,i,s),t!==null&&(Lt(t,e,s,r),ma(t,e,s))}};function qd(e,t,r,s,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!di(r,s)||!di(i,a):!0}function Gf(e,t,r){var s=!1,i=Hr,a=t.contextType;return typeof a=="object"&&a!==null?a=vt(a):(i=Ze(t)?bn:ze.current,s=t.contextTypes,a=(s=s!=null)?ds(e,i):Hr),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fo,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wd(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function Ql(e,t,r,s){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},hu(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=vt(a):(a=Ze(t)?bn:ze.current,i.context=ds(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Hl(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&fo.enqueueReplaceState(i,i.state,null),Wa(e,r,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ps(e,t){try{var r="",s=t;do r+=jx(s),s=s.return;while(s);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function nl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Yl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Kg=typeof WeakMap=="function"?WeakMap:Map;function Jf(e,t,r){r=rr(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Ya||(Ya=!0,sc=s),Yl(e,t)},r}function Xf(e,t,r){r=rr(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;r.payload=function(){return s(i)},r.callback=function(){Yl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Yl(e,t),typeof s!="function"&&($r===null?$r=new Set([this]):$r.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Vd(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Kg;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(r)||(i.add(r),e=cy.bind(null,e,t,r),t.then(e,e))}function Ud(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hd(e,t,r,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=rr(-1,1),t.tag=2,Br(r,t,1))),r.lanes|=1),e)}var Gg=cr.ReactCurrentOwner,Je=!1;function We(e,t,r,s){t.child=e===null?Cf(t,null,r,s):ms(t,e.child,r,s)}function Qd(e,t,r,s,i){r=r.render;var a=t.ref;return Gn(t,i),s=gu(e,t,r,s,a,i),r=yu(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,or(e,t,i)):(fe&&r&&iu(t),t.flags|=1,We(e,t,s,i),t.child)}function Yd(e,t,r,s,i){if(e===null){var a=r.type;return typeof a=="function"&&!Eu(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Zf(e,t,a,s,i)):(e=va(r.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:di,r(o,s)&&e.ref===t.ref)return or(e,t,i)}return t.flags|=1,e=Ir(a,s),e.ref=t.ref,e.return=t,t.child=e}function Zf(e,t,r,s,i){if(e!==null){var a=e.memoizedProps;if(di(a,s)&&e.ref===t.ref)if(Je=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,or(e,t,i)}return Kl(e,t,r,s,i)}function ep(e,t,r){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Un,at),at|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(Un,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:r,ue(Un,at),at|=s}else a!==null?(s=a.baseLanes|r,t.memoizedState=null):s=r,ue(Un,at),at|=s;return We(e,t,i,r),t.child}function tp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Kl(e,t,r,s,i){var a=Ze(r)?bn:ze.current;return a=ds(t,a),Gn(t,i),r=gu(e,t,r,s,a,i),s=yu(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,or(e,t,i)):(fe&&s&&iu(t),t.flags|=1,We(e,t,r,i),t.child)}function Kd(e,t,r,s,i){if(Ze(r)){var a=!0;Ba(t)}else a=!1;if(Gn(t,i),t.stateNode===null)xa(e,t),Gf(t,r,s),Ql(t,r,s,i),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=vt(u):(u=Ze(r)?bn:ze.current,u=ds(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&Wd(t,o,s,u),yr=!1;var x=t.memoizedState;o.state=x,Wa(t,s,o,i),c=t.memoizedState,l!==s||x!==c||Xe.current||yr?(typeof d=="function"&&(Hl(t,r,d,s),c=t.memoizedState),(l=yr||qd(t,r,l,s,x,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Pf(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Nt(t.type,l),o.props=u,h=t.pendingProps,x=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=vt(c):(c=Ze(r)?bn:ze.current,c=ds(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||x!==c)&&Wd(t,o,s,c),yr=!1,x=t.memoizedState,o.state=x,Wa(t,s,o,i);var g=t.memoizedState;l!==h||x!==g||Xe.current||yr?(typeof y=="function"&&(Hl(t,r,y,s),g=t.memoizedState),(u=yr||qd(t,r,u,s,x,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=g),o.props=s,o.state=g,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),s=!1)}return Gl(e,t,r,s,a,i)}function Gl(e,t,r,s,i,a){tp(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&Md(t,r,!1),or(e,t,a);s=t.stateNode,Gg.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=ms(t,e.child,null,a),t.child=ms(t,null,l,a)):We(e,t,l,a),t.memoizedState=s.state,i&&Md(t,r,!0),t.child}function rp(e){var t=e.stateNode;t.pendingContext?Od(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Od(e,t.context,!1),mu(e,t.containerInfo)}function Gd(e,t,r,s,i){return hs(),ou(i),t.flags|=256,We(e,t,r,s),t.child}var Jl={dehydrated:null,treeContext:null,retryLane:0};function Xl(e){return{baseLanes:e,cachePool:null,transitions:null}}function np(e,t,r){var s=t.pendingProps,i=pe.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ue(pe,i&1),e===null)return Vl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=go(o,s,0,null),e=yn(e,s,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Xl(r),t.memoizedState=Jl,e):wu(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Jg(e,t,o,s,l,i,r);if(a){a=s.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ir(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Ir(l,a):(a=yn(a,o,r,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?Xl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Jl,s}return a=e.child,e=a.sibling,s=Ir(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function wu(e,t){return t=go({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zi(e,t,r,s){return s!==null&&ou(s),ms(t,e.child,null,r),e=wu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jg(e,t,r,s,i,a,o){if(r)return t.flags&256?(t.flags&=-257,s=nl(Error(I(422))),Zi(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=go({mode:"visible",children:s.children},i,0,null),a=yn(a,i,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&ms(t,e.child,null,o),t.child.memoizedState=Xl(o),t.memoizedState=Jl,a);if(!(t.mode&1))return Zi(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(I(419)),s=nl(a,s,void 0),Zi(e,t,o,s)}if(l=(o&e.childLanes)!==0,Je||l){if(s=Re,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ar(e,i),Lt(s,e,i,-1))}return Cu(),s=nl(Error(I(421))),Zi(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=uy.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ot=Dr(i.nextSibling),lt=t,fe=!0,Et=null,e!==null&&(ft[pt++]=er,ft[pt++]=tr,ft[pt++]=wn,er=e.id,tr=e.overflow,wn=t),t=wu(t,s.children),t.flags|=4096,t)}function Jd(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ul(e.return,t,r)}function sl(e,t,r,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=r,a.tailMode=i)}function sp(e,t,r){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(We(e,t,s.children,r),s=pe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jd(e,r,t);else if(e.tag===19)Jd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ue(pe,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Va(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),sl(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Va(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}sl(t,!0,r,null,a);break;case"together":sl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function or(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Nn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=Ir(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ir(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Xg(e,t,r){switch(t.tag){case 3:rp(t),hs();break;case 5:Lf(t);break;case 1:Ze(t.type)&&Ba(t);break;case 4:mu(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;ue(Ia,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ue(pe,pe.current&1),t.flags|=128,null):r&t.child.childLanes?np(e,t,r):(ue(pe,pe.current&1),e=or(e,t,r),e!==null?e.sibling:null);ue(pe,pe.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return sp(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(pe,pe.current),s)break;return null;case 22:case 23:return t.lanes=0,ep(e,t,r)}return or(e,t,r)}var ip,Zl,ap,op;ip=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Zl=function(){};ap=function(e,t,r,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,sn(Wt.current);var a=null;switch(r){case"input":i=wl(e,i),s=wl(e,s),a=[];break;case"select":i=ge({},i,{value:void 0}),s=ge({},s,{value:void 0}),a=[];break;case"textarea":i=_l(e,i),s=_l(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Aa)}Sl(r,s);var o;r=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(si.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(si.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&de("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};op=function(e,t,r,s){r!==s&&(t.flags|=4)};function As(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Zg(e,t,r){var s=t.pendingProps;switch(au(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ze(t.type)&&Da(),Ae(t),null;case 3:return s=t.stateNode,fs(),he(Xe),he(ze),pu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ji(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(oc(Et),Et=null))),Zl(e,t),Ae(t),null;case 5:fu(t);var i=sn(xi.current);if(r=t.type,e!==null&&t.stateNode!=null)ap(e,t,r,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(I(166));return Ae(t),null}if(e=sn(Wt.current),Ji(t)){s=t.stateNode,r=t.type;var a=t.memoizedProps;switch(s[It]=t,s[fi]=a,e=(t.mode&1)!==0,r){case"dialog":de("cancel",s),de("close",s);break;case"iframe":case"object":case"embed":de("load",s);break;case"video":case"audio":for(i=0;i<Hs.length;i++)de(Hs[i],s);break;case"source":de("error",s);break;case"img":case"image":case"link":de("error",s),de("load",s);break;case"details":de("toggle",s);break;case"input":ad(s,a),de("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},de("invalid",s);break;case"textarea":ld(s,a),de("invalid",s)}Sl(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Gi(s.textContent,l,e),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Gi(s.textContent,l,e),i=["children",""+l]):si.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&de("scroll",s)}switch(r){case"input":qi(s),od(s,a,!0);break;case"textarea":qi(s),cd(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Aa)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[It]=t,e[fi]=s,ip(e,t,!1,!1),t.stateNode=e;e:{switch(o=Cl(r,s),r){case"dialog":de("cancel",e),de("close",e),i=s;break;case"iframe":case"object":case"embed":de("load",e),i=s;break;case"video":case"audio":for(i=0;i<Hs.length;i++)de(Hs[i],e);i=s;break;case"source":de("error",e),i=s;break;case"img":case"image":case"link":de("error",e),de("load",e),i=s;break;case"details":de("toggle",e),i=s;break;case"input":ad(e,s),i=wl(e,s),de("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=ge({},s,{value:void 0}),de("invalid",e);break;case"textarea":ld(e,s),i=_l(e,s),de("invalid",e);break;default:i=s}Sl(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Dm(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Fm(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ii(e,c):typeof c=="number"&&ii(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(si.hasOwnProperty(a)?c!=null&&a==="onScroll"&&de("scroll",e):c!=null&&Uc(e,a,c,o))}switch(r){case"input":qi(e),od(e,s,!1);break;case"textarea":qi(e),cd(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ur(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Hn(e,!!s.multiple,a,!1):s.defaultValue!=null&&Hn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Aa)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)op(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(I(166));if(r=sn(xi.current),sn(Wt.current),Ji(t)){if(s=t.stateNode,r=t.memoizedProps,s[It]=t,(a=s.nodeValue!==r)&&(e=lt,e!==null))switch(e.tag){case 3:Gi(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gi(s.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[It]=t,t.stateNode=s}return Ae(t),null;case 13:if(he(pe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&ot!==null&&t.mode&1&&!(t.flags&128))kf(),hs(),t.flags|=98560,a=!1;else if(a=Ji(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(I(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[It]=t}else hs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),a=!1}else Et!==null&&(oc(Et),Et=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Se===0&&(Se=3):Cu())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return fs(),Zl(e,t),e===null&&hi(t.stateNode.containerInfo),Ae(t),null;case 10:return uu(t.type._context),Ae(t),null;case 17:return Ze(t.type)&&Da(),Ae(t),null;case 19:if(he(pe),a=t.memoizedState,a===null)return Ae(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)As(a,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Va(e),o!==null){for(t.flags|=128,As(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)a=r,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ue(pe,pe.current&1|2),t.child}e=e.sibling}a.tail!==null&&be()>xs&&(t.flags|=128,s=!0,As(a,!1),t.lanes=4194304)}else{if(!s)if(e=Va(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),As(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!fe)return Ae(t),null}else 2*be()-a.renderingStartTime>xs&&r!==1073741824&&(t.flags|=128,s=!0,As(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=be(),t.sibling=null,r=pe.current,ue(pe,s?r&1|2:r&1),t):(Ae(t),null);case 22:case 23:return Su(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?at&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function ey(e,t){switch(au(t),t.tag){case 1:return Ze(t.type)&&Da(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fs(),he(Xe),he(ze),pu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fu(t),null;case 13:if(he(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));hs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(pe),null;case 4:return fs(),null;case 10:return uu(t.type._context),null;case 22:case 23:return Su(),null;case 24:return null;default:return null}}var ea=!1,De=!1,ty=typeof WeakSet=="function"?WeakSet:Set,U=null;function Vn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){ve(e,t,s)}else r.current=null}function ec(e,t,r){try{r()}catch(s){ve(e,t,s)}}var Xd=!1;function ry(e,t){if(Dl=Oa,e=hf(),su(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,x=null;t:for(;;){for(var y;h!==r||i!==0&&h.nodeType!==3||(l=o+i),h!==a||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)x=h,h=y;for(;;){if(h===e)break t;if(x===r&&++u===i&&(l=o),x===a&&++d===s&&(c=o),(y=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bl={focusedElem:e,selectionRange:r},Oa=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,k=g.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?b:Nt(t.type,b),k);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(N){ve(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return g=Xd,Xd=!1,g}function ti(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&ec(t,r,a)}i=i.next}while(i!==s)}}function po(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function tc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lp(e){var t=e.alternate;t!==null&&(e.alternate=null,lp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[fi],delete t[Il],delete t[Bg],delete t[$g])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cp(e){return e.tag===5||e.tag===3||e.tag===4}function Zd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rc(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Aa));else if(s!==4&&(e=e.child,e!==null))for(rc(e,t,r),e=e.sibling;e!==null;)rc(e,t,r),e=e.sibling}function nc(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(nc(e,t,r),e=e.sibling;e!==null;)nc(e,t,r),e=e.sibling}var Te=null,St=!1;function fr(e,t,r){for(r=r.child;r!==null;)up(e,t,r),r=r.sibling}function up(e,t,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(ao,r)}catch{}switch(r.tag){case 5:De||Vn(r,t);case 6:var s=Te,i=St;Te=null,fr(e,t,r),Te=s,St=i,Te!==null&&(St?(e=Te,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Te.removeChild(r.stateNode));break;case 18:Te!==null&&(St?(e=Te,r=r.stateNode,e.nodeType===8?Jo(e.parentNode,r):e.nodeType===1&&Jo(e,r),ci(e)):Jo(Te,r.stateNode));break;case 4:s=Te,i=St,Te=r.stateNode.containerInfo,St=!0,fr(e,t,r),Te=s,St=i;break;case 0:case 11:case 14:case 15:if(!De&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&ec(r,t,o),i=i.next}while(i!==s)}fr(e,t,r);break;case 1:if(!De&&(Vn(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){ve(r,t,l)}fr(e,t,r);break;case 21:fr(e,t,r);break;case 22:r.mode&1?(De=(s=De)||r.memoizedState!==null,fr(e,t,r),De=s):fr(e,t,r);break;default:fr(e,t,r)}}function eh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ty),t.forEach(function(s){var i=dy.bind(null,e,s);r.has(s)||(r.add(s),s.then(i,i))})}}function jt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var i=r[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Te=l.stateNode,St=!1;break e;case 3:Te=l.stateNode.containerInfo,St=!0;break e;case 4:Te=l.stateNode.containerInfo,St=!0;break e}l=l.return}if(Te===null)throw Error(I(160));up(a,o,i),Te=null,St=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ve(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dp(t,e),t=t.sibling}function dp(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),Mt(e),s&4){try{ti(3,e,e.return),po(3,e)}catch(b){ve(e,e.return,b)}try{ti(5,e,e.return)}catch(b){ve(e,e.return,b)}}break;case 1:jt(t,e),Mt(e),s&512&&r!==null&&Vn(r,r.return);break;case 5:if(jt(t,e),Mt(e),s&512&&r!==null&&Vn(r,r.return),e.flags&32){var i=e.stateNode;try{ii(i,"")}catch(b){ve(e,e.return,b)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Tm(i,a),Cl(l,o);var u=Cl(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Dm(i,h):d==="dangerouslySetInnerHTML"?Fm(i,h):d==="children"?ii(i,h):Uc(i,d,h,u)}switch(l){case"input":jl(i,a);break;case"textarea":Om(i,a);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?Hn(i,!!a.multiple,y,!1):x!==!!a.multiple&&(a.defaultValue!=null?Hn(i,!!a.multiple,a.defaultValue,!0):Hn(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(b){ve(e,e.return,b)}}break;case 6:if(jt(t,e),Mt(e),s&4){if(e.stateNode===null)throw Error(I(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(b){ve(e,e.return,b)}}break;case 3:if(jt(t,e),Mt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{ci(t.containerInfo)}catch(b){ve(e,e.return,b)}break;case 4:jt(t,e),Mt(e);break;case 13:jt(t,e),Mt(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(_u=be())),s&4&&eh(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(De=(u=De)||d,jt(t,e),De=u):jt(t,e),Mt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(U=e,d=e.child;d!==null;){for(h=U=d;U!==null;){switch(x=U,y=x.child,x.tag){case 0:case 11:case 14:case 15:ti(4,x,x.return);break;case 1:Vn(x,x.return);var g=x.stateNode;if(typeof g.componentWillUnmount=="function"){s=x,r=x.return;try{t=s,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(b){ve(s,r,b)}}break;case 5:Vn(x,x.return);break;case 22:if(x.memoizedState!==null){rh(h);continue}}y!==null?(y.return=x,U=y):rh(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Am("display",o))}catch(b){ve(e,e.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){ve(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jt(t,e),Mt(e),s&4&&eh(e);break;case 21:break;default:jt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(cp(r)){var s=r;break e}r=r.return}throw Error(I(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(ii(i,""),s.flags&=-33);var a=Zd(e);nc(e,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Zd(e);rc(e,l,o);break;default:throw Error(I(161))}}catch(c){ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ny(e,t,r){U=e,hp(e)}function hp(e,t,r){for(var s=(e.mode&1)!==0;U!==null;){var i=U,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||ea;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||De;l=ea;var u=De;if(ea=o,(De=c)&&!u)for(U=i;U!==null;)o=U,c=o.child,o.tag===22&&o.memoizedState!==null?nh(i):c!==null?(c.return=o,U=c):nh(i);for(;a!==null;)U=a,hp(a),a=a.sibling;U=i,ea=l,De=u}th(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,U=a):th(e)}}function th(e){for(;U!==null;){var t=U;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||po(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!De)if(r===null)s.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Nt(t.type,r.memoizedProps);s.componentDidUpdate(i,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&$d(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$d(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ci(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}De||t.flags&512&&tc(t)}catch(x){ve(t,t.return,x)}}if(t===e){U=null;break}if(r=t.sibling,r!==null){r.return=t.return,U=r;break}U=t.return}}function rh(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var r=t.sibling;if(r!==null){r.return=t.return,U=r;break}U=t.return}}function nh(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{po(4,t)}catch(c){ve(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(c){ve(t,i,c)}}var a=t.return;try{tc(t)}catch(c){ve(t,a,c)}break;case 5:var o=t.return;try{tc(t)}catch(c){ve(t,o,c)}}}catch(c){ve(t,t.return,c)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var sy=Math.ceil,Qa=cr.ReactCurrentDispatcher,ju=cr.ReactCurrentOwner,yt=cr.ReactCurrentBatchConfig,ne=0,Re=null,je=null,Oe=0,at=0,Un=Yr(0),Se=0,bi=null,Nn=0,xo=0,Nu=0,ri=null,Ge=null,_u=0,xs=1/0,Yt=null,Ya=!1,sc=null,$r=null,ta=!1,Tr=null,Ka=0,ni=0,ic=null,ga=-1,ya=0;function Ue(){return ne&6?be():ga!==-1?ga:ga=be()}function zr(e){return e.mode&1?ne&2&&Oe!==0?Oe&-Oe:Ig.transition!==null?(ya===0&&(ya=Km()),ya):(e=oe,e!==0||(e=window.event,e=e===void 0?16:rf(e.type)),e):1}function Lt(e,t,r,s){if(50<ni)throw ni=0,ic=null,Error(I(185));Ri(e,r,s),(!(ne&2)||e!==Re)&&(e===Re&&(!(ne&2)&&(xo|=r),Se===4&&wr(e,Oe)),et(e,s),r===1&&ne===0&&!(t.mode&1)&&(xs=be()+500,ho&&Kr()))}function et(e,t){var r=e.callbackNode;Ix(e,t);var s=Ta(e,e===Re?Oe:0);if(s===0)r!==null&&hd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&hd(r),t===1)e.tag===0?zg(sh.bind(null,e)):jf(sh.bind(null,e)),Ag(function(){!(ne&6)&&Kr()}),r=null;else{switch(Gm(s)){case 1:r=Gc;break;case 4:r=Qm;break;case 16:r=Ra;break;case 536870912:r=Ym;break;default:r=Ra}r=bp(r,mp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function mp(e,t){if(ga=-1,ya=0,ne&6)throw Error(I(327));var r=e.callbackNode;if(Jn()&&e.callbackNode!==r)return null;var s=Ta(e,e===Re?Oe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ga(e,s);else{t=s;var i=ne;ne|=2;var a=pp();(Re!==e||Oe!==t)&&(Yt=null,xs=be()+500,gn(e,t));do try{oy();break}catch(l){fp(e,l)}while(!0);cu(),Qa.current=a,ne=i,je!==null?t=0:(Re=null,Oe=0,t=Se)}if(t!==0){if(t===2&&(i=Tl(e),i!==0&&(s=i,t=ac(e,i))),t===1)throw r=bi,gn(e,0),wr(e,s),et(e,be()),r;if(t===6)wr(e,s);else{if(i=e.current.alternate,!(s&30)&&!iy(i)&&(t=Ga(e,s),t===2&&(a=Tl(e),a!==0&&(s=a,t=ac(e,a))),t===1))throw r=bi,gn(e,0),wr(e,s),et(e,be()),r;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(I(345));case 2:Zr(e,Ge,Yt);break;case 3:if(wr(e,s),(s&130023424)===s&&(t=_u+500-be(),10<t)){if(Ta(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){Ue(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zl(Zr.bind(null,e,Ge,Yt),t);break}Zr(e,Ge,Yt);break;case 4:if(wr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-Pt(s);a=1<<o,o=t[o],o>i&&(i=o),s&=~a}if(s=i,s=be()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*sy(s/1960))-s,10<s){e.timeoutHandle=zl(Zr.bind(null,e,Ge,Yt),s);break}Zr(e,Ge,Yt);break;case 5:Zr(e,Ge,Yt);break;default:throw Error(I(329))}}}return et(e,be()),e.callbackNode===r?mp.bind(null,e):null}function ac(e,t){var r=ri;return e.current.memoizedState.isDehydrated&&(gn(e,t).flags|=256),e=Ga(e,t),e!==2&&(t=Ge,Ge=r,t!==null&&oc(t)),e}function oc(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function iy(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var i=r[s],a=i.getSnapshot;i=i.value;try{if(!Rt(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wr(e,t){for(t&=~Nu,t&=~xo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pt(t),s=1<<r;e[r]=-1,t&=~s}}function sh(e){if(ne&6)throw Error(I(327));Jn();var t=Ta(e,0);if(!(t&1))return et(e,be()),null;var r=Ga(e,t);if(e.tag!==0&&r===2){var s=Tl(e);s!==0&&(t=s,r=ac(e,s))}if(r===1)throw r=bi,gn(e,0),wr(e,t),et(e,be()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zr(e,Ge,Yt),et(e,be()),null}function ku(e,t){var r=ne;ne|=1;try{return e(t)}finally{ne=r,ne===0&&(xs=be()+500,ho&&Kr())}}function _n(e){Tr!==null&&Tr.tag===0&&!(ne&6)&&Jn();var t=ne;ne|=1;var r=yt.transition,s=oe;try{if(yt.transition=null,oe=1,e)return e()}finally{oe=s,yt.transition=r,ne=t,!(ne&6)&&Kr()}}function Su(){at=Un.current,he(Un)}function gn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Fg(r)),je!==null)for(r=je.return;r!==null;){var s=r;switch(au(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Da();break;case 3:fs(),he(Xe),he(ze),pu();break;case 5:fu(s);break;case 4:fs();break;case 13:he(pe);break;case 19:he(pe);break;case 10:uu(s.type._context);break;case 22:case 23:Su()}r=r.return}if(Re=e,je=e=Ir(e.current,null),Oe=at=t,Se=0,bi=null,Nu=xo=Nn=0,Ge=ri=null,nn!==null){for(t=0;t<nn.length;t++)if(r=nn[t],s=r.interleaved,s!==null){r.interleaved=null;var i=s.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}r.pending=s}nn=null}return e}function fp(e,t){do{var r=je;try{if(cu(),fa.current=Ha,Ua){for(var s=xe.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Ua=!1}if(jn=0,Le=_e=xe=null,ei=!1,gi=0,ju.current=null,r===null||r.return===null){Se=1,bi=t,je=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Oe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var x=d.alternate;x?(d.updateQueue=x.updateQueue,d.memoizedState=x.memoizedState,d.lanes=x.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Ud(o);if(y!==null){y.flags&=-257,Hd(y,o,l,a,t),y.mode&1&&Vd(a,u,t),t=y,c=u;var g=t.updateQueue;if(g===null){var b=new Set;b.add(c),t.updateQueue=b}else g.add(c);break e}else{if(!(t&1)){Vd(a,u,t),Cu();break e}c=Error(I(426))}}else if(fe&&l.mode&1){var k=Ud(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Hd(k,o,l,a,t),ou(ps(c,l));break e}}a=c=ps(c,l),Se!==4&&(Se=2),ri===null?ri=[a]:ri.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=Jf(a,c,t);Bd(a,p);break e;case 1:l=c;var m=a.type,f=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($r===null||!$r.has(f)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=Xf(a,l,t);Bd(a,N);break e}}a=a.return}while(a!==null)}gp(r)}catch(E){t=E,je===r&&r!==null&&(je=r=r.return);continue}break}while(!0)}function pp(){var e=Qa.current;return Qa.current=Ha,e===null?Ha:e}function Cu(){(Se===0||Se===3||Se===2)&&(Se=4),Re===null||!(Nn&268435455)&&!(xo&268435455)||wr(Re,Oe)}function Ga(e,t){var r=ne;ne|=2;var s=pp();(Re!==e||Oe!==t)&&(Yt=null,gn(e,t));do try{ay();break}catch(i){fp(e,i)}while(!0);if(cu(),ne=r,Qa.current=s,je!==null)throw Error(I(261));return Re=null,Oe=0,Se}function ay(){for(;je!==null;)xp(je)}function oy(){for(;je!==null&&!Tx();)xp(je)}function xp(e){var t=vp(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?gp(e):je=t,ju.current=null}function gp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ey(r,t),r!==null){r.flags&=32767,je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,je=null;return}}else if(r=Zg(r,t,at),r!==null){je=r;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Se===0&&(Se=5)}function Zr(e,t,r){var s=oe,i=yt.transition;try{yt.transition=null,oe=1,ly(e,t,r,s)}finally{yt.transition=i,oe=s}return null}function ly(e,t,r,s){do Jn();while(Tr!==null);if(ne&6)throw Error(I(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(qx(e,a),e===Re&&(je=Re=null,Oe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ta||(ta=!0,bp(Ra,function(){return Jn(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=yt.transition,yt.transition=null;var o=oe;oe=1;var l=ne;ne|=4,ju.current=null,ry(e,r),dp(r,e),Eg(Bl),Oa=!!Dl,Bl=Dl=null,e.current=r,ny(r),Ox(),ne=l,oe=o,yt.transition=a}else e.current=r;if(ta&&(ta=!1,Tr=e,Ka=i),a=e.pendingLanes,a===0&&($r=null),Ax(r.stateNode),et(e,be()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],s(i.value,{componentStack:i.stack,digest:i.digest});if(Ya)throw Ya=!1,e=sc,sc=null,e;return Ka&1&&e.tag!==0&&Jn(),a=e.pendingLanes,a&1?e===ic?ni++:(ni=0,ic=e):ni=0,Kr(),null}function Jn(){if(Tr!==null){var e=Gm(Ka),t=yt.transition,r=oe;try{if(yt.transition=null,oe=16>e?16:e,Tr===null)var s=!1;else{if(e=Tr,Tr=null,Ka=0,ne&6)throw Error(I(331));var i=ne;for(ne|=4,U=e.current;U!==null;){var a=U,o=a.child;if(U.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(U=u;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:ti(8,d,a)}var h=d.child;if(h!==null)h.return=d,U=h;else for(;U!==null;){d=U;var x=d.sibling,y=d.return;if(lp(d),d===u){U=null;break}if(x!==null){x.return=y,U=x;break}U=y}}}var g=a.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var k=b.sibling;b.sibling=null,b=k}while(b!==null)}}U=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,U=o;else e:for(;U!==null;){if(a=U,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ti(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,U=p;break e}U=a.return}}var m=e.current;for(U=m;U!==null;){o=U;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,U=f;else e:for(o=m;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:po(9,l)}}catch(E){ve(l,l.return,E)}if(l===o){U=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,U=N;break e}U=l.return}}if(ne=i,Kr(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(ao,e)}catch{}s=!0}return s}finally{oe=r,yt.transition=t}}return!1}function ih(e,t,r){t=ps(r,t),t=Jf(e,t,1),e=Br(e,t,1),t=Ue(),e!==null&&(Ri(e,1,t),et(e,t))}function ve(e,t,r){if(e.tag===3)ih(e,e,r);else for(;t!==null;){if(t.tag===3){ih(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&($r===null||!$r.has(s))){e=ps(r,e),e=Xf(t,e,1),t=Br(t,e,1),e=Ue(),t!==null&&(Ri(t,1,e),et(t,e));break}}t=t.return}}function cy(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&r,Re===e&&(Oe&r)===r&&(Se===4||Se===3&&(Oe&130023424)===Oe&&500>be()-_u?gn(e,0):Nu|=r),et(e,t)}function yp(e,t){t===0&&(e.mode&1?(t=Ui,Ui<<=1,!(Ui&130023424)&&(Ui=4194304)):t=1);var r=Ue();e=ar(e,t),e!==null&&(Ri(e,t,r),et(e,r))}function uy(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yp(e,r)}function dy(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(I(314))}s!==null&&s.delete(t),yp(e,r)}var vp;vp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Je=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Je=!1,Xg(e,t,r);Je=!!(e.flags&131072)}else Je=!1,fe&&t.flags&1048576&&Nf(t,za,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;xa(e,t),e=t.pendingProps;var i=ds(t,ze.current);Gn(t,r),i=gu(null,t,s,e,i,r);var a=yu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(s)?(a=!0,Ba(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hu(t),i.updater=fo,t.stateNode=i,i._reactInternals=t,Ql(t,s,e,r),t=Gl(null,t,s,!0,a,r)):(t.tag=0,fe&&a&&iu(t),We(null,t,i,r),t=t.child),t;case 16:s=t.elementType;e:{switch(xa(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=my(s),e=Nt(s,e),i){case 0:t=Kl(null,t,s,e,r);break e;case 1:t=Kd(null,t,s,e,r);break e;case 11:t=Qd(null,t,s,e,r);break e;case 14:t=Yd(null,t,s,Nt(s.type,e),r);break e}throw Error(I(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Nt(s,i),Kl(e,t,s,i,r);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Nt(s,i),Kd(e,t,s,i,r);case 3:e:{if(rp(t),e===null)throw Error(I(387));s=t.pendingProps,a=t.memoizedState,i=a.element,Pf(e,t),Wa(t,s,null,r);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ps(Error(I(423)),t),t=Gd(e,t,s,r,i);break e}else if(s!==i){i=ps(Error(I(424)),t),t=Gd(e,t,s,r,i);break e}else for(ot=Dr(t.stateNode.containerInfo.firstChild),lt=t,fe=!0,Et=null,r=Cf(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hs(),s===i){t=or(e,t,r);break e}We(e,t,s,r)}t=t.child}return t;case 5:return Lf(t),e===null&&Vl(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,$l(s,i)?o=null:a!==null&&$l(s,a)&&(t.flags|=32),tp(e,t),We(e,t,o,r),t.child;case 6:return e===null&&Vl(t),null;case 13:return np(e,t,r);case 4:return mu(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ms(t,null,s,r):We(e,t,s,r),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Nt(s,i),Qd(e,t,s,i,r);case 7:return We(e,t,t.pendingProps,r),t.child;case 8:return We(e,t,t.pendingProps.children,r),t.child;case 12:return We(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ue(Ia,s._currentValue),s._currentValue=o,a!==null)if(Rt(a.value,o)){if(a.children===i.children&&!Xe.current){t=or(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=rr(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Ul(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(I(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ul(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}We(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Gn(t,r),i=vt(i),s=s(i),t.flags|=1,We(e,t,s,r),t.child;case 14:return s=t.type,i=Nt(s,t.pendingProps),i=Nt(s.type,i),Yd(e,t,s,i,r);case 15:return Zf(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Nt(s,i),xa(e,t),t.tag=1,Ze(s)?(e=!0,Ba(t)):e=!1,Gn(t,r),Gf(t,s,i),Ql(t,s,i,r),Gl(null,t,s,!0,e,r);case 19:return sp(e,t,r);case 22:return ep(e,t,r)}throw Error(I(156,t.tag))};function bp(e,t){return Hm(e,t)}function hy(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,r,s){return new hy(e,t,r,s)}function Eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function my(e){if(typeof e=="function")return Eu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qc)return 11;if(e===Yc)return 14}return 2}function Ir(e,t){var r=e.alternate;return r===null?(r=gt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function va(e,t,r,s,i,a){var o=2;if(s=e,typeof e=="function")Eu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fn:return yn(r.children,i,a,t);case Hc:o=8,i|=8;break;case gl:return e=gt(12,r,t,i|2),e.elementType=gl,e.lanes=a,e;case yl:return e=gt(13,r,t,i),e.elementType=yl,e.lanes=a,e;case vl:return e=gt(19,r,t,i),e.elementType=vl,e.lanes=a,e;case Pm:return go(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cm:o=10;break e;case Em:o=9;break e;case Qc:o=11;break e;case Yc:o=14;break e;case gr:o=16,s=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=gt(o,r,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function yn(e,t,r,s){return e=gt(7,e,s,t),e.lanes=r,e}function go(e,t,r,s){return e=gt(22,e,s,t),e.elementType=Pm,e.lanes=r,e.stateNode={isHidden:!1},e}function il(e,t,r){return e=gt(6,e,null,t),e.lanes=r,e}function al(e,t,r){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fy(e,t,r,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zo(0),this.expirationTimes=zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zo(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pu(e,t,r,s,i,a,o,l,c){return e=new fy(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=gt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hu(a),e}function py(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function wp(e){if(!e)return Hr;e=e._reactInternals;e:{if(Pn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(Ze(r))return wf(e,r,t)}return t}function jp(e,t,r,s,i,a,o,l,c){return e=Pu(r,s,!0,e,i,a,o,l,c),e.context=wp(null),r=e.current,s=Ue(),i=zr(r),a=rr(s,i),a.callback=t??null,Br(r,a,i),e.current.lanes=i,Ri(e,i,s),et(e,s),e}function yo(e,t,r,s){var i=t.current,a=Ue(),o=zr(i);return r=wp(r),t.context===null?t.context=r:t.pendingContext=r,t=rr(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Br(i,t,o),e!==null&&(Lt(e,i,o,a),ma(e,i,o)),o}function Ja(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ah(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Lu(e,t){ah(e,t),(e=e.alternate)&&ah(e,t)}function xy(){return null}var Np=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ru(e){this._internalRoot=e}vo.prototype.render=Ru.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));yo(e,t,null,null)};vo.prototype.unmount=Ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_n(function(){yo(null,e,null,null)}),t[ir]=null}};function vo(e){this._internalRoot=e}vo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zm();e={blockedOn:null,target:e,priority:t};for(var r=0;r<br.length&&t!==0&&t<br[r].priority;r++);br.splice(r,0,e),r===0&&tf(e)}};function Tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function oh(){}function gy(e,t,r,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var u=Ja(o);a.call(u)}}var o=jp(t,s,e,0,null,!1,!1,"",oh);return e._reactRootContainer=o,e[ir]=o.current,hi(e.nodeType===8?e.parentNode:e),_n(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var u=Ja(c);l.call(u)}}var c=Pu(e,0,!1,null,null,!1,!1,"",oh);return e._reactRootContainer=c,e[ir]=c.current,hi(e.nodeType===8?e.parentNode:e),_n(function(){yo(t,c,r,s)}),c}function wo(e,t,r,s,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Ja(o);l.call(c)}}yo(t,o,e,i)}else o=gy(r,t,e,i,s);return Ja(o)}Jm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Us(t.pendingLanes);r!==0&&(Jc(t,r|1),et(t,be()),!(ne&6)&&(xs=be()+500,Kr()))}break;case 13:_n(function(){var s=ar(e,1);if(s!==null){var i=Ue();Lt(s,e,1,i)}}),Lu(e,1)}};Xc=function(e){if(e.tag===13){var t=ar(e,134217728);if(t!==null){var r=Ue();Lt(t,e,134217728,r)}Lu(e,134217728)}};Xm=function(e){if(e.tag===13){var t=zr(e),r=ar(e,t);if(r!==null){var s=Ue();Lt(r,e,t,s)}Lu(e,t)}};Zm=function(){return oe};ef=function(e,t){var r=oe;try{return oe=e,t()}finally{oe=r}};Pl=function(e,t,r){switch(t){case"input":if(jl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var i=uo(s);if(!i)throw Error(I(90));Rm(s),jl(s,i)}}}break;case"textarea":Om(e,r);break;case"select":t=r.value,t!=null&&Hn(e,!!r.multiple,t,!1)}};zm=ku;Im=_n;var yy={usingClientEntryPoint:!1,Events:[Oi,$n,uo,Bm,$m,ku]},Ds={findFiberByHostInstance:rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vy={bundleType:Ds.bundleType,version:Ds.version,rendererPackageName:Ds.rendererPackageName,rendererConfig:Ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vm(e),e===null?null:e.stateNode},findFiberByHostInstance:Ds.findFiberByHostInstance||xy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ra.isDisabled&&ra.supportsFiber)try{ao=ra.inject(vy),qt=ra}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yy;ut.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tu(t))throw Error(I(200));return py(e,t,null,r)};ut.createRoot=function(e,t){if(!Tu(e))throw Error(I(299));var r=!1,s="",i=Np;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Pu(e,1,!1,null,null,r,!1,s,i),e[ir]=t.current,hi(e.nodeType===8?e.parentNode:e),new Ru(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Vm(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return _n(e)};ut.hydrate=function(e,t,r){if(!bo(t))throw Error(I(200));return wo(null,e,t,!0,r)};ut.hydrateRoot=function(e,t,r){if(!Tu(e))throw Error(I(405));var s=r!=null&&r.hydratedSources||null,i=!1,a="",o=Np;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=jp(t,null,e,1,r??null,i,!1,a,o),e[ir]=t.current,hi(e),s)for(e=0;e<s.length;e++)r=s[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new vo(t)};ut.render=function(e,t,r){if(!bo(t))throw Error(I(200));return wo(null,e,t,!1,r)};ut.unmountComponentAtNode=function(e){if(!bo(e))throw Error(I(40));return e._reactRootContainer?(_n(function(){wo(null,null,e,!1,function(){e._reactRootContainer=null,e[ir]=null})}),!0):!1};ut.unstable_batchedUpdates=ku;ut.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!bo(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return wo(e,t,r,!1,s)};ut.version="18.3.1-next-f1338f8080-20240426";function _p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_p)}catch(e){console.error(e)}}_p(),Nm.exports=ut;var by=Nm.exports,kp,lh=by;kp=lh.createRoot,lh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},wi.apply(this,arguments)}var Or;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Or||(Or={}));const ch="popstate";function wy(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:o,hash:l}=s.location;return lc("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){return typeof i=="string"?i:Xa(i)}return Ny(t,r,null,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jy(){return Math.random().toString(36).substr(2,8)}function uh(e,t){return{usr:e.state,key:e.key,idx:t}}function lc(e,t,r,s){return r===void 0&&(r=null),wi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ws(t):t,{state:r,key:t&&t.key||s||jy()})}function Xa(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function ws(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Ny(e,t,r,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=Or.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(wi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Or.Pop;let k=d(),p=k==null?null:k-u;u=k,c&&c({action:l,location:b.location,delta:p})}function x(k,p){l=Or.Push;let m=lc(b.location,k,p);u=d()+1;let f=uh(m,u),N=b.createHref(m);try{o.pushState(f,"",N)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(N)}a&&c&&c({action:l,location:b.location,delta:1})}function y(k,p){l=Or.Replace;let m=lc(b.location,k,p);u=d();let f=uh(m,u),N=b.createHref(m);o.replaceState(f,"",N),a&&c&&c({action:l,location:b.location,delta:0})}function g(k){let p=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof k=="string"?k:Xa(k);return m=m.replace(/ $/,"%20"),we(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let b={get action(){return l},get location(){return e(i,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ch,h),c=k,()=>{i.removeEventListener(ch,h),c=null}},createHref(k){return t(i,k)},createURL:g,encodeLocation(k){let p=g(k);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:x,replace:y,go(k){return o.go(k)}};return b}var dh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dh||(dh={}));function _y(e,t,r){return r===void 0&&(r="/"),ky(e,t,r)}function ky(e,t,r,s){let i=typeof t=="string"?ws(t):t,a=Ou(i.pathname||"/",r);if(a==null)return null;let o=Cp(e);Sy(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=By(a);l=Fy(o[c],u)}return l}function Cp(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(we(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=qr([s,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(we(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Cp(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Oy(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of Ep(a.path))i(a,o,c)}),t}function Ep(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=Ep(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Sy(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:My(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const Cy=/^:[\w-]+$/,Ey=3,Py=2,Ly=1,Ry=10,Ty=-2,hh=e=>e==="*";function Oy(e,t){let r=e.split("/"),s=r.length;return r.some(hh)&&(s+=Ty),t&&(s+=Py),r.filter(i=>!hh(i)).reduce((i,a)=>i+(Cy.test(a)?Ey:a===""?Ly:Ry),s)}function My(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function Fy(e,t,r){let{routesMeta:s}=e,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=Ay({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),x=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:qr([a,h.pathname]),pathnameBase:qy(qr([a,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(a=qr([a,h.pathnameBase]))}return o}function Ay(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=Dy(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:x,isOptional:y}=d;if(x==="*"){let b=l[h]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const g=l[h];return y&&!g?u[x]=void 0:u[x]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Dy(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Sp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function By(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ou(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function $y(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:i=""}=typeof e=="string"?ws(e):e;return{pathname:r?r.startsWith("/")?r:zy(r,t):t,search:Wy(s),hash:Vy(i)}}function zy(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ol(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Iy(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Mu(e,t){let r=Iy(e);return t?r.map((s,i)=>i===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Fu(e,t,r,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=ws(e):(i=wi({},e),we(!i.pathname||!i.pathname.includes("?"),ol("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),ol("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),ol("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!s&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),h-=1;i.pathname=x.join("/")}l=h>=0?t[h]:"/"}let c=$y(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const qr=e=>e.join("/").replace(/\/\/+/g,"/"),qy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Wy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Vy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Uy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Pp=["post","put","patch","delete"];new Set(Pp);const Hy=["get",...Pp];new Set(Hy);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ji.apply(this,arguments)}const Au=C.createContext(null),Qy=C.createContext(null),Gr=C.createContext(null),jo=C.createContext(null),ur=C.createContext({outlet:null,matches:[],isDataRoute:!1}),Lp=C.createContext(null);function Yy(e,t){let{relative:r}=t===void 0?{}:t;js()||we(!1);let{basename:s,navigator:i}=C.useContext(Gr),{hash:a,pathname:o,search:l}=Tp(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:qr([s,o])),i.createHref({pathname:c,search:l,hash:a})}function js(){return C.useContext(jo)!=null}function Ln(){return js()||we(!1),C.useContext(jo).location}function Rp(e){C.useContext(Gr).static||C.useLayoutEffect(e)}function dr(){let{isDataRoute:e}=C.useContext(ur);return e?ov():Ky()}function Ky(){js()||we(!1);let e=C.useContext(Au),{basename:t,future:r,navigator:s}=C.useContext(Gr),{matches:i}=C.useContext(ur),{pathname:a}=Ln(),o=JSON.stringify(Mu(i,r.v7_relativeSplatPath)),l=C.useRef(!1);return Rp(()=>{l.current=!0}),C.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let h=Fu(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:qr([t,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[t,s,o,a,e])}function Du(){let{matches:e}=C.useContext(ur),t=e[e.length-1];return t?t.params:{}}function Tp(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=C.useContext(Gr),{matches:i}=C.useContext(ur),{pathname:a}=Ln(),o=JSON.stringify(Mu(i,s.v7_relativeSplatPath));return C.useMemo(()=>Fu(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function Gy(e,t){return Jy(e,t)}function Jy(e,t,r,s){js()||we(!1);let{navigator:i}=C.useContext(Gr),{matches:a}=C.useContext(ur),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ln(),d;if(t){var h;let k=typeof t=="string"?ws(t):t;c==="/"||(h=k.pathname)!=null&&h.startsWith(c)||we(!1),d=k}else d=u;let x=d.pathname||"/",y=x;if(c!=="/"){let k=c.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let g=_y(e,{pathname:y}),b=rv(g&&g.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:qr([c,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:qr([c,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,r,s);return t&&b?C.createElement(jo.Provider,{value:{location:ji({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Or.Pop}},b):b}function Xy(){let e=av(),t=Uy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:i},r):null,null)}const Zy=C.createElement(Xy,null);class ev extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?C.createElement(ur.Provider,{value:this.props.routeContext},C.createElement(Lp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tv(e){let{routeContext:t,match:r,children:s}=e,i=C.useContext(Au);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(ur.Provider,{value:t},s)}function rv(e,t,r,s){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||we(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:x,errors:y}=r,g=h.route.loader&&x[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,x)=>{let y,g=!1,b=null,k=null;r&&(y=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||Zy,c&&(u<0&&x===0?(lv("route-fallback"),g=!0,k=null):u===x&&(g=!0,k=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,x+1)),m=()=>{let f;return y?f=b:g?f=k:h.route.Component?f=C.createElement(h.route.Component,null):h.route.element?f=h.route.element:f=d,C.createElement(tv,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:f})};return r&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?C.createElement(ev,{location:r.location,revalidation:r.revalidation,component:b,error:y,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var Op=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Op||{}),Mp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Mp||{});function nv(e){let t=C.useContext(Au);return t||we(!1),t}function sv(e){let t=C.useContext(Qy);return t||we(!1),t}function iv(e){let t=C.useContext(ur);return t||we(!1),t}function Fp(e){let t=iv(),r=t.matches[t.matches.length-1];return r.route.id||we(!1),r.route.id}function av(){var e;let t=C.useContext(Lp),r=sv(),s=Fp();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function ov(){let{router:e}=nv(Op.UseNavigateStable),t=Fp(Mp.UseNavigateStable),r=C.useRef(!1);return Rp(()=>{r.current=!0}),C.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ji({fromRouteId:t},a)))},[e,t])}const mh={};function lv(e,t,r){mh[e]||(mh[e]=!0)}function cv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function uv(e){let{to:t,replace:r,state:s,relative:i}=e;js()||we(!1);let{future:a,static:o}=C.useContext(Gr),{matches:l}=C.useContext(ur),{pathname:c}=Ln(),u=dr(),d=Fu(t,Mu(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return C.useEffect(()=>u(JSON.parse(h),{replace:r,state:s,relative:i}),[u,h,i,r,s]),null}function Ee(e){we(!1)}function dv(e){let{basename:t="/",children:r=null,location:s,navigationType:i=Or.Pop,navigator:a,static:o=!1,future:l}=e;js()&&we(!1);let c=t.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:a,static:o,future:ji({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=ws(s));let{pathname:d="/",search:h="",hash:x="",state:y=null,key:g="default"}=s,b=C.useMemo(()=>{let k=Ou(d,c);return k==null?null:{location:{pathname:k,search:h,hash:x,state:y,key:g},navigationType:i}},[c,d,h,x,y,g,i]);return b==null?null:C.createElement(Gr.Provider,{value:u},C.createElement(jo.Provider,{children:r,value:b}))}function hv(e){let{children:t,location:r}=e;return Gy(cc(t),r)}new Promise(()=>{});function cc(e,t){t===void 0&&(t=[]);let r=[];return C.Children.forEach(e,(s,i)=>{if(!C.isValidElement(s))return;let a=[...t,i];if(s.type===C.Fragment){r.push.apply(r,cc(s.props.children,a));return}s.type!==Ee&&we(!1),!s.props.index||!s.props.children||we(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=cc(s.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},uc.apply(this,arguments)}function mv(e,t){if(e==null)return{};var r={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function fv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pv(e,t){return e.button===0&&(!t||t==="_self")&&!fv(e)}function dc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(i=>[r,i]):[[r,s]])},[]))}function xv(e,t){let r=dc(e);return t&&t.forEach((s,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const gv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yv="6";try{window.__reactRouterVersion=yv}catch{}const vv="startTransition",fh=cx[vv];function bv(e){let{basename:t,children:r,future:s,window:i}=e,a=C.useRef();a.current==null&&(a.current=wy({window:i,v5Compat:!0}));let o=a.current,[l,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=C.useCallback(h=>{u&&fh?fh(()=>c(h)):c(h)},[c,u]);return C.useLayoutEffect(()=>o.listen(d),[o,d]),C.useEffect(()=>cv(s),[s]),C.createElement(dv,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const wv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H=C.forwardRef(function(t,r){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,x=mv(t,gv),{basename:y}=C.useContext(Gr),g,b=!1;if(typeof u=="string"&&jv.test(u)&&(g=u,wv))try{let f=new URL(window.location.href),N=u.startsWith("//")?new URL(f.protocol+u):new URL(u),E=Ou(N.pathname,y);N.origin===f.origin&&E!=null?u=E+N.search+N.hash:b=!0}catch{}let k=Yy(u,{relative:i}),p=Nv(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function m(f){s&&s(f),f.defaultPrevented||p(f)}return C.createElement("a",uc({},x,{href:g||k,onClick:b||a?s:m,ref:r,target:c}))});var ph;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ph||(ph={}));var xh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xh||(xh={}));function Nv(e,t){let{target:r,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=dr(),u=Ln(),d=Tp(e,{relative:o});return C.useCallback(h=>{if(pv(h,r)){h.preventDefault();let x=s!==void 0?s:Xa(u)===Xa(d);c(e,{replace:x,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,i,r,e,a,o,l])}function Ns(e){let t=C.useRef(dc(e)),r=C.useRef(!1),s=Ln(),i=C.useMemo(()=>xv(s.search,r.current?null:t.current),[s.search]),a=dr(),o=C.useCallback((l,c)=>{const u=dc(typeof l=="function"?l(i):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,o]}var _s=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_v={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},jr,Bc,tm,kv=(tm=class{constructor(){K(this,jr,_v);K(this,Bc,!1)}setTimeoutProvider(e){W(this,jr,e)}setTimeout(e,t){return _(this,jr).setTimeout(e,t)}clearTimeout(e){_(this,jr).clearTimeout(e)}setInterval(e,t){return _(this,jr).setInterval(e,t)}clearInterval(e){_(this,jr).clearInterval(e)}},jr=new WeakMap,Bc=new WeakMap,tm),an=new kv;function Sv(e){setTimeout(e,0)}var kn=typeof window>"u"||"Deno"in globalThis;function Ve(){}function Cv(e,t){return typeof e=="function"?e(t):e}function hc(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ap(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wr(e,t){return typeof e=="function"?e(t):e}function mt(e,t){return typeof e=="function"?e(t):e}function gh(e,t){const{type:r="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Bu(o,t.options))return!1}else if(!Ni(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function yh(e,t){const{exact:r,status:s,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Sn(t.options.mutationKey)!==Sn(a))return!1}else if(!Ni(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function Bu(e,t){return((t==null?void 0:t.queryKeyHashFn)||Sn)(e)}function Sn(e){return JSON.stringify(e,(t,r)=>mc(r)?Object.keys(r).sort().reduce((s,i)=>(s[i]=r[i],s),{}):r)}function Ni(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ni(e[r],t[r])):!1}var Ev=Object.prototype.hasOwnProperty;function Dp(e,t){if(e===t)return e;const r=vh(e)&&vh(t);if(!r&&!(mc(e)&&mc(t)))return t;const i=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),o=a.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u],h=e[d],x=t[d];if(h===x){l[d]=h,(r?u<i:Ev.call(e,d))&&c++;continue}if(h===null||x===null||typeof h!="object"||typeof x!="object"){l[d]=x;continue}const y=Dp(h,x);l[d]=y,y===h&&c++}return i===o&&c===i?e:l}function Za(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function vh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mc(e){if(!bh(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!bh(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function bh(e){return Object.prototype.toString.call(e)==="[object Object]"}function Pv(e){return new Promise(t=>{an.setTimeout(t,e)})}function fc(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Dp(e,t):t}function Lv(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function Rv(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var $u=Symbol();function Bp(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===$u?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function $p(e,t){return typeof e=="function"?e(...t):!!e}var ln,Nr,Xn,rm,Tv=(rm=class extends _s{constructor(){super();K(this,ln);K(this,Nr);K(this,Xn);W(this,Xn,t=>{if(!kn&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){_(this,Nr)||this.setEventListener(_(this,Xn))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Nr))==null||t.call(this),W(this,Nr,void 0))}setEventListener(t){var r;W(this,Xn,t),(r=_(this,Nr))==null||r.call(this),W(this,Nr,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){_(this,ln)!==t&&(W(this,ln,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof _(this,ln)=="boolean"?_(this,ln):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ln=new WeakMap,Nr=new WeakMap,Xn=new WeakMap,rm),zu=new Tv;function pc(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function s(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},r.reject=i=>{s({status:"rejected",reason:i}),t(i)},r}var Ov=Sv;function Mv(){let e=[],t=0,r=l=>{l()},s=l=>{l()},i=Ov;const a=l=>{t?e.push(l):i(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{i=l}}}var ke=Mv(),Zn,_r,es,nm,Fv=(nm=class extends _s{constructor(){super();K(this,Zn,!0);K(this,_r);K(this,es);W(this,es,t=>{if(!kn&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){_(this,_r)||this.setEventListener(_(this,es))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,_r))==null||t.call(this),W(this,_r,void 0))}setEventListener(t){var r;W(this,es,t),(r=_(this,_r))==null||r.call(this),W(this,_r,t(this.setOnline.bind(this)))}setOnline(t){_(this,Zn)!==t&&(W(this,Zn,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return _(this,Zn)}},Zn=new WeakMap,_r=new WeakMap,es=new WeakMap,nm),eo=new Fv;function Av(e){return Math.min(1e3*2**e,3e4)}function zp(e){return(e??"online")==="online"?eo.isOnline():!0}var xc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ip(e){let t=!1,r=0,s;const i=pc(),a=()=>i.status!=="pending",o=b=>{var k;if(!a()){const p=new xc(b);x(p),(k=e.onCancel)==null||k.call(e,p)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>zu.isFocused()&&(e.networkMode==="always"||eo.isOnline())&&e.canRun(),d=()=>zp(e.networkMode)&&e.canRun(),h=b=>{a()||(s==null||s(),i.resolve(b))},x=b=>{a()||(s==null||s(),i.reject(b))},y=()=>new Promise(b=>{var k;s=p=>{(a()||u())&&b(p)},(k=e.onPause)==null||k.call(e)}).then(()=>{var b;s=void 0,a()||(b=e.onContinue)==null||b.call(e)}),g=()=>{if(a())return;let b;const k=r===0?e.initialPromise:void 0;try{b=k??e.fn()}catch(p){b=Promise.reject(p)}Promise.resolve(b).then(h).catch(p=>{var w;if(a())return;const m=e.retry??(kn?0:3),f=e.retryDelay??Av,N=typeof f=="function"?f(r,p):f,E=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,p);if(t||!E){x(p);return}r++,(w=e.onFail)==null||w.call(e,r,p),Pv(N).then(()=>u()?void 0:y()).then(()=>{t?x(p):g()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():y().then(g),i)}}var cn,sm,qp=(sm=class{constructor(){K(this,cn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hc(this.gcTime)&&W(this,cn,an.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(kn?1/0:5*60*1e3))}clearGcTimeout(){_(this,cn)&&(an.clearTimeout(_(this,cn)),W(this,cn,void 0))}},cn=new WeakMap,sm),un,ts,ht,dn,Pe,ki,hn,_t,Qt,im,Dv=(im=class extends qp{constructor(t){super();K(this,_t);K(this,un);K(this,ts);K(this,ht);K(this,dn);K(this,Pe);K(this,ki);K(this,hn);W(this,hn,!1),W(this,ki,t.defaultOptions),this.setOptions(t.options),this.observers=[],W(this,dn,t.client),W(this,ht,_(this,dn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,W(this,un,wh(this.options)),this.state=t.state??_(this,un),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=_(this,Pe))==null?void 0:t.promise}setOptions(t){if(this.options={..._(this,ki),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=wh(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),W(this,un,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,ht).remove(this)}setData(t,r){const s=fc(this.state.data,t,this.options);return X(this,_t,Qt).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){X(this,_t,Qt).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,i;const r=(s=_(this,Pe))==null?void 0:s.promise;return(i=_(this,Pe))==null||i.cancel(t),r?r.then(Ve).catch(Ve):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,un))}isActive(){return this.observers.some(t=>mt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$u||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Wr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Ap(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=_(this,Pe))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=_(this,Pe))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),_(this,ht).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(_(this,Pe)&&(_(this,hn)?_(this,Pe).cancel({revert:!0}):_(this,Pe).cancelRetry()),this.scheduleGc()),_(this,ht).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||X(this,_t,Qt).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,h,x,y,g,b,k,p,m,f;if(this.state.fetchStatus!=="idle"&&((c=_(this,Pe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(_(this,Pe))return _(this,Pe).continueRetry(),_(this,Pe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(E=>E.options.queryFn);N&&this.setOptions(N.options)}const s=new AbortController,i=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(W(this,hn,!0),s.signal)})},a=()=>{const N=Bp(this.options,r),w=(()=>{const j={client:_(this,dn),queryKey:this.queryKey,meta:this.meta};return i(j),j})();return W(this,hn,!1),this.options.persister?this.options.persister(N,w,this):N(w)},l=(()=>{const N={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:_(this,dn),state:this.state,fetchFn:a};return i(N),N})();(u=this.options.behavior)==null||u.onFetch(l,this),W(this,ts,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&X(this,_t,Qt).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),W(this,Pe,Ip({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof xc&&N.revert&&this.setState({..._(this,ts),fetchStatus:"idle"}),s.abort()},onFail:(N,E)=>{X(this,_t,Qt).call(this,{type:"failed",failureCount:N,error:E})},onPause:()=>{X(this,_t,Qt).call(this,{type:"pause"})},onContinue:()=>{X(this,_t,Qt).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await _(this,Pe).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(y=(x=_(this,ht).config).onSuccess)==null||y.call(x,N,this),(b=(g=_(this,ht).config).onSettled)==null||b.call(g,N,this.state.error,this),N}catch(N){if(N instanceof xc){if(N.silent)return _(this,Pe).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw X(this,_t,Qt).call(this,{type:"error",error:N}),(p=(k=_(this,ht).config).onError)==null||p.call(k,N,this),(f=(m=_(this,ht).config).onSettled)==null||f.call(m,this.state.data,N,this),N}finally{this.scheduleGc()}}},un=new WeakMap,ts=new WeakMap,ht=new WeakMap,dn=new WeakMap,Pe=new WeakMap,ki=new WeakMap,hn=new WeakMap,_t=new WeakSet,Qt=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Wp(s.data,this.options),fetchMeta:t.meta??null};case"success":const i={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return W(this,ts,t.manual?i:void 0),i;case"error":const a=t.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),ke.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),_(this,ht).notify({query:this,type:"updated",action:t})})},im);function Wp(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zp(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wh(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ye,ee,Si,Ie,mn,rs,Gt,kr,Ci,ns,ss,fn,pn,Sr,is,ie,Qs,gc,yc,vc,bc,wc,jc,Nc,Vp,am,Bv=(am=class extends _s{constructor(t,r){super();K(this,ie);K(this,Ye);K(this,ee);K(this,Si);K(this,Ie);K(this,mn);K(this,rs);K(this,Gt);K(this,kr);K(this,Ci);K(this,ns);K(this,ss);K(this,fn);K(this,pn);K(this,Sr);K(this,is,new Set);this.options=r,W(this,Ye,t),W(this,kr,null),W(this,Gt,pc()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,ee).addObserver(this),jh(_(this,ee),this.options)?X(this,ie,Qs).call(this):this.updateResult(),X(this,ie,bc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _c(_(this,ee),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _c(_(this,ee),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,X(this,ie,wc).call(this),X(this,ie,jc).call(this),_(this,ee).removeObserver(this)}setOptions(t){const r=this.options,s=_(this,ee);if(this.options=_(this,Ye).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mt(this.options.enabled,_(this,ee))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");X(this,ie,Nc).call(this),_(this,ee).setOptions(this.options),r._defaulted&&!Za(this.options,r)&&_(this,Ye).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,ee),observer:this});const i=this.hasListeners();i&&Nh(_(this,ee),s,this.options,r)&&X(this,ie,Qs).call(this),this.updateResult(),i&&(_(this,ee)!==s||mt(this.options.enabled,_(this,ee))!==mt(r.enabled,_(this,ee))||Wr(this.options.staleTime,_(this,ee))!==Wr(r.staleTime,_(this,ee)))&&X(this,ie,gc).call(this);const a=X(this,ie,yc).call(this);i&&(_(this,ee)!==s||mt(this.options.enabled,_(this,ee))!==mt(r.enabled,_(this,ee))||a!==_(this,Sr))&&X(this,ie,vc).call(this,a)}getOptimisticResult(t){const r=_(this,Ye).getQueryCache().build(_(this,Ye),t),s=this.createResult(r,t);return zv(this,s)&&(W(this,Ie,s),W(this,rs,this.options),W(this,mn,_(this,ee).state)),s}getCurrentResult(){return _(this,Ie)}trackResult(t,r){return new Proxy(t,{get:(s,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&!this.options.experimental_prefetchInRender&&_(this,Gt).status==="pending"&&_(this,Gt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,i))})}trackProp(t){_(this,is).add(t)}getCurrentQuery(){return _(this,ee)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=_(this,Ye).defaultQueryOptions(t),s=_(this,Ye).getQueryCache().build(_(this,Ye),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return X(this,ie,Qs).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,Ie)))}createResult(t,r){var B;const s=_(this,ee),i=this.options,a=_(this,Ie),o=_(this,mn),l=_(this,rs),u=t!==s?t.state:_(this,Si),{state:d}=t;let h={...d},x=!1,y;if(r._optimisticResults){const A=this.hasListeners(),Y=!A&&jh(t,r),M=A&&Nh(t,s,r,i);(Y||M)&&(h={...h,...Wp(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:b,status:k}=h;y=h.data;let p=!1;if(r.placeholderData!==void 0&&y===void 0&&k==="pending"){let A;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(A=a.data,p=!0):A=typeof r.placeholderData=="function"?r.placeholderData((B=_(this,ss))==null?void 0:B.state.data,_(this,ss)):r.placeholderData,A!==void 0&&(k="success",y=fc(a==null?void 0:a.data,A,r),x=!0)}if(r.select&&y!==void 0&&!p)if(a&&y===(o==null?void 0:o.data)&&r.select===_(this,Ci))y=_(this,ns);else try{W(this,Ci,r.select),y=r.select(y),y=fc(a==null?void 0:a.data,y,r),W(this,ns,y),W(this,kr,null)}catch(A){W(this,kr,A)}_(this,kr)&&(g=_(this,kr),y=_(this,ns),b=Date.now(),k="error");const m=h.fetchStatus==="fetching",f=k==="pending",N=k==="error",E=f&&m,w=y!==void 0,v={status:k,fetchStatus:h.fetchStatus,isPending:f,isSuccess:k==="success",isError:N,isInitialLoading:E,isLoading:E,data:y,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!f,isLoadingError:N&&!w,isPaused:h.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:N&&w,isStale:Iu(t,r),refetch:this.refetch,promise:_(this,Gt),isEnabled:mt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=L=>{v.status==="error"?L.reject(v.error):v.data!==void 0&&L.resolve(v.data)},Y=()=>{const L=W(this,Gt,v.promise=pc());A(L)},M=_(this,Gt);switch(M.status){case"pending":t.queryHash===s.queryHash&&A(M);break;case"fulfilled":(v.status==="error"||v.data!==M.value)&&Y();break;case"rejected":(v.status!=="error"||v.error!==M.reason)&&Y();break}}return v}updateResult(){const t=_(this,Ie),r=this.createResult(_(this,ee),this.options);if(W(this,mn,_(this,ee).state),W(this,rs,this.options),_(this,mn).data!==void 0&&W(this,ss,_(this,ee)),Za(r,t))return;W(this,Ie,r);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!_(this,is).size)return!0;const o=new Set(a??_(this,is));return this.options.throwOnError&&o.add("error"),Object.keys(_(this,Ie)).some(l=>{const c=l;return _(this,Ie)[c]!==t[c]&&o.has(c)})};X(this,ie,Vp).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&X(this,ie,bc).call(this)}},Ye=new WeakMap,ee=new WeakMap,Si=new WeakMap,Ie=new WeakMap,mn=new WeakMap,rs=new WeakMap,Gt=new WeakMap,kr=new WeakMap,Ci=new WeakMap,ns=new WeakMap,ss=new WeakMap,fn=new WeakMap,pn=new WeakMap,Sr=new WeakMap,is=new WeakMap,ie=new WeakSet,Qs=function(t){X(this,ie,Nc).call(this);let r=_(this,ee).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ve)),r},gc=function(){X(this,ie,wc).call(this);const t=Wr(this.options.staleTime,_(this,ee));if(kn||_(this,Ie).isStale||!hc(t))return;const s=Ap(_(this,Ie).dataUpdatedAt,t)+1;W(this,fn,an.setTimeout(()=>{_(this,Ie).isStale||this.updateResult()},s))},yc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,ee)):this.options.refetchInterval)??!1},vc=function(t){X(this,ie,jc).call(this),W(this,Sr,t),!(kn||mt(this.options.enabled,_(this,ee))===!1||!hc(_(this,Sr))||_(this,Sr)===0)&&W(this,pn,an.setInterval(()=>{(this.options.refetchIntervalInBackground||zu.isFocused())&&X(this,ie,Qs).call(this)},_(this,Sr)))},bc=function(){X(this,ie,gc).call(this),X(this,ie,vc).call(this,X(this,ie,yc).call(this))},wc=function(){_(this,fn)&&(an.clearTimeout(_(this,fn)),W(this,fn,void 0))},jc=function(){_(this,pn)&&(an.clearInterval(_(this,pn)),W(this,pn,void 0))},Nc=function(){const t=_(this,Ye).getQueryCache().build(_(this,Ye),this.options);if(t===_(this,ee))return;const r=_(this,ee);W(this,ee,t),W(this,Si,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Vp=function(t){ke.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(_(this,Ie))}),_(this,Ye).getQueryCache().notify({query:_(this,ee),type:"observerResultsUpdated"})})},am);function $v(e,t){return mt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function jh(e,t){return $v(e,t)||e.state.data!==void 0&&_c(e,t,t.refetchOnMount)}function _c(e,t,r){if(mt(t.enabled,e)!==!1&&Wr(t.staleTime,e)!=="static"){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&Iu(e,t)}return!1}function Nh(e,t,r,s){return(e!==t||mt(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Iu(e,r)}function Iu(e,t){return mt(t.enabled,e)!==!1&&e.isStaleByTime(Wr(t.staleTime,e))}function zv(e,t){return!Za(e.getCurrentResult(),t)}function _h(e){return{onFetch:(t,r)=>{var d,h,x,y,g;const s=t.options,i=(x=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:x.direction,a=((y=t.state.data)==null?void 0:y.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let b=!1;const k=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},p=Bp(t.options,t.fetchOptions),m=async(f,N,E)=>{if(b)return Promise.reject();if(N==null&&f.pages.length)return Promise.resolve(f);const j=(()=>{const Y={client:t.client,queryKey:t.queryKey,pageParam:N,direction:E?"backward":"forward",meta:t.options.meta};return k(Y),Y})(),v=await p(j),{maxPages:B}=t.options,A=E?Rv:Lv;return{pages:A(f.pages,v,B),pageParams:A(f.pageParams,N,B)}};if(i&&a.length){const f=i==="backward",N=f?Iv:kh,E={pages:a,pageParams:o},w=N(s,E);l=await m(E,w,f)}else{const f=e??a.length;do{const N=c===0?o[0]??s.initialPageParam:kh(s,l);if(c>0&&N==null)break;l=await m(l,N),c++}while(c<f)}return l};t.options.persister?t.fetchFn=()=>{var b,k;return(k=(b=t.options).persister)==null?void 0:k.call(b,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function kh(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function Iv(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var Ei,Bt,qe,xn,$t,xr,om,qv=(om=class extends qp{constructor(t){super();K(this,$t);K(this,Ei);K(this,Bt);K(this,qe);K(this,xn);W(this,Ei,t.client),this.mutationId=t.mutationId,W(this,qe,t.mutationCache),W(this,Bt,[]),this.state=t.state||Up(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_(this,Bt).includes(t)||(_(this,Bt).push(t),this.clearGcTimeout(),_(this,qe).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){W(this,Bt,_(this,Bt).filter(r=>r!==t)),this.scheduleGc(),_(this,qe).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_(this,Bt).length||(this.state.status==="pending"?this.scheduleGc():_(this,qe).remove(this))}continue(){var t;return((t=_(this,xn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,h,x,y,g,b,k,p,m,f,N,E,w,j,v,B;const r=()=>{X(this,$t,xr).call(this,{type:"continue"})},s={client:_(this,Ei),meta:this.options.meta,mutationKey:this.options.mutationKey};W(this,xn,Ip({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(A,Y)=>{X(this,$t,xr).call(this,{type:"failed",failureCount:A,error:Y})},onPause:()=>{X(this,$t,xr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,qe).canRun(this)}));const i=this.state.status==="pending",a=!_(this,xn).canStart();try{if(i)r();else{X(this,$t,xr).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=_(this,qe).config).onMutate)==null?void 0:l.call(o,t,this,s));const Y=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,s));Y!==this.state.context&&X(this,$t,xr).call(this,{type:"pending",context:Y,variables:t,isPaused:a})}const A=await _(this,xn).start();return await((h=(d=_(this,qe).config).onSuccess)==null?void 0:h.call(d,A,t,this.state.context,this,s)),await((y=(x=this.options).onSuccess)==null?void 0:y.call(x,A,t,this.state.context,s)),await((b=(g=_(this,qe).config).onSettled)==null?void 0:b.call(g,A,null,this.state.variables,this.state.context,this,s)),await((p=(k=this.options).onSettled)==null?void 0:p.call(k,A,null,t,this.state.context,s)),X(this,$t,xr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((f=(m=_(this,qe).config).onError)==null?void 0:f.call(m,A,t,this.state.context,this,s)),await((E=(N=this.options).onError)==null?void 0:E.call(N,A,t,this.state.context,s)),await((j=(w=_(this,qe).config).onSettled)==null?void 0:j.call(w,void 0,A,this.state.variables,this.state.context,this,s)),await((B=(v=this.options).onSettled)==null?void 0:B.call(v,void 0,A,t,this.state.context,s)),A}finally{X(this,$t,xr).call(this,{type:"error",error:A})}}finally{_(this,qe).runNext(this)}}},Ei=new WeakMap,Bt=new WeakMap,qe=new WeakMap,xn=new WeakMap,$t=new WeakSet,xr=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ke.batch(()=>{_(this,Bt).forEach(s=>{s.onMutationUpdate(t)}),_(this,qe).notify({mutation:this,type:"updated",action:t})})},om);function Up(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jt,kt,Pi,lm,Wv=(lm=class extends _s{constructor(t={}){super();K(this,Jt);K(this,kt);K(this,Pi);this.config=t,W(this,Jt,new Set),W(this,kt,new Map),W(this,Pi,0)}build(t,r,s){const i=new qv({client:t,mutationCache:this,mutationId:++$i(this,Pi)._,options:t.defaultMutationOptions(r),state:s});return this.add(i),i}add(t){_(this,Jt).add(t);const r=na(t);if(typeof r=="string"){const s=_(this,kt).get(r);s?s.push(t):_(this,kt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(_(this,Jt).delete(t)){const r=na(t);if(typeof r=="string"){const s=_(this,kt).get(r);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&_(this,kt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=na(t);if(typeof r=="string"){const s=_(this,kt).get(r),i=s==null?void 0:s.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var s;const r=na(t);if(typeof r=="string"){const i=(s=_(this,kt).get(r))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ke.batch(()=>{_(this,Jt).forEach(t=>{this.notify({type:"removed",mutation:t})}),_(this,Jt).clear(),_(this,kt).clear()})}getAll(){return Array.from(_(this,Jt))}find(t){const r={exact:!0,...t};return this.getAll().find(s=>yh(r,s))}findAll(t={}){return this.getAll().filter(r=>yh(t,r))}notify(t){ke.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ke.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ve))))}},Jt=new WeakMap,kt=new WeakMap,Pi=new WeakMap,lm);function na(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Xt,Cr,Ke,Zt,nr,ba,kc,cm,Vv=(cm=class extends _s{constructor(r,s){super();K(this,nr);K(this,Xt);K(this,Cr);K(this,Ke);K(this,Zt);W(this,Xt,r),this.setOptions(s),this.bindMethods(),X(this,nr,ba).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const s=this.options;this.options=_(this,Xt).defaultMutationOptions(r),Za(this.options,s)||_(this,Xt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,Ke),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Sn(s.mutationKey)!==Sn(this.options.mutationKey)?this.reset():((i=_(this,Ke))==null?void 0:i.state.status)==="pending"&&_(this,Ke).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=_(this,Ke))==null||r.removeObserver(this)}onMutationUpdate(r){X(this,nr,ba).call(this),X(this,nr,kc).call(this,r)}getCurrentResult(){return _(this,Cr)}reset(){var r;(r=_(this,Ke))==null||r.removeObserver(this),W(this,Ke,void 0),X(this,nr,ba).call(this),X(this,nr,kc).call(this)}mutate(r,s){var i;return W(this,Zt,s),(i=_(this,Ke))==null||i.removeObserver(this),W(this,Ke,_(this,Xt).getMutationCache().build(_(this,Xt),this.options)),_(this,Ke).addObserver(this),_(this,Ke).execute(r)}},Xt=new WeakMap,Cr=new WeakMap,Ke=new WeakMap,Zt=new WeakMap,nr=new WeakSet,ba=function(){var s;const r=((s=_(this,Ke))==null?void 0:s.state)??Up();W(this,Cr,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},kc=function(r){ke.batch(()=>{var s,i,a,o,l,c,u,d;if(_(this,Zt)&&this.hasListeners()){const h=_(this,Cr).variables,x=_(this,Cr).context,y={client:_(this,Xt),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(s=_(this,Zt)).onSuccess)==null||i.call(s,r.data,h,x,y),(o=(a=_(this,Zt)).onSettled)==null||o.call(a,r.data,null,h,x,y)):(r==null?void 0:r.type)==="error"&&((c=(l=_(this,Zt)).onError)==null||c.call(l,r.error,h,x,y),(d=(u=_(this,Zt)).onSettled)==null||d.call(u,void 0,r.error,h,x,y))}this.listeners.forEach(h=>{h(_(this,Cr))})})},cm),zt,um,Uv=(um=class extends _s{constructor(t={}){super();K(this,zt);this.config=t,W(this,zt,new Map)}build(t,r,s){const i=r.queryKey,a=r.queryHash??Bu(i,r);let o=this.get(a);return o||(o=new Dv({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){_(this,zt).has(t.queryHash)||(_(this,zt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=_(this,zt).get(t.queryHash);r&&(t.destroy(),r===t&&_(this,zt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ke.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _(this,zt).get(t)}getAll(){return[..._(this,zt).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>gh(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>gh(t,s)):r}notify(t){ke.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ke.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ke.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},zt=new WeakMap,um),ye,Er,Pr,as,os,Lr,ls,cs,dm,Hv=(dm=class{constructor(e={}){K(this,ye);K(this,Er);K(this,Pr);K(this,as);K(this,os);K(this,Lr);K(this,ls);K(this,cs);W(this,ye,e.queryCache||new Uv),W(this,Er,e.mutationCache||new Wv),W(this,Pr,e.defaultOptions||{}),W(this,as,new Map),W(this,os,new Map),W(this,Lr,0)}mount(){$i(this,Lr)._++,_(this,Lr)===1&&(W(this,ls,zu.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,ye).onFocus())})),W(this,cs,eo.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,ye).onOnline())})))}unmount(){var e,t;$i(this,Lr)._--,_(this,Lr)===0&&((e=_(this,ls))==null||e.call(this),W(this,ls,void 0),(t=_(this,cs))==null||t.call(this),W(this,cs,void 0))}isFetching(e){return _(this,ye).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _(this,Er).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=_(this,ye).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=_(this,ye).build(this,t),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Wr(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return _(this,ye).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),i=_(this,ye).get(s.queryHash),a=i==null?void 0:i.state.data,o=Cv(t,a);if(o!==void 0)return _(this,ye).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ke.batch(()=>_(this,ye).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=_(this,ye).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=_(this,ye);ke.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=_(this,ye);return ke.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},s=ke.batch(()=>_(this,ye).findAll(e).map(i=>i.cancel(r)));return Promise.all(s).then(Ve).catch(Ve)}invalidateQueries(e,t={}){return ke.batch(()=>(_(this,ye).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=ke.batch(()=>_(this,ye).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ve)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Ve)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=_(this,ye).build(this,t);return r.isStaleByTime(Wr(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ve).catch(Ve)}fetchInfiniteQuery(e){return e.behavior=_h(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ve).catch(Ve)}ensureInfiniteQueryData(e){return e.behavior=_h(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return eo.isOnline()?_(this,Er).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,ye)}getMutationCache(){return _(this,Er)}getDefaultOptions(){return _(this,Pr)}setDefaultOptions(e){W(this,Pr,e)}setQueryDefaults(e,t){_(this,as).set(Sn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._(this,as).values()],r={};return t.forEach(s=>{Ni(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,t){_(this,os).set(Sn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._(this,os).values()],r={};return t.forEach(s=>{Ni(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._(this,Pr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===$u&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._(this,Pr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_(this,ye).clear(),_(this,Er).clear()}},ye=new WeakMap,Er=new WeakMap,Pr=new WeakMap,as=new WeakMap,os=new WeakMap,Lr=new WeakMap,ls=new WeakMap,cs=new WeakMap,dm),Hp=C.createContext(void 0),Jr=e=>{const t=C.useContext(Hp);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Qv=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(Hp.Provider,{value:e,children:t})),Qp=C.createContext(!1),Yv=()=>C.useContext(Qp);Qp.Provider;function Kv(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Gv=C.createContext(Kv()),Jv=()=>C.useContext(Gv),Xv=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Zv=e=>{C.useEffect(()=>{e.clearReset()},[e])},eb=({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&e.data===void 0||$p(r,[e.error,s])),tb=e=>{if(e.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...i)=>r(s(...i)):r(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},rb=(e,t)=>e.isLoading&&e.isFetching&&!t,nb=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Sh=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function sb(e,t,r){var h,x,y,g,b;const s=Yv(),i=Jv(),a=Jr(),o=a.defaultQueryOptions(e);(x=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||x.call(h,o),o._optimisticResults=s?"isRestoring":"optimistic",tb(o),Xv(o,i),Zv(i);const l=!a.getQueryCache().get(o.queryHash),[c]=C.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!s&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(k=>{const p=d?c.subscribe(ke.batchCalls(k)):Ve;return c.updateResult(),p},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),C.useEffect(()=>{c.setOptions(o)},[o,c]),nb(o,u))throw Sh(o,c,i);if(eb({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((g=(y=a.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||g.call(y,o,u),o.experimental_prefetchInRender&&!kn&&rb(u,s)){const k=l?Sh(o,c,i):(b=a.getQueryCache().get(o.queryHash))==null?void 0:b.promise;k==null||k.catch(Ve).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function le(e,t){return sb(e,Bv)}function Be(e,t){const r=Jr(),[s]=C.useState(()=>new Vv(r,e));C.useEffect(()=>{s.setOptions(e)},[s,e]);const i=C.useSyncExternalStore(C.useCallback(o=>s.subscribe(ke.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=C.useCallback((o,l)=>{s.mutate(o,l).catch(Ve)},[s]);if(i.error&&$p(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const Ch=e=>{let t;const r=new Set,s=(u,d)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const x=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(y=>y(t,x))}},i=()=>t,l={setState:s,getState:i,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=t=e(s,i,l);return l},ib=e=>e?Ch(e):Ch,ab=e=>e;function ob(e,t=ab){const r=tn.useSyncExternalStore(e.subscribe,tn.useCallback(()=>t(e.getState()),[e,t]),tn.useCallback(()=>t(e.getInitialState()),[e,t]));return tn.useDebugValue(r),r}const lb=e=>{const t=ib(e),r=s=>ob(t,s);return Object.assign(r,t),r},cb=e=>lb;function Yp(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var a;const o=c=>c===null?null:JSON.parse(c,void 0),l=(a=r.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>r.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>r.removeItem(i)}}const Sc=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(s){return Sc(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return Sc(s)(r)}}}},ub=(e,t)=>(r,s,i)=>{let a={storage:Yp(()=>localStorage),partialize:b=>b,version:0,merge:(b,k)=>({...k,...b}),...t},o=!1;const l=new Set,c=new Set;let u=a.storage;if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...b)},s,i);const d=()=>{const b=a.partialize({...s()});return u.setItem(a.name,{state:b,version:a.version})},h=i.setState;i.setState=(b,k)=>(h(b,k),d());const x=e((...b)=>(r(...b),d()),s,i);i.getInitialState=()=>x;let y;const g=()=>{var b,k;if(!u)return;o=!1,l.forEach(m=>{var f;return m((f=s())!=null?f:x)});const p=((k=a.onRehydrateStorage)==null?void 0:k.call(a,(b=s())!=null?b:x))||void 0;return Sc(u.getItem.bind(u))(a.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==a.version){if(a.migrate){const f=a.migrate(m.state,m.version);return f instanceof Promise?f.then(N=>[!0,N]):[!0,f]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var f;const[N,E]=m;if(y=a.merge(E,(f=s())!=null?f:x),r(y,!0),N)return d()}).then(()=>{p==null||p(y,void 0),y=s(),o=!0,c.forEach(m=>m(y))}).catch(m=>{p==null||p(void 0,m)})};return i.persist={setOptions:b=>{a={...a,...b},b.storage&&(u=b.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},a.skipHydration||g(),y||x},db=ub,Ut=Object.create(null);Ut.open="0";Ut.close="1";Ut.ping="2";Ut.pong="3";Ut.message="4";Ut.upgrade="5";Ut.noop="6";const wa=Object.create(null);Object.keys(Ut).forEach(e=>{wa[Ut[e]]=e});const Cc={type:"error",data:"parser error"},Kp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Gp=typeof ArrayBuffer=="function",Jp=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,qu=({type:e,data:t},r,s)=>Kp&&t instanceof Blob?r?s(t):Eh(t,s):Gp&&(t instanceof ArrayBuffer||Jp(t))?r?s(t):Eh(new Blob([t]),s):s(Ut[e]+(t||"")),Eh=(e,t)=>{const r=new FileReader;return r.onload=function(){const s=r.result.split(",")[1];t("b"+(s||""))},r.readAsDataURL(e)};function Ph(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ll;function hb(e,t){if(Kp&&e.data instanceof Blob)return e.data.arrayBuffer().then(Ph).then(t);if(Gp&&(e.data instanceof ArrayBuffer||Jp(e.data)))return t(Ph(e.data));qu(e,!1,r=>{ll||(ll=new TextEncoder),t(ll.encode(r))})}const Lh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ys=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Lh.length;e++)Ys[Lh.charCodeAt(e)]=e;const mb=e=>{let t=e.length*.75,r=e.length,s,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(s=0;s<r;s+=4)a=Ys[e.charCodeAt(s)],o=Ys[e.charCodeAt(s+1)],l=Ys[e.charCodeAt(s+2)],c=Ys[e.charCodeAt(s+3)],d[i++]=a<<2|o>>4,d[i++]=(o&15)<<4|l>>2,d[i++]=(l&3)<<6|c&63;return u},fb=typeof ArrayBuffer=="function",Wu=(e,t)=>{if(typeof e!="string")return{type:"message",data:Xp(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:pb(e.substring(1),t)}:wa[r]?e.length>1?{type:wa[r],data:e.substring(1)}:{type:wa[r]}:Cc},pb=(e,t)=>{if(fb){const r=mb(e);return Xp(r,t)}else return{base64:!0,data:e}},Xp=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Zp="",xb=(e,t)=>{const r=e.length,s=new Array(r);let i=0;e.forEach((a,o)=>{qu(a,!1,l=>{s[o]=l,++i===r&&t(s.join(Zp))})})},gb=(e,t)=>{const r=e.split(Zp),s=[];for(let i=0;i<r.length;i++){const a=Wu(r[i],t);if(s.push(a),a.type==="error")break}return s};function yb(){return new TransformStream({transform(e,t){hb(e,r=>{const s=r.length;let i;if(s<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,s);else if(s<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,s)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let cl;function sa(e){return e.reduce((t,r)=>t+r.length,0)}function ia(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let s=0;for(let i=0;i<t;i++)r[i]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),r}function vb(e,t){cl||(cl=new TextDecoder);const r=[];let s=0,i=-1,a=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(s===0){if(sa(r)<1)break;const c=ia(r,1);a=(c[0]&128)===128,i=c[0]&127,i<126?s=3:i===126?s=1:s=2}else if(s===1){if(sa(r)<2)break;const c=ia(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(sa(r)<8)break;const c=ia(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(Cc);break}i=d*Math.pow(2,32)+u.getUint32(4),s=3}else{if(sa(r)<i)break;const c=ia(r,i);l.enqueue(Wu(a?c:cl.decode(c),t)),s=0}if(i===0||i>e){l.enqueue(Cc);break}}}})}const e0=4;function Ne(e){if(e)return bb(e)}function bb(e){for(var t in Ne.prototype)e[t]=Ne.prototype[t];return e}Ne.prototype.on=Ne.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ne.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Ne.prototype.off=Ne.prototype.removeListener=Ne.prototype.removeAllListeners=Ne.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,i=0;i<r.length;i++)if(s=r[i],s===t||s.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Ne.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,i=r.length;s<i;++s)r[s].apply(this,t)}return this};Ne.prototype.emitReserved=Ne.prototype.emit;Ne.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ne.prototype.hasListeners=function(e){return!!this.listeners(e).length};const No=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),xt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),wb="arraybuffer";function t0(e,...t){return t.reduce((r,s)=>(e.hasOwnProperty(s)&&(r[s]=e[s]),r),{})}const jb=xt.setTimeout,Nb=xt.clearTimeout;function _o(e,t){t.useNativeTimers?(e.setTimeoutFn=jb.bind(xt),e.clearTimeoutFn=Nb.bind(xt)):(e.setTimeoutFn=xt.setTimeout.bind(xt),e.clearTimeoutFn=xt.clearTimeout.bind(xt))}const _b=1.33;function kb(e){return typeof e=="string"?Sb(e):Math.ceil((e.byteLength||e.size)*_b)}function Sb(e){let t=0,r=0;for(let s=0,i=e.length;s<i;s++)t=e.charCodeAt(s),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(s++,r+=4);return r}function r0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Cb(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function Eb(e){let t={},r=e.split("&");for(let s=0,i=r.length;s<i;s++){let a=r[s].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class Pb extends Error{constructor(t,r,s){super(t),this.description=r,this.context=s,this.type="TransportError"}}class Vu extends Ne{constructor(t){super(),this.writable=!1,_o(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,s){return super.emitReserved("error",new Pb(t,r,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Wu(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=Cb(t);return r.length?"?"+r:""}}class Lb extends Vu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||r()})),this.writable||(s++,this.once("drain",function(){--s||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};gb(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,xb(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=r0()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let n0=!1;try{n0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Rb=n0;function Tb(){}class Ob extends Lb{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,r){const s=this.request({method:"POST",data:t});s.on("success",r),s.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,s)=>{this.onError("xhr poll error",r,s)}),this.pollXhr=t}}class Vt extends Ne{constructor(t,r,s){super(),this.createRequest=t,_o(this,s),this._opts=s,this._method=s.method||"GET",this._uri=r,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var t;const r=t0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(r);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&s.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var i;s.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Vt.requestsCount++,Vt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Tb,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Vt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Vt.requestsCount=0;Vt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Rh);else if(typeof addEventListener=="function"){const e="onpagehide"in xt?"pagehide":"unload";addEventListener(e,Rh,!1)}}function Rh(){for(let e in Vt.requests)Vt.requests.hasOwnProperty(e)&&Vt.requests[e].abort()}const Mb=function(){const e=s0({xdomain:!1});return e&&e.responseType!==null}();class Fb extends Ob{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=Mb&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Vt(s0,this.uri(),t)}}function s0(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Rb))return new XMLHttpRequest}catch{}if(!t)try{return new xt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const i0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ab extends Vu{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,s=i0?{}:t0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,s)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const s=t[r],i=r===t.length-1;qu(s,this.supportsBinary,a=>{try{this.doWrite(s,a)}catch{}i&&No(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=r0()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const ul=xt.WebSocket||xt.MozWebSocket;class Db extends Ab{createSocket(t,r,s){return i0?new ul(t,r,s):r?new ul(t,r):new ul(t)}doWrite(t,r){this.ws.send(r)}}class Bb extends Vu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=vb(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(r).getReader(),i=yb();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{s.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const s=t[r],i=r===t.length-1;this._writer.write(s).then(()=>{i&&No(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const $b={websocket:Db,webtransport:Bb,polling:Fb},zb=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ib=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ec(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),s=e.indexOf("]");r!=-1&&s!=-1&&(e=e.substring(0,r)+e.substring(r,s).replace(/:/g,";")+e.substring(s,e.length));let i=zb.exec(e||""),a={},o=14;for(;o--;)a[Ib[o]]=i[o]||"";return r!=-1&&s!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=qb(a,a.path),a.queryKey=Wb(a,a.query),a}function qb(e,t){const r=/\/{2,9}/g,s=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Wb(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,i,a){i&&(r[i]=a)}),r}const Pc=typeof addEventListener=="function"&&typeof removeEventListener=="function",ja=[];Pc&&addEventListener("offline",()=>{ja.forEach(e=>e())},!1);class Vr extends Ne{constructor(t,r){if(super(),this.binaryType=wb,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const s=Ec(t);r.hostname=s.host,r.secure=s.protocol==="https"||s.protocol==="wss",r.port=s.port,s.query&&(r.query=s.query)}else r.host&&(r.hostname=Ec(r.host).host);_o(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(s=>{const i=s.prototype.name;this.transports.push(i),this._transportsByName[i]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Eb(this.opts.query)),Pc&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ja.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=e0,r.transport=t,this.id&&(r.sid=this.id);const s=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Vr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Vr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(r+=kb(i)),s>0&&r>this._maxPayload)return this.writeBuffer.slice(0,s);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,No(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,s){return this._sendPacket("message",t,r,s),this}send(t,r,s){return this._sendPacket("message",t,r,s),this}_sendPacket(t,r,s,i){if(typeof r=="function"&&(i=r,r=void 0),typeof s=="function"&&(i=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const a={type:t,data:r,options:s};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},s=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}_onError(t){if(Vr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Pc&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=ja.indexOf(this._offlineEventListener);s!==-1&&ja.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Vr.protocol=e0;class Vb extends Vr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),s=!1;Vr.priorWebsocketSuccess=!1;const i=()=>{s||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!s)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Vr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=r.name,this.emitReserved("upgradeError",x)}}))};function a(){s||(s=!0,d(),r.close(),r=null)}const o=h=>{const x=new Error("probe error: "+h);x.transport=r.name,a(),this.emitReserved("upgradeError",x)};function l(){o("transport closed")}function c(){o("socket closed")}function u(h){r&&h.name!==r.name&&a()}const d=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&r.push(t[s]);return r}}let Ub=class extends Vb{constructor(t,r={}){const s=typeof t=="object"?t:r;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(i=>$b[i]).filter(i=>!!i)),super(t,s)}};function Hb(e,t="",r){let s=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),s=Ec(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const a=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+t,s.href=s.protocol+"://"+a+(r&&r.port===s.port?"":":"+s.port),s}const Qb=typeof ArrayBuffer=="function",Yb=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,a0=Object.prototype.toString,Kb=typeof Blob=="function"||typeof Blob<"u"&&a0.call(Blob)==="[object BlobConstructor]",Gb=typeof File=="function"||typeof File<"u"&&a0.call(File)==="[object FileConstructor]";function Uu(e){return Qb&&(e instanceof ArrayBuffer||Yb(e))||Kb&&e instanceof Blob||Gb&&e instanceof File}function Na(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,s=e.length;r<s;r++)if(Na(e[r]))return!0;return!1}if(Uu(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Na(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Na(e[r]))return!0;return!1}function Jb(e){const t=[],r=e.data,s=e;return s.data=Lc(r,t),s.attachments=t.length,{packet:s,buffers:t}}function Lc(e,t){if(!e)return e;if(Uu(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let s=0;s<e.length;s++)r[s]=Lc(e[s],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=Lc(e[s],t));return r}return e}function Xb(e,t){return e.data=Rc(e.data,t),delete e.attachments,e}function Rc(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Rc(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Rc(e[r],t));return e}const Zb=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],e1=5;var te;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(te||(te={}));class t1{constructor(t){this.replacer=t}encode(t){return(t.type===te.EVENT||t.type===te.ACK)&&Na(t)?this.encodeAsBinary({type:t.type===te.EVENT?te.BINARY_EVENT:te.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===te.BINARY_EVENT||t.type===te.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=Jb(t),s=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(s),i}}function Th(e){return Object.prototype.toString.call(e)==="[object Object]"}class Hu extends Ne{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const s=r.type===te.BINARY_EVENT;s||r.type===te.BINARY_ACK?(r.type=s?te.EVENT:te.ACK,this.reconstructor=new r1(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Uu(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const s={type:Number(t.charAt(0))};if(te[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===te.BINARY_EVENT||s.type===te.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(a,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");s.attachments=Number(o)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););s.nsp=t.substring(a,r)}else s.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}s.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(Hu.isPayloadValid(s.type,a))s.data=a;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case te.CONNECT:return Th(r);case te.DISCONNECT:return r===void 0;case te.CONNECT_ERROR:return typeof r=="string"||Th(r);case te.EVENT:case te.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Zb.indexOf(r[0])===-1);case te.ACK:case te.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class r1{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=Xb(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const n1=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Hu,Encoder:t1,get PacketType(){return te},protocol:e1},Symbol.toStringTag,{value:"Module"}));function Ct(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const s1=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class o0 extends Ne{constructor(t,r,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ct(t,"open",this.onopen.bind(this)),Ct(t,"packet",this.onpacket.bind(this)),Ct(t,"error",this.onerror.bind(this)),Ct(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var s,i,a;if(s1.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:te.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,h=r.pop();this._registerAckCallback(d,h),o.id=d}const l=(i=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var s;const i=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((s,i)=>{const a=(o,l)=>o?i(o):s(l);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>s!==this._queue[0]?void 0:(i!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:te.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case te.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case te.EVENT:case te.BINARY_EVENT:this.onevent(t);break;case te.ACK:case te.BINARY_ACK:this.onack(t);break;case te.DISCONNECT:this.ondisconnect();break;case te.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const s of r)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let s=!1;return function(...i){s||(s=!0,r.packet({type:te.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:te.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let s=0;s<r.length;s++)if(t===r[s])return r.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let s=0;s<r.length;s++)if(t===r[s])return r.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const s of r)s.apply(this,t.data)}}}function ks(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ks.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};ks.prototype.reset=function(){this.attempts=0};ks.prototype.setMin=function(e){this.ms=e};ks.prototype.setMax=function(e){this.max=e};ks.prototype.setJitter=function(e){this.jitter=e};class Tc extends Ne{constructor(t,r){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,_o(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((s=r.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new ks({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||n1;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Ub(this.uri,this.opts);const r=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=Ct(r,"open",function(){s.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Ct(r,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ct(t,"ping",this.onping.bind(this)),Ct(t,"data",this.ondata.bind(this)),Ct(t,"error",this.onerror.bind(this)),Ct(t,"close",this.onclose.bind(this)),Ct(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){No(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new o0(this,t,r),this.nsps[t]=s),s}_destroy(t){const r=Object.keys(this.nsps);for(const s of r)if(this.nsps[s].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let s=0;s<r.length;s++)this.engine.write(r[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Bs={};function _a(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=Hb(e,t.path||"/socket.io"),s=r.source,i=r.id,a=r.path,o=Bs[i]&&a in Bs[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new Tc(s,t):(Bs[i]||(Bs[i]=new Tc(s,t)),c=Bs[i]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(_a,{Manager:Tc,Socket:o0,io:_a,connect:_a});function l0(e,t){return function(){return e.apply(t,arguments)}}const{toString:i1}=Object.prototype,{getPrototypeOf:Qu}=Object,{iterator:ko,toStringTag:c0}=Symbol,So=(e=>t=>{const r=i1.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Tt=e=>(e=e.toLowerCase(),t=>So(t)===e),Co=e=>t=>typeof t===e,{isArray:Ss}=Array,gs=Co("undefined");function Fi(e){return e!==null&&!gs(e)&&e.constructor!==null&&!gs(e.constructor)&&tt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const u0=Tt("ArrayBuffer");function a1(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&u0(e.buffer),t}const o1=Co("string"),tt=Co("function"),d0=Co("number"),Ai=e=>e!==null&&typeof e=="object",l1=e=>e===!0||e===!1,ka=e=>{if(So(e)!=="object")return!1;const t=Qu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(c0 in e)&&!(ko in e)},c1=e=>{if(!Ai(e)||Fi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},u1=Tt("Date"),d1=Tt("File"),h1=Tt("Blob"),m1=Tt("FileList"),f1=e=>Ai(e)&&tt(e.pipe),p1=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||tt(e.append)&&((t=So(e))==="formdata"||t==="object"&&tt(e.toString)&&e.toString()==="[object FormData]"))},x1=Tt("URLSearchParams"),[g1,y1,v1,b1]=["ReadableStream","Request","Response","Headers"].map(Tt),w1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Di(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,i;if(typeof e!="object"&&(e=[e]),Ss(e))for(s=0,i=e.length;s<i;s++)t.call(null,e[s],s,e);else{if(Fi(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(s=0;s<o;s++)l=a[s],t.call(null,e[l],l,e)}}function h0(e,t){if(Fi(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,i;for(;s-- >0;)if(i=r[s],t===i.toLowerCase())return i;return null}const on=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,m0=e=>!gs(e)&&e!==on;function Oc(){const{caseless:e,skipUndefined:t}=m0(this)&&this||{},r={},s=(i,a)=>{const o=e&&h0(r,a)||a;ka(r[o])&&ka(i)?r[o]=Oc(r[o],i):ka(i)?r[o]=Oc({},i):Ss(i)?r[o]=i.slice():(!t||!gs(i))&&(r[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Di(arguments[i],s);return r}const j1=(e,t,r,{allOwnKeys:s}={})=>(Di(t,(i,a)=>{r&&tt(i)?e[a]=l0(i,r):e[a]=i},{allOwnKeys:s}),e),N1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_1=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},k1=(e,t,r,s)=>{let i,a,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Qu(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},S1=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},C1=e=>{if(!e)return null;if(Ss(e))return e;let t=e.length;if(!d0(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},E1=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Qu(Uint8Array)),P1=(e,t)=>{const s=(e&&e[ko]).call(e);let i;for(;(i=s.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},L1=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},R1=Tt("HTMLFormElement"),T1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,i){return s.toUpperCase()+i}),Oh=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),O1=Tt("RegExp"),f0=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};Di(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(s[a]=o||i)}),Object.defineProperties(e,s)},M1=e=>{f0(e,(t,r)=>{if(tt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(tt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},F1=(e,t)=>{const r={},s=i=>{i.forEach(a=>{r[a]=!0})};return Ss(e)?s(e):s(String(e).split(t)),r},A1=()=>{},D1=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function B1(e){return!!(e&&tt(e.append)&&e[c0]==="FormData"&&e[ko])}const $1=e=>{const t=new Array(10),r=(s,i)=>{if(Ai(s)){if(t.indexOf(s)>=0)return;if(Fi(s))return s;if(!("toJSON"in s)){t[i]=s;const a=Ss(s)?[]:{};return Di(s,(o,l)=>{const c=r(o,i+1);!gs(c)&&(a[l]=c)}),t[i]=void 0,a}}return s};return r(e,0)},z1=Tt("AsyncFunction"),I1=e=>e&&(Ai(e)||tt(e))&&tt(e.then)&&tt(e.catch),p0=((e,t)=>e?setImmediate:t?((r,s)=>(on.addEventListener("message",({source:i,data:a})=>{i===on&&a===r&&s.length&&s.shift()()},!1),i=>{s.push(i),on.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",tt(on.postMessage)),q1=typeof queueMicrotask<"u"?queueMicrotask.bind(on):typeof process<"u"&&process.nextTick||p0,W1=e=>e!=null&&tt(e[ko]),T={isArray:Ss,isArrayBuffer:u0,isBuffer:Fi,isFormData:p1,isArrayBufferView:a1,isString:o1,isNumber:d0,isBoolean:l1,isObject:Ai,isPlainObject:ka,isEmptyObject:c1,isReadableStream:g1,isRequest:y1,isResponse:v1,isHeaders:b1,isUndefined:gs,isDate:u1,isFile:d1,isBlob:h1,isRegExp:O1,isFunction:tt,isStream:f1,isURLSearchParams:x1,isTypedArray:E1,isFileList:m1,forEach:Di,merge:Oc,extend:j1,trim:w1,stripBOM:N1,inherits:_1,toFlatObject:k1,kindOf:So,kindOfTest:Tt,endsWith:S1,toArray:C1,forEachEntry:P1,matchAll:L1,isHTMLForm:R1,hasOwnProperty:Oh,hasOwnProp:Oh,reduceDescriptors:f0,freezeMethods:M1,toObjectSet:F1,toCamelCase:T1,noop:A1,toFiniteNumber:D1,findKey:h0,global:on,isContextDefined:m0,isSpecCompliantForm:B1,toJSONObject:$1,isAsyncFn:z1,isThenable:I1,setImmediate:p0,asap:q1,isIterable:W1};function J(e,t,r,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}T.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const x0=J.prototype,g0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{g0[e]={value:e}});Object.defineProperties(J,g0);Object.defineProperty(x0,"isAxiosError",{value:!0});J.from=(e,t,r,s,i,a)=>{const o=Object.create(x0);T.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return J.call(o,l,c,r,s,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const V1=null;function Mc(e){return T.isPlainObject(e)||T.isArray(e)}function y0(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function Mh(e,t,r){return e?e.concat(t).map(function(i,a){return i=y0(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function U1(e){return T.isArray(e)&&!e.some(Mc)}const H1=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function Eo(e,t,r){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=T.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,k){return!T.isUndefined(k[b])});const s=r.metaTokens,i=r.visitor||d,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(T.isDate(g))return g.toISOString();if(T.isBoolean(g))return g.toString();if(!c&&T.isBlob(g))throw new J("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(g)||T.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,b,k){let p=g;if(g&&!k&&typeof g=="object"){if(T.endsWith(b,"{}"))b=s?b:b.slice(0,-2),g=JSON.stringify(g);else if(T.isArray(g)&&U1(g)||(T.isFileList(g)||T.endsWith(b,"[]"))&&(p=T.toArray(g)))return b=y0(b),p.forEach(function(f,N){!(T.isUndefined(f)||f===null)&&t.append(o===!0?Mh([b],N,a):o===null?b:b+"[]",u(f))}),!1}return Mc(g)?!0:(t.append(Mh(k,b,a),u(g)),!1)}const h=[],x=Object.assign(H1,{defaultVisitor:d,convertValue:u,isVisitable:Mc});function y(g,b){if(!T.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(g),T.forEach(g,function(p,m){(!(T.isUndefined(p)||p===null)&&i.call(t,p,T.isString(m)?m.trim():m,b,x))===!0&&y(p,b?b.concat(m):[m])}),h.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return y(e),t}function Fh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Yu(e,t){this._pairs=[],e&&Eo(e,this,t)}const v0=Yu.prototype;v0.append=function(t,r){this._pairs.push([t,r])};v0.toString=function(t){const r=t?function(s){return t.call(this,s,Fh)}:Fh;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Q1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function b0(e,t,r){if(!t)return e;const s=r&&r.encode||Q1;T.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=T.isURLSearchParams(t)?t.toString():new Yu(t,r).toString(s),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Ah{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(s){s!==null&&t(s)})}}const w0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Y1=typeof URLSearchParams<"u"?URLSearchParams:Yu,K1=typeof FormData<"u"?FormData:null,G1=typeof Blob<"u"?Blob:null,J1={isBrowser:!0,classes:{URLSearchParams:Y1,FormData:K1,Blob:G1},protocols:["http","https","file","blob","url","data"]},Ku=typeof window<"u"&&typeof document<"u",Fc=typeof navigator=="object"&&navigator||void 0,X1=Ku&&(!Fc||["ReactNative","NativeScript","NS"].indexOf(Fc.product)<0),Z1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ew=Ku&&window.location.href||"http://localhost",tw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ku,hasStandardBrowserEnv:X1,hasStandardBrowserWebWorkerEnv:Z1,navigator:Fc,origin:ew},Symbol.toStringTag,{value:"Module"})),$e={...tw,...J1};function rw(e,t){return Eo(e,new $e.classes.URLSearchParams,{visitor:function(r,s,i,a){return $e.isNode&&T.isBuffer(r)?(this.append(s,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function nw(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function sw(e){const t={},r=Object.keys(e);let s;const i=r.length;let a;for(s=0;s<i;s++)a=r[s],t[a]=e[a];return t}function j0(e){function t(r,s,i,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&T.isArray(i)?i.length:o,c?(T.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!l):((!i[o]||!T.isObject(i[o]))&&(i[o]=[]),t(r,s,i[o],a)&&T.isArray(i[o])&&(i[o]=sw(i[o])),!l)}if(T.isFormData(e)&&T.isFunction(e.entries)){const r={};return T.forEachEntry(e,(s,i)=>{t(nw(s),i,r,0)}),r}return null}function iw(e,t,r){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const Bi={transitional:w0,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",i=s.indexOf("application/json")>-1,a=T.isObject(t);if(a&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return i?JSON.stringify(j0(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return rw(t,this.formSerializer).toString();if((l=T.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Eo(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),iw(t)):t}],transformResponse:[function(t){const r=this.transitional||Bi.transitional,s=r&&r.forcedJSONParsing,i=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(s&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?J.from(l,J.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$e.classes.FormData,Blob:$e.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{Bi.headers[e]={}});const aw=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ow=e=>{const t={};let r,s,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!r||t[r]&&aw[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},Dh=Symbol("internals");function $s(e){return e&&String(e).trim().toLowerCase()}function Sa(e){return e===!1||e==null?e:T.isArray(e)?e.map(Sa):String(e)}function lw(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const cw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function dl(e,t,r,s,i){if(T.isFunction(s))return s.call(this,t,r);if(i&&(t=r),!!T.isString(t)){if(T.isString(s))return t.indexOf(s)!==-1;if(T.isRegExp(s))return s.test(t)}}function uw(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function dw(e,t){const r=T.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(i,a,o){return this[s].call(this,t,i,a,o)},configurable:!0})})}let rt=class{constructor(t){t&&this.set(t)}set(t,r,s){const i=this;function a(l,c,u){const d=$s(c);if(!d)throw new Error("header name must be a non-empty string");const h=T.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=Sa(l))}const o=(l,c)=>T.forEach(l,(u,d)=>a(u,d,c));if(T.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(T.isString(t)&&(t=t.trim())&&!cw(t))o(ow(t),r);else if(T.isObject(t)&&T.isIterable(t)){let l={},c,u;for(const d of t){if(!T.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?T.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&a(r,t,s);return this}get(t,r){if(t=$s(t),t){const s=T.findKey(this,t);if(s){const i=this[s];if(!r)return i;if(r===!0)return lw(i);if(T.isFunction(r))return r.call(this,i,s);if(T.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=$s(t),t){const s=T.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||dl(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let i=!1;function a(o){if(o=$s(o),o){const l=T.findKey(s,o);l&&(!r||dl(s,s[l],l,r))&&(delete s[l],i=!0)}}return T.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let s=r.length,i=!1;for(;s--;){const a=r[s];(!t||dl(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,s={};return T.forEach(this,(i,a)=>{const o=T.findKey(s,a);if(o){r[o]=Sa(i),delete r[a];return}const l=t?uw(a):String(a).trim();l!==a&&delete r[a],r[l]=Sa(i),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return T.forEach(this,(s,i)=>{s!=null&&s!==!1&&(r[i]=t&&T.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(i=>s.set(i)),s}static accessor(t){const s=(this[Dh]=this[Dh]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=$s(o);s[l]||(dw(i,o),s[l]=!0)}return T.isArray(t)?t.forEach(a):a(t),this}};rt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(rt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});T.freezeMethods(rt);function hl(e,t){const r=this||Bi,s=t||r,i=rt.from(s.headers);let a=s.data;return T.forEach(e,function(l){a=l.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function N0(e){return!!(e&&e.__CANCEL__)}function Cs(e,t,r){J.call(this,e??"canceled",J.ERR_CANCELED,t,r),this.name="CanceledError"}T.inherits(Cs,J,{__CANCEL__:!0});function _0(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new J("Request failed with status code "+r.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function hw(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mw(e,t){e=e||10;const r=new Array(e),s=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=s[a];o||(o=u),r[i]=c,s[i]=u;let h=a,x=0;for(;h!==i;)x+=r[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-o<t)return;const y=d&&u-d;return y?Math.round(x*1e3/y):void 0}}function fw(e,t){let r=0,s=1e3/t,i,a;const o=(u,d=Date.now())=>{r=d,i=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=s?o(u,d):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},s-h)))},()=>i&&o(i)]}const to=(e,t,r=3)=>{let s=0;const i=mw(50,250);return fw(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-s,u=i(c),d=o<=l;s=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},r)},Bh=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},$h=e=>(...t)=>T.asap(()=>e(...t)),pw=$e.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,$e.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL($e.origin),$e.navigator&&/(msie|trident)/i.test($e.navigator.userAgent)):()=>!0,xw=$e.hasStandardBrowserEnv?{write(e,t,r,s,i,a){const o=[e+"="+encodeURIComponent(t)];T.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),T.isString(s)&&o.push("path="+s),T.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yw(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function k0(e,t,r){let s=!gw(t);return e&&(s||r==!1)?yw(e,t):t}const zh=e=>e instanceof rt?{...e}:e;function Cn(e,t){t=t||{};const r={};function s(u,d,h,x){return T.isPlainObject(u)&&T.isPlainObject(d)?T.merge.call({caseless:x},u,d):T.isPlainObject(d)?T.merge({},d):T.isArray(d)?d.slice():d}function i(u,d,h,x){if(T.isUndefined(d)){if(!T.isUndefined(u))return s(void 0,u,h,x)}else return s(u,d,h,x)}function a(u,d){if(!T.isUndefined(d))return s(void 0,d)}function o(u,d){if(T.isUndefined(d)){if(!T.isUndefined(u))return s(void 0,u)}else return s(void 0,d)}function l(u,d,h){if(h in t)return s(u,d);if(h in e)return s(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>i(zh(u),zh(d),h,!0)};return T.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||i,x=h(e[d],t[d],d);T.isUndefined(x)&&h!==l||(r[d]=x)}),r}const S0=e=>{const t=Cn({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=rt.from(o),t.url=b0(k0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),T.isFormData(r)){if($e.hasStandardBrowserEnv||$e.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(T.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if($e.hasStandardBrowserEnv&&(s&&T.isFunction(s)&&(s=s(t)),s||s!==!1&&pw(t.url))){const c=i&&a&&xw.read(a);c&&o.set(i,c)}return t},vw=typeof XMLHttpRequest<"u",bw=vw&&function(e){return new Promise(function(r,s){const i=S0(e);let a=i.data;const o=rt.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,h,x,y,g;function b(){y&&y(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let k=new XMLHttpRequest;k.open(i.method.toUpperCase(),i.url,!0),k.timeout=i.timeout;function p(){if(!k)return;const f=rt.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:f,config:e,request:k};_0(function(j){r(j),b()},function(j){s(j),b()},E),k=null}"onloadend"in k?k.onloadend=p:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(p)},k.onabort=function(){k&&(s(new J("Request aborted",J.ECONNABORTED,e,k)),k=null)},k.onerror=function(N){const E=N&&N.message?N.message:"Network Error",w=new J(E,J.ERR_NETWORK,e,k);w.event=N||null,s(w),k=null},k.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||w0;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),s(new J(N,E.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,k)),k=null},a===void 0&&o.setContentType(null),"setRequestHeader"in k&&T.forEach(o.toJSON(),function(N,E){k.setRequestHeader(E,N)}),T.isUndefined(i.withCredentials)||(k.withCredentials=!!i.withCredentials),l&&l!=="json"&&(k.responseType=i.responseType),u&&([x,g]=to(u,!0),k.addEventListener("progress",x)),c&&k.upload&&([h,y]=to(c),k.upload.addEventListener("progress",h),k.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(d=f=>{k&&(s(!f||f.type?new Cs(null,e,k):f),k.abort(),k=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const m=hw(i.url);if(m&&$e.protocols.indexOf(m)===-1){s(new J("Unsupported protocol "+m+":",J.ERR_BAD_REQUEST,e));return}k.send(a||null)})},ww=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,i;const a=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;s.abort(d instanceof J?d:new Cs(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new J(`timeout ${t} of ms exceeded`,J.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=s;return c.unsubscribe=()=>T.asap(l),c}},jw=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,i;for(;s<r;)i=s+t,yield e.slice(s,i),s=i},Nw=async function*(e,t){for await(const r of _w(e))yield*jw(r,t)},_w=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},Ih=(e,t,r,s)=>{const i=Nw(e,t);let a=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let h=d.byteLength;if(r){let x=a+=h;r(x)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},qh=64*1024,{isFunction:aa}=T,kw=(({Request:e,Response:t})=>({Request:e,Response:t}))(T.global),{ReadableStream:Wh,TextEncoder:Vh}=T.global,Uh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Sw=e=>{e=T.merge.call({skipUndefined:!0},kw,e);const{fetch:t,Request:r,Response:s}=e,i=t?aa(t):typeof fetch=="function",a=aa(r),o=aa(s);if(!i)return!1;const l=i&&aa(Wh),c=i&&(typeof Vh=="function"?(g=>b=>g.encode(b))(new Vh):async g=>new Uint8Array(await new r(g).arrayBuffer())),u=a&&l&&Uh(()=>{let g=!1;const b=new r($e.origin,{body:new Wh,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!b}),d=o&&l&&Uh(()=>T.isReadableStream(new s("").body)),h={stream:d&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(b,k)=>{let p=b&&b[g];if(p)return p.call(b);throw new J(`Response type '${g}' is not supported`,J.ERR_NOT_SUPPORT,k)})});const x=async g=>{if(g==null)return 0;if(T.isBlob(g))return g.size;if(T.isSpecCompliantForm(g))return(await new r($e.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(T.isArrayBufferView(g)||T.isArrayBuffer(g))return g.byteLength;if(T.isURLSearchParams(g)&&(g=g+""),T.isString(g))return(await c(g)).byteLength},y=async(g,b)=>{const k=T.toFiniteNumber(g.getContentLength());return k??x(b)};return async g=>{let{url:b,method:k,data:p,signal:m,cancelToken:f,timeout:N,onDownloadProgress:E,onUploadProgress:w,responseType:j,headers:v,withCredentials:B="same-origin",fetchOptions:A}=S0(g),Y=t||fetch;j=j?(j+"").toLowerCase():"text";let M=ww([m,f&&f.toAbortSignal()],N),L=null;const S=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let P;try{if(w&&u&&k!=="get"&&k!=="head"&&(P=await y(v,p))!==0){let V=new r(b,{method:"POST",body:p,duplex:"half"}),R;if(T.isFormData(p)&&(R=V.headers.get("content-type"))&&v.setContentType(R),V.body){const[se,ce]=Bh(P,to($h(w)));p=Ih(V.body,qh,se,ce)}}T.isString(B)||(B=B?"include":"omit");const F=a&&"credentials"in r.prototype,Q={...A,signal:M,method:k.toUpperCase(),headers:v.normalize().toJSON(),body:p,duplex:"half",credentials:F?B:void 0};L=a&&new r(b,Q);let D=await(a?Y(L,A):Y(b,Q));const O=d&&(j==="stream"||j==="response");if(d&&(E||O&&S)){const V={};["status","statusText","headers"].forEach(Ot=>{V[Ot]=D[Ot]});const R=T.toFiniteNumber(D.headers.get("content-length")),[se,ce]=E&&Bh(R,to($h(E),!0))||[];D=new s(Ih(D.body,qh,se,()=>{ce&&ce(),S&&S()}),V)}j=j||"text";let $=await h[T.findKey(h,j)||"text"](D,g);return!O&&S&&S(),await new Promise((V,R)=>{_0(V,R,{data:$,headers:rt.from(D.headers),status:D.status,statusText:D.statusText,config:g,request:L})})}catch(F){throw S&&S(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,g,L),{cause:F.cause||F}):J.from(F,F&&F.code,g,L)}}},Cw=new Map,C0=e=>{let t=e?e.env:{};const{fetch:r,Request:s,Response:i}=t,a=[s,i,r];let o=a.length,l=o,c,u,d=Cw;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:Sw(t)),d=u;return u};C0();const Ac={http:V1,xhr:bw,fetch:{get:C0}};T.forEach(Ac,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Hh=e=>`- ${e}`,Ew=e=>T.isFunction(e)||e===null||e===!1,E0={getAdapter:(e,t)=>{e=T.isArray(e)?e:[e];const{length:r}=e;let s,i;const a={};for(let o=0;o<r;o++){s=e[o];let l;if(i=s,!Ew(s)&&(i=Ac[(l=String(s)).toLowerCase()],i===void 0))throw new J(`Unknown adapter '${l}'`);if(i&&(T.isFunction(i)||(i=i.get(t))))break;a[l||"#"+o]=i}if(!i){const o=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(Hh).join(`
`):" "+Hh(o[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:Ac};function ml(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cs(null,e)}function Qh(e){return ml(e),e.headers=rt.from(e.headers),e.data=hl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),E0.getAdapter(e.adapter||Bi.adapter,e)(e).then(function(s){return ml(e),s.data=hl.call(e,e.transformResponse,s),s.headers=rt.from(s.headers),s},function(s){return N0(s)||(ml(e),s&&s.response&&(s.response.data=hl.call(e,e.transformResponse,s.response),s.response.headers=rt.from(s.response.headers))),Promise.reject(s)})}const P0="1.12.2",Po={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Po[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Yh={};Po.transitional=function(t,r,s){function i(a,o){return"[Axios v"+P0+"] Transitional option '"+a+"'"+o+(s?". "+s:"")}return(a,o,l)=>{if(t===!1)throw new J(i(o," has been removed"+(r?" in "+r:"")),J.ERR_DEPRECATED);return r&&!Yh[o]&&(Yh[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};Po.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Pw(e,t,r){if(typeof e!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let i=s.length;for(;i-- >0;){const a=s[i],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new J("option "+a+" must be "+c,J.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new J("Unknown option "+a,J.ERR_BAD_OPTION)}}const Ca={assertOptions:Pw,validators:Po},Ft=Ca.validators;let vn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ah,response:new Ah}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Cn(this.defaults,r);const{transitional:s,paramsSerializer:i,headers:a}=r;s!==void 0&&Ca.assertOptions(s,{silentJSONParsing:Ft.transitional(Ft.boolean),forcedJSONParsing:Ft.transitional(Ft.boolean),clarifyTimeoutError:Ft.transitional(Ft.boolean)},!1),i!=null&&(T.isFunction(i)?r.paramsSerializer={serialize:i}:Ca.assertOptions(i,{encode:Ft.function,serialize:Ft.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ca.assertOptions(r,{baseUrl:Ft.spelling("baseURL"),withXsrfToken:Ft.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&T.merge(a.common,a[r.method]);a&&T.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),r.headers=rt.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let d,h=0,x;if(!c){const g=[Qh.bind(this),void 0];for(g.unshift(...l),g.push(...u),x=g.length,d=Promise.resolve(r);h<x;)d=d.then(g[h++],g[h++]);return d}x=l.length;let y=r;for(;h<x;){const g=l[h++],b=l[h++];try{y=g(y)}catch(k){b.call(this,k);break}}try{d=Qh.call(this,y)}catch(g){return Promise.reject(g)}for(h=0,x=u.length;h<x;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=Cn(this.defaults,t);const r=k0(t.baseURL,t.url,t.allowAbsoluteUrls);return b0(r,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){vn.prototype[t]=function(r,s){return this.request(Cn(s||{},{method:t,url:r,data:(s||{}).data}))}});T.forEach(["post","put","patch"],function(t){function r(s){return function(a,o,l){return this.request(Cn(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}vn.prototype[t]=r(),vn.prototype[t+"Form"]=r(!0)});let Lw=class L0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const s=this;this.promise.then(i=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](i);s._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{s.subscribe(l),a=l}).then(i);return o.cancel=function(){s.unsubscribe(a)},o},t(function(a,o,l){s.reason||(s.reason=new Cs(a,o,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new L0(function(i){t=i}),cancel:t}}};function Rw(e){return function(r){return e.apply(null,r)}}function Tw(e){return T.isObject(e)&&e.isAxiosError===!0}const Dc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dc).forEach(([e,t])=>{Dc[t]=e});function R0(e){const t=new vn(e),r=l0(vn.prototype.request,t);return T.extend(r,vn.prototype,t,{allOwnKeys:!0}),T.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return R0(Cn(e,i))},r}const q=R0(Bi);q.Axios=vn;q.CanceledError=Cs;q.CancelToken=Lw;q.isCancel=N0;q.VERSION=P0;q.toFormData=Eo;q.AxiosError=J;q.Cancel=q.CanceledError;q.all=function(t){return Promise.all(t)};q.spread=Rw;q.isAxiosError=Tw;q.mergeConfig=Cn;q.AxiosHeaders=rt;q.formToJSON=e=>j0(T.isHTMLForm(e)?new FormData(e):e);q.getAdapter=E0.getAdapter;q.HttpStatusCode=Dc;q.default=q;const{Axios:Fj,AxiosError:Aj,CanceledError:Dj,isCancel:Bj,CancelToken:$j,VERSION:zj,all:Ij,Cancel:qj,isAxiosError:Wj,spread:Vj,toFormData:Uj,AxiosHeaders:Hj,HttpStatusCode:Qj,formToJSON:Yj,getAdapter:Kj,mergeConfig:Gj}=q,G=cb()(db((e,t)=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null},search_filters:{location:null,check_in:null,check_out:null,guest_count:null,price_min:null,price_max:null,property_types:[],amenities:[],sort_by:"recommended"},booking_cart:{listing_id:null,check_in:null,check_out:null,guest_count:null,special_requests:null},user_role:{role:null},notification_count:{unread_count:0},websocket_connection:null,websocket_connected:!1,currentLanguage:"ar",currentCurrency:"LYD",login_user:async(r,s)=>{var i,a;e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null}}));try{const o=await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/login",{email:r,password:s},{headers:{"Content-Type":"application/json"}}),{user:l,token:c}=o.data;e(()=>({authentication_state:{current_user:l,auth_token:c,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null},user_role:{role:l.role}})),t().connect_websocket(c)}catch(o){const l=((a=(i=o.response)==null?void 0:i.data)==null?void 0:a.message)||o.message||"Login failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:l}})),new Error(l)}},logout_user:()=>{t().disconnect_websocket(),e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null},user_role:{role:null}}))},register_user:async r=>{var s,i;e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null}}));try{const a=await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/register",r,{headers:{"Content-Type":"application/json"}}),{user:o,token:l}=a.data;e(()=>({authentication_state:{current_user:o,auth_token:l,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null},user_role:{role:o.role}})),t().connect_websocket(l)}catch(a){const o=((i=(s=a.response)==null?void 0:s.data)==null?void 0:i.message)||a.message||"Registration failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:o}})),new Error(o)}},initialize_auth:async()=>{const{auth_token:r}=t().authentication_state;if(!r){e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null}}));return}try{const s=await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/verify",{headers:{Authorization:`Bearer ${r}`}}),{user:i}=s.data;e(()=>({authentication_state:{current_user:i,auth_token:r,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null},user_role:{role:i.role}})),t().connect_websocket(r)}catch(s){console.error("Auth initialization error:",s),e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null},user_role:{role:null}}))}},clear_auth_error:()=>{e(r=>({authentication_state:{...r.authentication_state,error_message:null}}))},update_search_filters:r=>{e(s=>({search_filters:{...s.search_filters,...r}}))},reset_search_filters:()=>{e(()=>({search_filters:{location:null,check_in:null,check_out:null,guest_count:null,price_min:null,price_max:null,property_types:[],amenities:[],sort_by:"recommended"}}))},update_booking_cart:r=>{e(s=>({booking_cart:{...s.booking_cart,...r}}))},clear_booking_cart:()=>{e(()=>({booking_cart:{listing_id:null,check_in:null,check_out:null,guest_count:null,special_requests:null}}))},update_user_role:r=>{e(()=>({user_role:{role:r}}))},update_notification_count:r=>{e(()=>({notification_count:{unread_count:r}}))},increment_notification_count:()=>{e(r=>({notification_count:{unread_count:r.notification_count.unread_count+1}}))},decrement_notification_count:()=>{e(r=>({notification_count:{unread_count:Math.max(0,r.notification_count.unread_count-1)}}))},setLanguage:r=>{e(()=>({currentLanguage:r}))},connect_websocket:r=>{t().websocket_connection&&t().disconnect_websocket();const s=_a("https://123airbnb-but-just-for-libya.launchpulse.ai",{auth:{token:r}});s.on("connect",()=>{e(()=>({websocket_connected:!0}))}),s.on("disconnect",()=>{e(()=>({websocket_connected:!1}))}),e(()=>({websocket_connection:s})),t().subscribe_to_events()},disconnect_websocket:()=>{const r=t().websocket_connection;r&&(r.disconnect(),e(()=>({websocket_connection:null,websocket_connected:!1})))},subscribe_to_events:()=>{const r=t().websocket_connection;r&&(r.on("message:new",()=>{t().increment_notification_count()}),r.on("booking:request",()=>{t().increment_notification_count()}),r.on("booking:confirmed",()=>{t().increment_notification_count()}),r.on("booking:declined",()=>{t().increment_notification_count()}),r.on("booking:cancelled",()=>{t().increment_notification_count()}))}}),{name:"libyastay-storage",storage:Yp(()=>localStorage),partialize:e=>({authentication_state:{current_user:e.authentication_state.current_user,auth_token:e.authentication_state.auth_token,authentication_status:{is_authenticated:e.authentication_state.authentication_status.is_authenticated,is_loading:!1},error_message:null},search_filters:e.search_filters,booking_cart:e.booking_cart,user_role:e.user_role,notification_count:e.notification_count})}));class Ow extends C.Component{constructor(){super(...arguments);Zu(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){console.error("Uncaught error:",r,s)}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:n.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:n.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:n.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Something went wrong"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>window.location.reload(),children:"Refresh Page"})}),!1]})})})}):this.props.children}}const Mw=()=>{const[e,t]=C.useState(!1),[r,s]=C.useState(!1),i=G(g=>g.authentication_state.current_user),a=G(g=>g.authentication_state.authentication_status.is_authenticated),o=G(g=>g.notification_count.unread_count),l=G(g=>g.logout_user),c=Ln(),u=()=>{l(),s(!1)},d=()=>{t(!e)},h=()=>{t(!1)},x=()=>{s(!r)},y=()=>{s(!1)};return tn.useEffect(()=>{const g=()=>{r&&y()};return document.addEventListener("click",g),()=>{document.removeEventListener("click",g)}},[r]),tn.useEffect(()=>{h()},[c]),n.jsx(n.Fragment,{children:n.jsxs("nav",{className:"bg-white shadow-md sticky top-0 z-50",children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(H,{to:"/",className:"flex-shrink-0 flex items-center",onClick:h,children:n.jsx("div",{className:"bg-red-600 text-white font-bold text-xl px-3 py-1 rounded",children:"LibyaStay"})}),n.jsxs("div",{className:"hidden md:ml-6 md:flex md:space-x-8",children:[n.jsx(H,{to:"/",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${c.pathname==="/"?"border-red-600 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,onClick:h,children:"Home"}),n.jsx(H,{to:"/search",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${c.pathname==="/search"?"border-red-600 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,onClick:h,children:"Search"}),a&&(i==null?void 0:i.role)==="host"&&n.jsx(H,{to:"/dashboard/listings",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${c.pathname==="/dashboard/listings"?"border-red-600 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,onClick:h,children:"Listings"}),a&&n.jsx(H,{to:"/messages",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${c.pathname==="/messages"?"border-red-600 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,onClick:h,children:"Messages"})]})]}),n.jsxs("div",{className:"flex items-center",children:[a?n.jsxs("div",{className:"flex items-center",children:[n.jsxs(H,{to:"/notifications",className:"p-1 rounded-full text-gray-600 hover:text-gray-900 focus:outline-none relative",onClick:h,children:[n.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),o>0&&n.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:o})]}),n.jsxs("div",{className:"ml-3 relative",children:[n.jsx("div",{children:n.jsx("button",{onClick:x,className:"flex text-sm rounded-full focus:outline-none","aria-expanded":r,"aria-haspopup":"true",children:n.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:i!=null&&i.profile_picture_url?n.jsx("img",{className:"h-8 w-8 rounded-full",src:i.profile_picture_url,alt:i.name}):n.jsx("span",{className:"text-gray-700 font-medium",children:i==null?void 0:i.name.charAt(0)})})})}),r&&n.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:[n.jsxs("div",{className:"px-4 py-2 border-b border-gray-200",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:i==null?void 0:i.name}),n.jsx("p",{className:"text-xs text-gray-500 truncate",children:i==null?void 0:i.email})]}),n.jsx(H,{to:"/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:y,children:"Dashboard"}),n.jsx(H,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:y,children:"Settings"}),(i==null?void 0:i.emergency_contact_name)&&n.jsxs("div",{className:"px-4 py-2 text-xs text-red-600 bg-red-50",children:[n.jsx("span",{className:"font-medium",children:"Emergency:"})," ",i.emergency_contact_name]}),n.jsx("button",{onClick:u,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Sign out"})]})]})]}):n.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[n.jsx(H,{to:"/login",className:"text-gray-700 hover:text-gray-900 text-sm font-medium",onClick:h,children:"Login"}),n.jsx(H,{to:"/register",className:"bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700",onClick:h,children:"Register"})]}),n.jsx("div",{className:"md:hidden flex items-center ml-4",children:n.jsxs("button",{onClick:d,className:"inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none","aria-expanded":"false",children:[n.jsx("span",{className:"sr-only",children:"Open main menu"}),e?n.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):n.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})]})}),e&&n.jsx("div",{className:"md:hidden",children:n.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[n.jsx(H,{to:"/",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${c.pathname==="/"?"bg-red-50 border-red-600 text-red-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:h,children:"Home"}),n.jsx(H,{to:"/search",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${c.pathname==="/search"?"bg-red-50 border-red-600 text-red-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:h,children:"Search"}),a&&(i==null?void 0:i.role)==="host"&&n.jsx(H,{to:"/dashboard/listings",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${c.pathname==="/dashboard/listings"?"bg-red-50 border-red-600 text-red-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:h,children:"Listings"}),a&&n.jsx(H,{to:"/messages",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${c.pathname==="/messages"?"bg-red-50 border-red-600 text-red-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:h,children:"Messages"}),a?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"border-t border-gray-200 pt-4 pb-3",children:[n.jsxs("div",{className:"flex items-center px-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:i!=null&&i.profile_picture_url?n.jsx("img",{className:"h-10 w-10 rounded-full",src:i.profile_picture_url,alt:i.name}):n.jsx("span",{className:"text-gray-700 font-medium",children:i==null?void 0:i.name.charAt(0)})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("div",{className:"text-base font-medium text-gray-800",children:i==null?void 0:i.name}),n.jsx("div",{className:"text-sm font-medium text-gray-500",children:i==null?void 0:i.email}),(i==null?void 0:i.emergency_contact_name)&&n.jsxs("div",{className:"text-xs text-red-600 mt-1",children:[n.jsx("span",{className:"font-medium",children:"Emergency:"})," ",i.emergency_contact_name]})]})]}),n.jsxs("div",{className:"mt-3 space-y-1",children:[n.jsx(H,{to:"/dashboard",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",onClick:h,children:"Dashboard"}),n.jsx(H,{to:"/settings",className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",onClick:h,children:"Settings"}),n.jsx("button",{onClick:()=>{u(),h()},className:"block w-full text-left px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:"Sign out"})]})]})}):n.jsxs(n.Fragment,{children:[n.jsx(H,{to:"/login",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800",onClick:h,children:"Login"}),n.jsx(H,{to:"/register",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800",onClick:h,children:"Register"})]})]})})]})})},Fw=()=>{const e=G(s=>s.currentLanguage||"ar"),t=G(s=>s.setLanguage),r=s=>{t(s)};return n.jsx(n.Fragment,{children:n.jsx("footer",{className:"bg-gray-900 text-gray-300 mt-auto","aria-label":"Site footer",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-bold text-white",lang:"ar",children:"ليبيا ستاي"}),n.jsx("p",{className:"text-sm",children:e==="ar"?"منصة حجز أماكن الإقامة في ليبيا، مكرسة لربط المسافرين بمضيفي المواقع المحلية لتجربة تراثية حقيقية.":"LibyaStay connects travelers with local hosts for authentic Libyan accommodation experiences."}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-semibold text-white",children:"Contact Us"}),n.jsx("p",{children:"123 Tripoli Street"}),n.jsx("p",{children:"Tripoli, Libya"}),n.jsx("p",{children:"+218 91 234 5678"}),n.jsx("p",{children:"support@libyastay.com"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-bold text-white",children:e==="ar"?"الروابط القانونية والدعم":"Legal & Support"}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:n.jsx(H,{to:"/terms",className:"hover:text-white transition-colors",children:e==="ar"?"شروط الخدمة":"Terms of Service"})}),n.jsx("li",{children:n.jsx(H,{to:"/privacy",className:"hover:text-white transition-colors",children:e==="ar"?"سياسة الخصوصية":"Privacy Policy"})}),n.jsx("li",{children:n.jsx(H,{to:"/help",className:"hover:text-white transition-colors",children:e==="ar"?"مركز المساعدة":"Help Center"})}),n.jsx("li",{children:n.jsx(H,{to:"/safety",className:"hover:text-white transition-colors",children:e==="ar"?"إرشادات السلامة":"Safety Guidelines"})}),n.jsx("li",{children:n.jsx(H,{to:"/contact",className:"hover:text-white transition-colors",children:e==="ar"?"الإبلاغ عن إساءة":"Report Abuse"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-bold text-white",children:e==="ar"?"تابعنا":"Follow Us"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Facebook",children:[n.jsx("span",{className:"sr-only",children:"Facebook"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:n.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),n.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Instagram",children:[n.jsx("span",{className:"sr-only",children:"Instagram"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:n.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),n.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Twitter",children:[n.jsx("span",{className:"sr-only",children:"Twitter"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:n.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]}),n.jsxs("div",{className:"text-sm mt-4",children:[n.jsx("p",{className:"font-semibold text-white",children:e==="ar"?"الشراكات":"Partnerships"}),n.jsx("p",{children:e==="ar"?"في تعاون مع المؤسسات المحلية":"In partnership with local institutions"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-bold text-white",children:e==="ar"?"الإعدادات":"Settings"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"language-select",className:"block text-sm font-medium text-gray-400 mb-1",children:e==="ar"?"اللغة":"Language"}),n.jsxs("select",{id:"language-select",value:e,onChange:s=>r(s.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-700 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md bg-gray-800 text-white",children:[n.jsx("option",{value:"ar",children:"العربية"}),n.jsx("option",{value:"en",children:"English"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:e==="ar"?"العملة":"Currency"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"mr-2",children:"LYD"}),n.jsxs("svg",{className:"h-4 w-6",viewBox:"0 0 30 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("rect",{width:"30",height:"20",fill:"#CE1126"}),n.jsx("rect",{y:"6.66663",width:"30",height:"6.66667",fill:"black"}),n.jsx("rect",{y:"13.3334",width:"30",height:"6.66667",fill:"#007A3D"})]})]})]})]})]})]}),n.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-800 text-center text-sm",children:[n.jsxs("p",{children:["© ",new Date().getFullYear()," LibyaStay. ",e==="ar"?"جميع الحقوق محفوظة.":"All rights reserved."]}),n.jsx("div",{className:"mt-2 flex justify-center space-x-6",children:n.jsx("span",{children:e==="ar"?"منصة Libyan Market":"Libyan Market Platform"})})]})]})})})},Aw=()=>{const e=dr(),t=G(y=>y.update_search_filters),r=G(y=>y.authentication_state.authentication_status.is_authenticated),[s,i]=C.useState({location:"",check_in:"",check_out:"",guest_count:1}),{data:a,isLoading:o,error:l}=le({queryKey:["featuredProperties"],queryFn:async()=>(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties",{params:{limit:6,sort_by:"created_at"}})).data.properties,staleTime:5*60*1e3,retry:1}),{data:c,isLoading:u,error:d}=le({queryKey:["testimonials"],queryFn:async()=>(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/reviews",{params:{limit:3,sort_by:"created_at"}})).data,staleTime:10*60*1e3,retry:1}),h=y=>{y.preventDefault(),t({location:s.location||null,check_in:s.check_in||null,check_out:s.check_out||null,guest_count:s.guest_count||null}),e("/search")},x=(y,g)=>{i(b=>({...b,[y]:g}))};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),n.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-yellow-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),n.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900/50 via-transparent to-slate-900/50"}),n.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 pt-32 pb-32 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-white/10 text-white backdrop-blur-sm border border-white/20",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Trusted by 1000+ travelers"]})}),n.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-extrabold text-white leading-tight mb-8",children:["Discover",n.jsx("span",{className:"block bg-gradient-to-r from-purple-400 via-pink-400 to-yellow-400 bg-clip-text text-transparent",children:"Libya's Hidden Gems"})]}),n.jsx("p",{className:"text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto mb-12 leading-relaxed",children:"Experience authentic Libyan hospitality with our curated collection of unique accommodations across the country's most beautiful destinations."})]}),n.jsx("div",{className:"max-w-5xl mx-auto mt-16",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl border border-white/20 shadow-2xl p-8",children:[n.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[n.jsxs("button",{className:"px-6 py-3 text-sm font-semibold text-white bg-gradient-to-r from-purple-500 to-pink-500 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[n.jsx("svg",{className:"w-4 h-4 inline mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Rent"]}),n.jsxs("button",{className:"px-6 py-3 text-sm font-semibold text-white/70 hover:text-white bg-white/10 hover:bg-white/20 rounded-full transition-all duration-300",children:[n.jsx("svg",{className:"w-4 h-4 inline mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"Buy"]}),n.jsxs("button",{className:"px-6 py-3 text-sm font-semibold text-white/70 hover:text-white bg-white/10 hover:bg-white/20 rounded-full transition-all duration-300",children:[n.jsx("svg",{className:"w-4 h-4 inline mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Sell"]})]}),n.jsxs("form",{onSubmit:h,className:"space-y-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-6 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 12.414a6 6 0 111.414-1.414l4.243 4.243a1 1 0 01-1.414 1.414z"})})}),n.jsx("input",{type:"text",id:"location",placeholder:"Where do you want to stay? (City, neighborhood, or landmark)",value:s.location,onChange:y=>x("location",y.target.value),className:"w-full pl-16 pr-6 py-5 text-lg bg-white/90 backdrop-blur-sm border border-white/30 rounded-2xl focus:ring-4 focus:ring-purple-500/30 focus:border-purple-400 text-gray-900 placeholder-gray-500 shadow-lg transition-all duration-300",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Check-in"}),n.jsx("input",{type:"date",id:"check_in",value:s.check_in,onChange:y=>x("check_in",y.target.value),className:"w-full px-4 py-4 bg-white/90 backdrop-blur-sm border border-white/30 rounded-xl focus:ring-4 focus:ring-purple-500/30 focus:border-purple-400 text-gray-900 shadow-lg transition-all duration-300",required:!0})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Check-out"}),n.jsx("input",{type:"date",id:"check_out",value:s.check_out,onChange:y=>x("check_out",y.target.value),className:"w-full px-4 py-4 bg-white/90 backdrop-blur-sm border border-white/30 rounded-xl focus:ring-4 focus:ring-purple-500/30 focus:border-purple-400 text-gray-900 shadow-lg transition-all duration-300",required:!0})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Guests"}),n.jsx("select",{id:"guests",value:s.guest_count,onChange:y=>x("guest_count",parseInt(y.target.value)),className:"w-full px-4 py-4 bg-white/90 backdrop-blur-sm border border-white/30 rounded-xl focus:ring-4 focus:ring-purple-500/30 focus:border-purple-400 text-gray-900 shadow-lg transition-all duration-300",children:[1,2,3,4,5,6,7,8].map(y=>n.jsxs("option",{value:y,children:[y," ",y===1?"Guest":"Guests"]},y))})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-4 px-6 rounded-xl transition-all duration-300 flex items-center justify-center shadow-lg hover:shadow-xl transform hover:scale-105",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search"]})})]})]})]})}),n.jsxs("div",{className:"mt-20 grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[n.jsx("div",{className:"text-center group",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:[n.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:"500+"}),n.jsx("div",{className:"text-white/80 font-medium",children:"Properties Listed"})]})}),n.jsx("div",{className:"text-center group",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:[n.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent mb-2",children:"50+"}),n.jsx("div",{className:"text-white/80 font-medium",children:"Cities Covered"})]})}),n.jsx("div",{className:"text-center group",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:[n.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent mb-2",children:"1000+"}),n.jsx("div",{className:"text-white/80 font-medium",children:"Happy Guests"})]})})]})]})]}),n.jsx("div",{className:"py-16 bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Featured Destinations"}),n.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Discover amazing places to stay across Libya"})]}),o?n.jsx("div",{className:"flex justify-center mt-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-600"})}):l?n.jsx("div",{className:"text-center mt-12 text-red-600",children:"Failed to load featured destinations. Please try again later."}):n.jsx("div",{className:"mt-12 grid gap-5 max-w-lg mx-auto lg:grid-cols-3 lg:max-w-none",children:a==null?void 0:a.map(y=>n.jsxs("div",{className:"flex flex-col rounded-lg shadow-lg overflow-hidden",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"h-48 w-full bg-gray-300 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500",children:"Property Image"})})}),n.jsxs("div",{className:"flex-1 bg-white p-6 flex flex-col justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm font-medium text-green-600",children:[y.city,y.neighborhood?`, ${y.neighborhood}`:""]}),n.jsxs(H,{to:`/properties/${y.property_id}`,className:"block mt-2",children:[n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:y.title}),n.jsx("p",{className:"mt-3 text-base text-gray-500 line-clamp-3",children:y.description})]})]}),n.jsxs("div",{className:"mt-6 flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsxs("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[y.guest_capacity," guests"]})}),n.jsx("div",{className:"ml-3",children:n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[y.base_price_per_night," LYD",n.jsx("span",{className:"text-gray-500",children:"/night"})]})})]})]})]},y.property_id))})]})}),n.jsx("div",{className:"py-16 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"lg:text-center",children:[n.jsx("h2",{className:"text-base text-green-600 font-semibold tracking-wide uppercase",children:"How It Works"}),n.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"For Travelers & Hosts"})]}),n.jsx("div",{className:"mt-16",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"For Travelers"}),n.jsx("div",{className:"space-y-10",children:[{title:"Search & Discover",description:"Browse our extensive collection of accommodations in Libyan cities."},{title:"Book Your Stay",description:"Secure your accommodation with our simple booking process."},{title:"Enjoy Your Trip",description:"Experience authentic Libyan hospitality and culture."}].map((y,g)=>n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-green-500 text-white font-bold",children:g+1})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h4",{className:"text-lg leading-6 font-medium text-gray-900",children:y.title}),n.jsx("p",{className:"mt-2 text-base text-gray-500",children:y.description})]})]},g))}),n.jsx("div",{className:"mt-8",children:n.jsx(H,{to:"/search",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700",children:"Find Your Stay"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"For Hosts"}),n.jsx("div",{className:"space-y-10",children:[{title:"List Your Property",description:"Create a detailed listing of your space with photos and amenities."},{title:"Receive Booking Requests",description:"Get notified when travelers want to book your property."},{title:"Earn Income",description:"Welcome guests and earn money from your listing."}].map((y,g)=>n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-red-500 text-white font-bold",children:g+1})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h4",{className:"text-lg leading-6 font-medium text-gray-900",children:y.title}),n.jsx("p",{className:"mt-2 text-base text-gray-500",children:y.description})]})]},g))}),n.jsx("div",{className:"mt-8",children:r?n.jsx(H,{to:"/listings/create",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:"Add Your Property"}):n.jsx(H,{to:"/register",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:"Become a Host"})})]})]})})]})}),n.jsx("div",{className:"py-16 bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Your Safety is Our Priority"}),n.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"We ensure secure and trustworthy experiences for all users"})]}),n.jsx("div",{className:"mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Verified Listings",description:"All properties are verified for accuracy and safety"},{title:"Secure Payments",description:"Safe and transparent payment processing"},{title:"24/7 Support",description:"Round-the-clock assistance for all your needs"},{title:"Local Community",description:"Authentic experiences with Libyan hosts"}].map((y,g)=>n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-green-500 text-white",children:n.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:y.title}),n.jsx("p",{className:"mt-2 text-base text-gray-500",children:y.description})]},g))})]})}),n.jsx("div",{className:"py-16 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"What Our Guests Say"}),n.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Hear from travelers who've experienced Libya through LibyaStay"})]}),u?n.jsx("div",{className:"flex justify-center mt-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-600"})}):d?n.jsx("div",{className:"text-center mt-12 text-red-600",children:"Failed to load testimonials. Please try again later."}):n.jsx("div",{className:"mt-12 grid gap-8 lg:grid-cols-3",children:c==null?void 0:c.map(y=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[n.jsx("div",{className:"flex items-center",children:[...Array(5)].map((g,b)=>n.jsx("svg",{className:`h-5 w-5 ${b<y.overall_rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},b))}),n.jsx("blockquote",{className:"mt-4",children:n.jsx("p",{className:"text-base text-gray-700",children:y.comment||"This was an amazing experience. The host was very welcoming and the place was exactly as described."})}),n.jsxs("div",{className:"mt-6 flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-600 font-bold",children:"U"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Anonymous Traveler"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Verified Guest"})]})]})]},y.review_id))})]})}),n.jsx("div",{className:"py-16 bg-gradient-to-r from-green-700 to-red-700",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-extrabold text-white",children:"Ready to Experience Libya?"}),n.jsx("p",{className:"mt-4 text-lg text-green-100",children:"Join thousands of travelers and hosts on LibyaStay"}),n.jsxs("div",{className:"mt-10 flex justify-center space-x-4",children:[n.jsx(H,{to:"/search",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-green-700 bg-white hover:bg-green-50",children:"Find Your Stay"}),r?n.jsx(H,{to:"/listings/create",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:"Add Your Property"}):n.jsx(H,{to:"/register",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:"Become a Host"})]})]})})})]})},Dw=()=>{var E;const[e,t]=Ns(),r=G(w=>w.update_search_filters),[s,i]=C.useState(!1),[a,o]=C.useState(1),[l,c]=C.useState({location:e.get("location")||"",check_in:e.get("check_in")||"",check_out:e.get("check_out")||"",guest_count:e.get("guests")?parseInt(e.get("guests")||"1"):null,price_min:e.get("price_min")?parseFloat(e.get("price_min")||"0"):null,price_max:e.get("price_max")?parseFloat(e.get("price_max")||"0"):null,property_type:e.get("property_type")||"",amenities:e.get("amenities")?((E=e.get("amenities"))==null?void 0:E.split(","))||[]:[],instant_book:null,sort_by:e.get("sort_by")||"created_at"});C.useEffect(()=>{const w=e.get("amenities");w&&c(j=>({...j,amenities:w.split(",")}))},[e]),C.useEffect(()=>{r({location:l.location||null,check_in:l.check_in||null,check_out:l.check_out||null,guest_count:l.guest_count,price_min:l.price_min,price_max:l.price_max,property_types:l.property_type?[l.property_type]:[],amenities:l.amenities,sort_by:l.sort_by})},[l,r]);const u=async()=>{const w={limit:10,offset:(a-1)*10};return l.location&&(w.location=l.location),l.check_in&&(w.check_in=l.check_in),l.check_out&&(w.check_out=l.check_out),l.guest_count&&(w.guests=l.guest_count.toString()),l.price_min&&(w.price_min=l.price_min),l.price_max&&(w.price_max=l.price_max),l.property_type&&(w.property_type=l.property_type),l.amenities.length>0&&(w.amenities=l.amenities.join(",")),l.instant_book!==null&&(w.instant_book=l.instant_book.toString()),l.sort_by&&(w.sort_by=l.sort_by),(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties",{params:w})).data},{data:d,isLoading:h,error:x,refetch:y}=le({queryKey:["properties",l,a],queryFn:u,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),g=(w,j)=>{c(B=>({...B,[w]:j})),o(1);const v=new URLSearchParams(e.toString());j!==null&&j!==""?w==="amenities"?v.set("amenities",j.join(",")):v.set(w,j.toString()):v.delete(w),t(v)},b=w=>{const j=l.amenities.includes(w)?l.amenities.filter(v=>v!==w):[...l.amenities,w];g("amenities",j)},k=w=>{g("property_type",l.property_type===w?"":w)},p=()=>{c({location:"",check_in:"",check_out:"",guest_count:null,price_min:null,price_max:null,property_type:"",amenities:[],instant_book:null,sort_by:"created_at"}),t({}),o(1)},m=d?Math.ceil(d.total_count/10):1,f=a<m,N=a>1;return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Find Your Stay in Libya"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:d?`${d.total_count} properties found`:"Searching properties..."})]}),n.jsx("div",{className:"mt-4 flex md:mt-0",children:n.jsx("button",{onClick:()=>i(!s),className:"ml-3 inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s?"List View":"Map View"})})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[n.jsx("div",{className:"w-full lg:w-1/4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Filters"}),n.jsx("button",{onClick:p,className:"text-sm text-blue-600 hover:text-blue-800",children:"Reset all"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),n.jsx("input",{type:"text",id:"location",value:l.location,onChange:w=>g("location",w.target.value),placeholder:"City or neighborhood",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guests"}),n.jsxs("select",{value:l.guest_count||"",onChange:w=>g("guest_count",w.target.value?parseInt(w.target.value):null),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[n.jsx("option",{value:"",children:"Any number"}),[1,2,3,4,5,6,7,8].map(w=>n.jsxs("option",{value:w,children:[w," guest",w>1?"s":""]},w))]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price per night (LYD)"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{children:n.jsx("input",{type:"number",placeholder:"Min",value:l.price_min||"",onChange:w=>g("price_min",w.target.value?parseFloat(w.target.value):null),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})}),n.jsx("div",{children:n.jsx("input",{type:"number",placeholder:"Max",value:l.price_max||"",onChange:w=>g("price_max",w.target.value?parseFloat(w.target.value):null),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property type"}),n.jsx("div",{className:"space-y-2",children:["entire_place","private_room","shared_room"].map(w=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:`type-${w}`,name:"property-type",type:"checkbox",checked:l.property_type===w,onChange:()=>k(w),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:`type-${w}`,className:"ml-3 text-sm text-gray-700 capitalize",children:w.replace("_"," ")})]},w))})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amenities"}),n.jsx("div",{className:"space-y-2",children:["wifi","ac","kitchen","parking","laundry","tv","pool","gym","generator_power_backup","water_tank"].map(w=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:`amenity-${w}`,name:`amenity-${w}`,type:"checkbox",checked:l.amenities.includes(w),onChange:()=>b(w),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:`amenity-${w}`,className:"ml-3 text-sm text-gray-700 capitalize",children:w.replace(/_/g," ")})]},w))})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"instant-book",name:"instant-book",type:"checkbox",checked:l.instant_book===!0,onChange:w=>g("instant_book",w.target.checked?!0:null),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"instant-book",className:"ml-3 text-sm text-gray-700",children:"Instant book"})]})}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"sort-by",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort by"}),n.jsxs("select",{id:"sort-by",value:l.sort_by,onChange:w=>g("sort_by",w.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[n.jsx("option",{value:"created_at",children:"Newest"}),n.jsx("option",{value:"price_low_to_high",children:"Price: Low to High"}),n.jsx("option",{value:"price_high_to_low",children:"Price: High to Low"}),n.jsx("option",{value:"rating_high_to_low",children:"Rating"})]})]})]})}),n.jsx("div",{className:"w-full lg:w-3/4",children:h?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):x?n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading properties"}),n.jsx("div",{className:"mt-2 text-sm text-red-700",children:n.jsx("p",{children:x instanceof Error?x.message:"An error occurred while loading properties"})}),n.jsx("div",{className:"mt-4",children:n.jsx("button",{type:"button",onClick:()=>y(),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Try again"})})]})]})}):s?n.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),n.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Map View Coming Soon"}),n.jsx("p",{className:"mt-1 text-gray-500",children:"Interactive map view with property markers will be available in a future update."}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:()=>i(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to List View"})})]}):n.jsxs(n.Fragment,{children:[d&&d.properties.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.properties.map(w=>n.jsxs(H,{to:`/properties/${w.property_id}`,className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-md transition-shadow duration-300",children:[n.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-t-lg w-full h-48 flex items-center justify-center",children:n.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:w.title}),n.jsxs("p",{className:"text-sm text-gray-500",children:[w.city,w.neighborhood?`, ${w.neighborhood}`:""]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),n.jsx("span",{className:"ml-1 text-sm font-medium text-gray-900",children:"4.85"})]})]}),n.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[n.jsxs("span",{children:[w.guest_capacity," guests"]}),n.jsx("span",{className:"mx-2",children:"•"}),n.jsxs("span",{children:[w.bedrooms," bedroom",w.bedrooms!==1?"s":""]}),n.jsx("span",{className:"mx-2",children:"•"}),n.jsxs("span",{children:[w.bathrooms," bath"]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[w.has_power_backup&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Power Backup"}),w.has_water_tank&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Water Tank"}),w.instant_book&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Instant Book"})]}),n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[n.jsx("div",{children:n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[w.base_price_per_night," LYD ",n.jsx("span",{className:"text-sm font-normal text-gray-500",children:"night"})]})}),n.jsx("button",{className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Details"})]})]})]},w.property_id))}):n.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No properties found"}),n.jsx("p",{className:"mt-1 text-gray-500",children:"Try adjusting your search filters to find more properties."}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:p,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Reset all filters"})})]}),d&&d.total_count>10&&n.jsxs("div",{className:"mt-8 flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 rounded-lg shadow",children:[n.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[n.jsx("button",{onClick:()=>o(w=>Math.max(1,w-1)),disabled:!N,className:`relative inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${N?"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-300 bg-gray-100 border border-gray-200 cursor-not-allowed"}`,children:"Previous"}),n.jsx("button",{onClick:()=>o(w=>Math.min(m,w+1)),disabled:!f,className:`relative ml-3 inline-flex items-center px-4 py-2 text-sm font-medium rounded-md ${f?"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-300 bg-gray-100 border border-gray-200 cursor-not-allowed"}`,children:"Next"})]}),n.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[n.jsx("div",{children:n.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",n.jsx("span",{className:"font-medium",children:(a-1)*10+1})," to"," ",n.jsx("span",{className:"font-medium",children:Math.min(a*10,d.total_count)})," ","of ",n.jsx("span",{className:"font-medium",children:d.total_count})," results"]})}),n.jsx("div",{children:n.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[n.jsxs("button",{onClick:()=>o(w=>Math.max(1,w-1)),disabled:!N,className:`relative inline-flex items-center rounded-l-md px-2 py-2 ${N?"text-gray-400 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-200 bg-gray-100 border border-gray-200 cursor-not-allowed"}`,children:[n.jsx("span",{className:"sr-only",children:"Previous"}),n.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:Math.min(5,m)},(w,j)=>{let v;return m<=5||a<=3?v=j+1:a>=m-2?v=m-4+j:v=a-2+j,n.jsx("button",{onClick:()=>o(v),"aria-current":v===a?"page":void 0,className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${v===a?"z-10 bg-blue-600 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:outline-offset-0"}`,children:v},v)}),n.jsxs("button",{onClick:()=>o(w=>Math.min(m,w+1)),disabled:!f,className:`relative inline-flex items-center rounded-r-md px-2 py-2 ${f?"text-gray-400 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-200 bg-gray-100 border border-gray-200 cursor-not-allowed"}`,children:[n.jsx("span",{className:"sr-only",children:"Next"}),n.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})})]})})]})})};function nt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function lr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Bw(e,t){const r=nt(e);return isNaN(t)?lr(e,NaN):(r.setDate(r.getDate()+t),r)}const T0=6048e5,$w=864e5,O0=6e4,M0=36e5;let zw={};function Lo(){return zw}function _i(e,t){var l,c,u,d;const r=Lo(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=nt(e),a=i.getDay(),o=(a<s?7:0)+a-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ro(e){return _i(e,{weekStartsOn:1})}function F0(e){const t=nt(e),r=t.getFullYear(),s=lr(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=ro(s),a=lr(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=ro(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function no(e){const t=nt(e);return t.setHours(0,0,0,0),t}function Kh(e){const t=nt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Iw(e,t){const r=no(e),s=no(t),i=+r-Kh(r),a=+s-Kh(s);return Math.round((i-a)/$w)}function qw(e){const t=F0(e),r=lr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ro(r)}function A0(e){return lr(e,Date.now())}function so(e,t){const r=no(e),s=no(t);return+r==+s}function Ww(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Vw(e){if(!Ww(e)&&typeof e!="number")return!1;const t=nt(e);return!isNaN(Number(t))}function Uw(e){const t=nt(e),r=lr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Hw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qw=(e,t,r)=>{let s;const i=Hw[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function fl(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Yw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Kw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jw={date:fl({formats:Yw,defaultWidth:"full"}),time:fl({formats:Kw,defaultWidth:"full"}),dateTime:fl({formats:Gw,defaultWidth:"full"})},Xw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Zw=(e,t,r,s)=>Xw[e];function zs(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const e2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},t2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},r2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},n2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},s2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},i2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},a2=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},o2={ordinalNumber:a2,era:zs({values:e2,defaultWidth:"wide"}),quarter:zs({values:t2,defaultWidth:"wide",argumentCallback:e=>e-1}),month:zs({values:r2,defaultWidth:"wide"}),day:zs({values:n2,defaultWidth:"wide"}),dayPeriod:zs({values:s2,defaultWidth:"wide",formattingValues:i2,defaultFormattingWidth:"wide"})};function Is(e){return(t,r={})=>{const s=r.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?c2(l,h=>h.test(o)):l2(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function l2(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function c2(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function u2(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const i=s[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const d2=/^(\d+)(th|st|nd|rd)?/i,h2=/\d+/i,m2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},f2={any:[/^b/i,/^(a|c)/i]},p2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},x2={any:[/1/i,/2/i,/3/i,/4/i]},g2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},y2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},v2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},b2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},w2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},j2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},N2={ordinalNumber:u2({matchPattern:d2,parsePattern:h2,valueCallback:e=>parseInt(e,10)}),era:Is({matchPatterns:m2,defaultMatchWidth:"wide",parsePatterns:f2,defaultParseWidth:"any"}),quarter:Is({matchPatterns:p2,defaultMatchWidth:"wide",parsePatterns:x2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Is({matchPatterns:g2,defaultMatchWidth:"wide",parsePatterns:y2,defaultParseWidth:"any"}),day:Is({matchPatterns:v2,defaultMatchWidth:"wide",parsePatterns:b2,defaultParseWidth:"any"}),dayPeriod:Is({matchPatterns:w2,defaultMatchWidth:"any",parsePatterns:j2,defaultParseWidth:"any"})},_2={code:"en-US",formatDistance:Qw,formatLong:Jw,formatRelative:Zw,localize:o2,match:N2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function k2(e){const t=nt(e);return Iw(t,Uw(t))+1}function S2(e){const t=nt(e),r=+ro(t)-+qw(t);return Math.round(r/T0)+1}function D0(e,t){var d,h,x,y;const r=nt(e),s=r.getFullYear(),i=Lo(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(x=i.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,o=lr(e,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const l=_i(o,t),c=lr(e,0);c.setFullYear(s,0,a),c.setHours(0,0,0,0);const u=_i(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=u.getTime()?s:s-1}function C2(e,t){var l,c,u,d;const r=Lo(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=D0(e,t),a=lr(e,0);return a.setFullYear(i,0,s),a.setHours(0,0,0,0),_i(a,t)}function E2(e,t){const r=nt(e),s=+_i(r,t)-+C2(r,t);return Math.round(s/T0)+1}function ae(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const pr={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return ae(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ae(r+1,2)},d(e,t){return ae(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ae(e.getHours()%12||12,t.length)},H(e,t){return ae(e.getHours(),t.length)},m(e,t){return ae(e.getMinutes(),t.length)},s(e,t){return ae(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,r-3));return ae(i,t.length)}},On={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gh={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return pr.y(e,t)},Y:function(e,t,r,s){const i=D0(e,s),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return ae(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):ae(a,t.length)},R:function(e,t){const r=F0(e);return ae(r,t.length)},u:function(e,t){const r=e.getFullYear();return ae(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return ae(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return ae(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return pr.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return ae(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const i=E2(e,s);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):ae(i,t.length)},I:function(e,t,r){const s=S2(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):ae(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):pr.d(e,t)},D:function(e,t,r){const s=k2(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):ae(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ae(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ae(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return ae(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let i;switch(s===12?i=On.noon:s===0?i=On.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let i;switch(s>=17?i=On.evening:s>=12?i=On.afternoon:s>=4?i=On.morning:i=On.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return pr.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):pr.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):ae(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):ae(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):pr.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):pr.s(e,t)},S:function(e,t){return pr.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return Xh(s);case"XXXX":case"XX":return en(s);case"XXXXX":case"XXX":default:return en(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return Xh(s);case"xxxx":case"xx":return en(s);case"xxxxx":case"xxx":default:return en(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Jh(s,":");case"OOOO":default:return"GMT"+en(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Jh(s,":");case"zzzz":default:return"GMT"+en(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return ae(s,t.length)},T:function(e,t,r){const s=e.getTime();return ae(s,t.length)}};function Jh(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),a=s%60;return a===0?r+String(i):r+String(i)+t+ae(a,2)}function Xh(e,t){return e%60===0?(e>0?"-":"+")+ae(Math.abs(e)/60,2):en(e,t)}function en(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),i=ae(Math.trunc(s/60),2),a=ae(s%60,2);return r+i+t+a}const Zh=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},B0=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},P2=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return Zh(e,t);let a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Zh(s,t)).replace("{{time}}",B0(i,t))},L2={p:B0,P:P2},R2=/^D+$/,T2=/^Y+$/,O2=["D","DD","YY","YYYY"];function M2(e){return R2.test(e)}function F2(e){return T2.test(e)}function A2(e,t,r){const s=D2(e,t,r);if(console.warn(s),O2.includes(e))throw new RangeError(s)}function D2(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const B2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,z2=/^'([^]*?)'?$/,I2=/''/g,q2=/[a-zA-Z]/;function vr(e,t,r){var d,h,x,y;const s=Lo(),i=s.locale??_2,a=s.firstWeekContainsDate??((h=(d=s.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=s.weekStartsOn??((y=(x=s.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,l=nt(e);if(!Vw(l))throw new RangeError("Invalid time value");let c=t.match($2).map(g=>{const b=g[0];if(b==="p"||b==="P"){const k=L2[b];return k(g,i.formatLong)}return g}).join("").match(B2).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const b=g[0];if(b==="'")return{isToken:!1,value:W2(g)};if(Gh[b])return{isToken:!0,value:g};if(b.match(q2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(g=>{if(!g.isToken)return g.value;const b=g.value;(F2(b)||M2(b))&&A2(b,t,String(e));const k=Gh[b[0]];return k(l,b,i.localize,u)}).join("")}function W2(e){const t=e.match(z2);return t?t[1].replace(I2,"'"):e}function V2(e,t){const r=nt(e),s=nt(t);return+r<+s}function U2(e){return so(e,A0(e))}function H2(e,t){return Bw(e,-1)}function Q2(e){return so(e,H2(A0(e)))}function Y2(e,t){const s=X2(e);let i;if(s.date){const c=Z2(s.date,2);i=ej(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let o=0,l;if(s.time&&(o=tj(s.time),isNaN(o)))return new Date(NaN);if(s.timezone){if(l=rj(s.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+o+l)}const oa={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},K2=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,G2=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,J2=/^([+-])(\d{2})(?::?(\d{2}))?$/;function X2(e){const t={},r=e.split(oa.dateTimeDelimiter);let s;if(r.length>2)return t;if(/:/.test(r[0])?s=r[0]:(t.date=r[0],s=r[1],oa.timeZoneDelimiter.test(t.date)&&(t.date=e.split(oa.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){const i=oa.timezone.exec(s);i?(t.time=s.replace(i[1],""),t.timezone=i[1]):t.time=s}return t}function Z2(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(r);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,a=s[2]?parseInt(s[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((s[1]||s[2]).length)}}function ej(e,t){if(t===null)return new Date(NaN);const r=e.match(K2);if(!r)return new Date(NaN);const s=!!r[4],i=qs(r[1]),a=qs(r[2])-1,o=qs(r[3]),l=qs(r[4]),c=qs(r[5])-1;if(s)return oj(t,l,c)?nj(t,l,c):new Date(NaN);{const u=new Date(0);return!ij(t,a,o)||!aj(t,i)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(i,o)),u)}}function qs(e){return e?parseInt(e):1}function tj(e){const t=e.match(G2);if(!t)return NaN;const r=pl(t[1]),s=pl(t[2]),i=pl(t[3]);return lj(r,s,i)?r*M0+s*O0+i*1e3:NaN}function pl(e){return e&&parseFloat(e.replace(",","."))||0}function rj(e){if(e==="Z")return 0;const t=e.match(J2);if(!t)return 0;const r=t[1]==="+"?-1:1,s=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return cj(s,i)?r*(s*M0+i*O0):NaN}function nj(e,t,r){const s=new Date(0);s.setUTCFullYear(e,0,4);const i=s.getUTCDay()||7,a=(t-1)*7+r+1-i;return s.setUTCDate(s.getUTCDate()+a),s}const sj=[31,null,31,30,31,30,31,31,30,31,30,31];function $0(e){return e%400===0||e%4===0&&e%100!==0}function ij(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(sj[t]||($0(e)?29:28))}function aj(e,t){return t>=1&&t<=($0(e)?366:365)}function oj(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function lj(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function cj(e,t){return t>=0&&t<=59}const uj=()=>{var Gu,Ju;const{property_id:e}=Du(),[t]=Ns(),r=G(z=>z.authentication_state.authentication_status.is_authenticated),s=G(z=>z.authentication_state.current_user),i=G(z=>z.authentication_state.auth_token),a=G(z=>z.booking_cart),[o,l]=C.useState(0),[c,u]=C.useState(!1),[d,h]=C.useState(t.get("check_in")||a.check_in),[x,y]=C.useState(t.get("check_out")||a.check_out),[g,b]=C.useState(t.get("guests")?parseInt(t.get("guests")):a.guest_count||1),[k,p]=C.useState(""),[m,f]=C.useState(!1),[N,E]=C.useState(!1),[w,j]=C.useState({start:null,end:null}),{data:v,isLoading:B,error:A}=le({queryKey:["property",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}`)).data,enabled:!!e}),{data:Y=[]}=le({queryKey:["property-photos",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/photos`)).data,enabled:!!e}),{data:M}=le({queryKey:["host",v==null?void 0:v.host_id],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${v==null?void 0:v.host_id}`)).data,enabled:!!(v!=null&&v.host_id)}),{data:L=[]}=le({queryKey:["property-reviews",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/reviews`)).data,enabled:!!e}),{data:S=[],refetch:P}=le({queryKey:["property-availability",e,w.start,w.end],queryFn:async()=>{const z=new URLSearchParams;return w.start&&z.append("start_date",w.start),w.end&&z.append("end_date",w.end),(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/availability?${z}`)).data},enabled:!!e&&!!w.start&&!!w.end}),F=v!=null&&v.amenities?v.amenities.split(",").map(z=>z.trim()):[],Q=d&&x?Math.max(0,Math.ceil((new Date(x).getTime()-new Date(d).getTime())/(1e3*60*60*24))):0,D=v&&Q>0?v.base_price_per_night*Q:0,O=D*.1,$=D+O,V=()=>{if(!d||!x)return!1;const z=new Date(d),re=new Date(x);for(let Ce=new Date(z);Ce<re;Ce.setDate(Ce.getDate()+1)){const st=vr(Ce,"yyyy-MM-dd"),it=S.find(Es=>Es.date===st);if(!it||!it.is_available)return!1}return!0},R=z=>{l(z),u(!0)},se=()=>{u(!1)};C.useEffect(()=>{if(d&&x){const z=new Date(d),re=new Date(x),Ce=new Date(z);Ce.setMonth(Ce.getMonth()-1);const st=new Date(re);st.setMonth(st.getMonth()+1),j({start:vr(Ce,"yyyy-MM-dd"),end:vr(st,"yyyy-MM-dd")})}},[d,x]),C.useEffect(()=>{w.start&&w.end&&P()},[w,P]);const ce=async()=>{if(!(!v||!s||!i))try{const z={property_id:v.property_id,guest_id:s.user_id,host_id:v.host_id,check_in:d,check_out:x,guest_count:g,total_price:$,service_fee:O,special_requests:k,status:"pending"};await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings",z,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}}),h(null),y(null),b(1),p(""),f(!1),alert("Booking request submitted successfully!")}catch(z){console.error("Booking error:",z),alert("Failed to submit booking request. Please try again.")}},Ot=async()=>{if(!v||!s||!i){alert("You need to be logged in to contact the host.");return}try{const z={guest_id:s.user_id,host_id:v.host_id};await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/conversations",z,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}}),alert("Messaging initiated! You can now communicate with the host.")}catch(z){console.error("Messaging error:",z),alert("Failed to initiate messaging. Please try again.")}},me=(()=>{if(L.length===0)return null;const z={cleanliness:0,accuracy:0,communication:0,location:0,check_in:0,value:0,overall:0};return L.forEach(re=>{z.cleanliness+=re.cleanliness_rating,z.accuracy+=re.accuracy_rating,z.communication+=re.communication_rating,z.location+=re.location_rating,z.check_in+=re.check_in_rating,z.value+=re.value_rating,z.overall+=re.overall_rating}),{cleanliness:z.cleanliness/L.length,accuracy:z.accuracy/L.length,communication:z.communication/L.length,location:z.location/L.length,check_in:z.check_in/L.length,value:z.value/L.length,overall:z.overall/L.length}})(),Ro=z=>n.jsxs("div",{className:"flex",children:[[...Array(5)].map((re,Ce)=>n.jsx("svg",{className:`w-5 h-5 ${Ce<Math.floor(z)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Ce)),n.jsx("span",{className:"ml-1 text-sm text-gray-600",children:z.toFixed(1)})]}),I0=z=>{switch(z.toLowerCase()){case"wifi":return n.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})});case"ac":case"air conditioning":return n.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15c0-2.8 2.2-5 5-5h11c1.7 0 3 1.3 3 3 0 .4-.1.8-.3 1.1l-4.4 7.9c-.6 1-1.7 1.6-2.9 1.6H8c-2.8 0-5-2.2-5-5z"})});case"kitchen":return n.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})});case"parking":return n.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})});case"generator":return n.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})});case"water tank":return n.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})});default:return n.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}},To=z=>{const re=vr(z,"yyyy-MM-dd"),Ce=S.find(Rn=>Rn.date===re);let st=!0,it=!1;if(d&&x){const Rn=new Date(d),Oo=new Date(x);(so(z,Rn)||so(z,Oo)||z>Rn&&z<Oo)&&(it=!0)}Ce&&(st=Ce.is_available);const mr=V2(z,new Date);let Ps="bg-white";return it?Ps="bg-blue-100":(!st||mr)&&(Ps="bg-gray-100"),n.jsx("button",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm ${Ps} ${st&&!mr&&!it?"hover:bg-blue-50 cursor-pointer":"cursor-not-allowed"}`,onClick:()=>{!st||mr||it||(d?x?(h(re),y(null)):new Date(re)>new Date(d)?y(re):(y(d),h(re)):h(re))},disabled:!st||mr||it,children:vr(z,"d")},re)},q0=()=>{const z=[],re=new Date,Ce=new Date(re.getFullYear(),re.getMonth(),1),st=new Date(re.getFullYear(),re.getMonth()+2,0),it=new Date(Ce);it.setMonth(it.getMonth()-1);const Es=new Date(it.getFullYear(),it.getMonth()+1,0),mr=new Date(Ce);mr.setMonth(mr.getMonth()+1);const Ps=Es.getDay();for(let wt=Ps;wt>0;wt--){const Ht=new Date(Es);Ht.setDate(Ht.getDate()-wt+1),z.push(To(Ht))}const Rn=st.getDate();for(let wt=1;wt<=Rn;wt++){const Ht=new Date(Ce);Ht.setDate(wt),z.push(To(Ht))}const W0=42-z.length;for(let wt=1;wt<=W0;wt++){const Ht=new Date(mr);Ht.setDate(wt),z.push(To(Ht))}return z};return B?n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):A?n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Property Not Found"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find the property you're looking for."}),n.jsx(H,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Browse Properties"})]})})}):n.jsx(n.Fragment,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c&&n.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:[n.jsx("button",{onClick:se,className:"absolute top-4 right-4 text-white text-3xl",children:"×"}),n.jsx("button",{onClick:()=>l(z=>z>0?z-1:Y.length-1),className:"absolute left-4 text-white text-4xl",disabled:Y.length<=1,children:"‹"}),n.jsx("button",{onClick:()=>l(z=>z<Y.length-1?z+1:0),className:"absolute right-4 text-white text-4xl",disabled:Y.length<=1,children:"›"}),n.jsx("img",{src:(Gu=Y[o])==null?void 0:Gu.photo_url,alt:"Property",className:"max-h-full max-w-full object-contain"})]}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("div",{className:"md:col-span-2",children:Y.length>0?n.jsx("img",{src:(Ju=Y[0])==null?void 0:Ju.photo_url,alt:"Property",className:"w-full h-96 object-cover rounded-lg cursor-pointer",onClick:()=>R(0)}):n.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-full h-96 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500",children:"No photos available"})})}),Y.slice(1,5).map((z,re)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:z.photo_url,alt:"Property",className:"w-full h-48 object-cover rounded-lg cursor-pointer",onClick:()=>R(re+1)}),re===3&&Y.length>5&&n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center cursor-pointer",onClick:()=>R(4),children:n.jsxs("span",{className:"text-white text-xl font-bold",children:["+",Y.length-5," more"]})})]},z.photo_id))]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:v==null?void 0:v.title}),n.jsxs("p",{className:"text-gray-600",children:[v==null?void 0:v.city,v!=null&&v.neighborhood?`, ${v.neighborhood}`:""]})]}),n.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"flex-shrink-0",children:M!=null&&M.profile_picture_url?n.jsx("img",{src:M.profile_picture_url,alt:M.name,className:"w-16 h-16 rounded-full object-cover"}):n.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-full w-16 h-16 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500 text-2xl",children:"?"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Hosted by ",M==null?void 0:M.name]}),n.jsx("div",{className:"flex items-center mt-1",children:M!=null&&M.is_verified?n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Verified"}):n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Not Verified"})})]})]}),r&&(M==null?void 0:M.emergency_contact_name)&&n.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Emergency Contact"}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",M.emergency_contact_name]}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",M.emergency_contact_phone]})]}),n.jsx("button",{onClick:Ot,className:"mt-4 w-full bg-white border border-gray-300 rounded-md py-2 px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Contact Host"})]}),n.jsx("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:v==null?void 0:v.guest_capacity}),n.jsx("p",{className:"text-sm text-gray-500",children:"Guests"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:v==null?void 0:v.bedrooms}),n.jsx("p",{className:"text-sm text-gray-500",children:"Bedrooms"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:v==null?void 0:v.beds}),n.jsx("p",{className:"text-sm text-gray-500",children:"Beds"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:v==null?void 0:v.bathrooms}),n.jsx("p",{className:"text-sm text-gray-500",children:"Bathrooms"})]})]})}),n.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"About this place"}),n.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:v==null?void 0:v.description})]}),n.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"What this place offers"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:F.map(z=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-3",children:I0(z)}),n.jsx("span",{className:"text-gray-700",children:z})]},z))}),n.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Infrastructure Status"}),n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${v!=null&&v.has_power_backup?"bg-green-500":"bg-red-500"}`}),n.jsx("span",{className:"text-gray-700",children:"Generator Power Backup"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${v!=null&&v.has_water_tank?"bg-green-500":"bg-red-500"}`}),n.jsx("span",{className:"text-gray-700",children:"Water Tank/Stable Supply"})]})]})]}),(v==null?void 0:v.house_rules)&&n.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"House Rules"}),n.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:v.house_rules})]}),n.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Cancellation Policy"}),n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0",children:(v==null?void 0:v.cancellation_policy)==="flexible"?n.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):(v==null?void 0:v.cancellation_policy)==="moderate"?n.jsx("svg",{className:"w-6 h-6 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):n.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-lg font-medium text-gray-900 capitalize",children:v==null?void 0:v.cancellation_policy}),n.jsx("p",{className:"text-gray-600 mt-1",children:(v==null?void 0:v.cancellation_policy)==="flexible"?"Free cancellation up to 24 hours before check-in":(v==null?void 0:v.cancellation_policy)==="moderate"?"Free cancellation up to 7 days before check-in":"Non-refundable"})]})]})]}),n.jsxs("div",{className:"mb-8 p-6 bg-white rounded-lg shadow-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Reviews"}),me&&n.jsxs("div",{className:"flex items-center",children:[me&&Ro(me.overall),n.jsxs("span",{className:"ml-2 text-gray-600",children:["(",L.length," reviews)"]})]})]}),me&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("span",{className:"text-gray-600",children:"Cleanliness"}),n.jsx("span",{className:"text-gray-900 font-medium",children:me.cleanliness.toFixed(1)})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${me.cleanliness/5*100}%`}})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("span",{className:"text-gray-600",children:"Accuracy"}),n.jsx("span",{className:"text-gray-900 font-medium",children:me.accuracy.toFixed(1)})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${me.accuracy/5*100}%`}})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("span",{className:"text-gray-600",children:"Communication"}),n.jsx("span",{className:"text-gray-900 font-medium",children:me.communication.toFixed(1)})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${me.communication/5*100}%`}})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("span",{className:"text-gray-600",children:"Location"}),n.jsx("span",{className:"text-gray-900 font-medium",children:me.location.toFixed(1)})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${me.location/5*100}%`}})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("span",{className:"text-gray-600",children:"Check-in"}),n.jsx("span",{className:"text-gray-900 font-medium",children:me.check_in.toFixed(1)})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${me.check_in/5*100}%`}})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("span",{className:"text-gray-600",children:"Value"}),n.jsx("span",{className:"text-gray-900 font-medium",children:me.value.toFixed(1)})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${me.value/5*100}%`}})})]})]}),n.jsx("div",{className:"space-y-6",children:(N?L:L.slice(0,3)).map(z=>n.jsxs("div",{className:"border-b border-gray-200 pb-6 last:border-0 last:pb-0",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-full w-10 h-10 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500 text-sm",children:"U"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"User"}),n.jsx("p",{className:"text-xs text-gray-500",children:vr(Y2(z.created_at),"MMMM d, yyyy")})]})]}),n.jsx("div",{className:"ml-13 mb-2",children:Ro(z.overall_rating)}),n.jsx("p",{className:"ml-13 text-gray-700",children:z.comment})]},z.review_id))}),L.length>3&&n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:()=>E(!N),className:"text-blue-600 hover:text-blue-800 font-medium",children:N?"Show less":`Show all ${L.length} reviews`})})]})]}),n.jsx("div",{children:n.jsxs("div",{className:"sticky top-8 p-6 bg-white rounded-lg shadow-md border border-gray-200",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("div",{children:n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[v==null?void 0:v.base_price_per_night," ",v==null?void 0:v.currency," ",n.jsx("span",{className:"text-base font-normal text-gray-600",children:"/ night"})]})}),me&&n.jsxs("div",{className:"flex items-center",children:[me&&Ro(me.overall),n.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:["(",L.length,")"]}),"                    "]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Select dates"}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(z=>n.jsx("div",{className:"text-center text-sm text-gray-500 py-1",children:z},z))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:q0()})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guests"}),n.jsx("select",{value:g,onChange:z=>b(parseInt(z.target.value)),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",disabled:!d||!x,children:[...Array((v==null?void 0:v.guest_capacity)||1)].map((z,re)=>n.jsxs("option",{value:re+1,children:[re+1," ",re===0?"guest":"guests"]},re))})]}),d&&x&&n.jsxs("div",{className:"mb-6 border-t border-gray-200 pt-4",children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsxs("span",{className:"text-gray-600",children:[v==null?void 0:v.base_price_per_night," ",v==null?void 0:v.currency," x ",Q," nights"]}),n.jsxs("span",{className:"text-gray-900",children:[D," ",v==null?void 0:v.currency]})]}),n.jsxs("div",{className:"flex justify-between mb-4",children:[n.jsx("span",{className:"text-gray-600",children:"Service fee"}),n.jsxs("span",{className:"text-gray-900",children:[O.toFixed(2)," ",v==null?void 0:v.currency]})]}),n.jsxs("div",{className:"flex justify-between pt-4 border-t border-gray-200",children:[n.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total"}),n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[$.toFixed(2)," ",v==null?void 0:v.currency]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special requests"}),n.jsx("textarea",{value:k,onChange:z=>p(z.target.value),rows:3,className:"block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Any special requests or notes for the host?"})]}),n.jsxs("div",{className:"mb-6 flex items-start",children:[n.jsx("div",{className:"flex items-center h-5",children:n.jsx("input",{id:"terms",name:"terms",type:"checkbox",checked:m,onChange:z=>f(z.target.checked),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),n.jsx("div",{className:"ml-3 text-sm",children:n.jsxs("label",{htmlFor:"terms",className:"font-medium text-gray-700",children:["I agree to the ",n.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"House Rules"})," and"," ",n.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Cancellation Policy"})]})})]}),r?n.jsx("button",{onClick:ce,disabled:!d||!x||!m||!V()||g>((v==null?void 0:v.guest_capacity)||0),className:`w-full py-3 px-4 rounded-md text-white font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 ${!d||!x||!m||!V()||g>((v==null?void 0:v.guest_capacity)||0)?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}`,children:!d||!x?"Select dates":V()?g>((v==null?void 0:v.guest_capacity)||0)?"Too many guests":m?v!=null&&v.instant_book?"Book instantly":"Request to book":"Accept terms":"Dates not available"}):n.jsx(H,{to:"/login",className:"w-full py-3 px-4 rounded-md bg-blue-600 hover:bg-blue-700 text-white font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 text-center block",children:"Sign in to book"}),!V()&&d&&x&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Selected dates are not available"})]})})]})]})]})})},dj=()=>{const e=dr(),t=G(P=>P.authentication_state.authentication_status.is_authenticated),r=G(P=>P.register_user),s=G(P=>P.clear_auth_error),[i,a]=C.useState("guest"),[o,l]=C.useState({email:"",phone_number:"",password_hash:"",name:"",profile_picture_url:null,bio:null,emergency_contact_name:null,emergency_contact_phone:null}),[c,u]=C.useState({email_verified:!1,sms_verified:!1,verification_code:""}),[d,h]=C.useState({email:null,phone_number:null,password_hash:null,name:null,verification_code:null}),[x,y]=C.useState(!1),[g,b]=C.useState(!1),[k,p]=C.useState(!1),[m,f]=C.useState(null),[N,E]=C.useState({terms_of_service:!1,privacy_policy:!1,libya_terms:!1,content_guidelines:!1,accommodation_laws:!1});C.useEffect(()=>{t&&e("/dashboard")},[t,e]);const w=()=>{const P={};return o.email?/\S+@\S+\.\S+/.test(o.email)||(P.email="Email address is invalid"):P.email="Email is required",o.phone_number?/^\+?[0-9]{10,15}$/.test(o.phone_number)||(P.phone_number="Phone number is invalid"):P.phone_number="Phone number is required",o.password_hash?o.password_hash.length<8&&(P.password_hash="Password must be at least 8 characters"):P.password_hash="Password is required",o.name?o.name.length<2&&(P.name="Full name must be at least 2 characters"):P.name="Full name is required",h({email:P.email||null,phone_number:P.phone_number||null,password_hash:P.password_hash||null,name:P.name||null,verification_code:null}),!P.email&&!P.phone_number&&!P.password_hash&&!P.name},j=()=>c.verification_code?c.verification_code.length!==6?(h(P=>({...P,verification_code:"Verification code must be 6 digits"})),!1):(h(P=>({...P,verification_code:null})),!0):(h(P=>({...P,verification_code:"Verification code is required"})),!1),v=P=>{const{name:F,value:Q}=P.target;l(D=>({...D,[F]:Q})),d[F]&&h(D=>({...D,[F]:null}))},B=P=>{const{name:F,checked:Q}=P.target;E(D=>({...D,[F]:Q}))},A=async P=>{var F,Q;if(w()){b(!0),f(P);try{await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/send-verification",{email:P==="email"?o.email:void 0,phone_number:P==="sms"?o.phone_number:void 0}),p(!0),u(D=>({...D,verification_code:""}))}catch(D){const O=((Q=(F=D.response)==null?void 0:F.data)==null?void 0:Q.message)||"Failed to send verification code";h($=>({...$,[P==="email"?"email":"phone_number"]:O}))}finally{b(!1)}}},Y=async()=>{j()&&(u(P=>({...P,[m==="email"?"email_verified":"sms_verified"]:!0})),f(null),p(!1))},M=async P=>{if(P.preventDefault(),!w())return;if(!Object.values(N).every(Boolean)){alert("Please accept all terms and conditions");return}y(!0),s();try{await r({email:o.email,phone_number:o.phone_number,password_hash:o.password_hash,name:o.name,profile_picture_url:o.profile_picture_url,bio:o.bio,emergency_contact_name:o.emergency_contact_name,emergency_contact_phone:o.emergency_contact_phone,role:i==="guest"?"traveler":i}),e("/dashboard")}catch(Q){console.error("Registration error:",Q)}finally{y(!1)}},L=Object.values(N).every(Boolean),S=c.email_verified&&c.sms_verified;return n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-10",children:[n.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Create Your Account"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Join LibyaStay to start booking accommodations or hosting your property"})]}),n.jsxs("div",{className:"bg-white shadow rounded-lg p-6 sm:p-8",children:[n.jsxs("form",{onSubmit:M,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"I want to"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("button",{type:"button",onClick:()=>a("guest"),className:`p-4 border rounded-lg text-center ${i==="guest"?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"}`,children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Book Stays"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Find and book accommodations"})]}),n.jsxs("button",{type:"button",onClick:()=>a("host"),className:`p-4 border rounded-lg text-center ${i==="host"?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"}`,children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Host Guests"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"List your property"})]}),n.jsxs("button",{type:"button",onClick:()=>a("both"),className:`p-4 border rounded-lg text-center ${i==="both"?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"}`,children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Both"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Book and host"})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),n.jsx("input",{id:"name",name:"name",type:"text",value:o.name,onChange:v,className:`mt-1 block w-full px-3 py-2 border ${d.name?"border-red-300":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),d.name&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.name})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),n.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[n.jsx("input",{id:"email",name:"email",type:"email",value:o.email,onChange:v,className:`flex-1 min-w-0 block w-full px-3 py-2 border ${d.email?"border-red-300":"border-gray-300"} rounded-l-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),n.jsx("button",{type:"button",onClick:()=>A("email"),disabled:g||c.email_verified,className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:c.email_verified?"Verified":"Verify"})]}),d.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.email}),c.email_verified&&n.jsx("p",{className:"mt-1 text-sm text-green-600",children:"Email verified successfully"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),n.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[n.jsx("input",{id:"phone_number",name:"phone_number",type:"tel",value:o.phone_number,onChange:v,className:`flex-1 min-w-0 block w-full px-3 py-2 border ${d.phone_number?"border-red-300":"border-gray-300"} rounded-l-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),n.jsx("button",{type:"button",onClick:()=>A("sms"),disabled:g||c.sms_verified,className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:c.sms_verified?"Verified":"Verify"})]}),d.phone_number&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.phone_number}),c.sms_verified&&n.jsx("p",{className:"mt-1 text-sm text-green-600",children:"Phone number verified successfully"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password_hash",className:"block text-sm font-medium text-gray-700",children:"Password"}),n.jsx("input",{id:"password_hash",name:"password_hash",type:"password",value:o.password_hash,onChange:v,className:`mt-1 block w-full px-3 py-2 border ${d.password_hash?"border-red-300":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`}),d.password_hash&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.password_hash}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Password must be at least 8 characters"})]})]})]}),(k||c.email_verified||c.sms_verified)&&n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("h3",{className:"text-md font-medium text-gray-900 mb-2",children:["Verify ",m==="email"?"Email":"Phone"]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["We've sent a verification code to your ",m==="email"?"email":"phone",". Please enter it below."]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"text",value:c.verification_code,onChange:P=>{u(F=>({...F,verification_code:P.target.value})),d.verification_code&&h(F=>({...F,verification_code:null}))},maxLength:6,className:`flex-1 px-3 py-2 border ${d.verification_code?"border-red-300":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Enter 6-digit code"}),n.jsx("button",{type:"button",onClick:Y,disabled:g||c.verification_code.length!==6,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:g?"Verifying...":"Verify"})]}),d.verification_code&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.verification_code}),n.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Didn't receive the code?"," ",n.jsx("button",{type:"button",onClick:()=>A(m||"email"),className:"font-medium text-blue-600 hover:text-blue-500",children:"Resend"})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Setup"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio (Optional)"}),n.jsx("textarea",{id:"bio",name:"bio",rows:3,value:o.bio||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Tell us about yourself in a few sentences"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"emergency_contact_name",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Name"}),n.jsx("input",{id:"emergency_contact_name",name:"emergency_contact_name",type:"text",value:o.emergency_contact_name||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"emergency_contact_phone",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Phone"}),n.jsx("input",{id:"emergency_contact_phone",name:"emergency_contact_phone",type:"tel",value:o.emergency_contact_phone||"",onChange:v,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Terms & Conditions"}),n.jsx("div",{className:"space-y-3",children:Object.entries(N).map(([P,F])=>n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex items-center h-5",children:n.jsx("input",{id:P,name:P,type:"checkbox",checked:F,onChange:B,className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"})}),n.jsx("div",{className:"ml-3 text-sm",children:n.jsxs("label",{htmlFor:P,className:"font-medium text-gray-700",children:[P==="terms_of_service"&&"I agree to the Terms of Service",P==="privacy_policy"&&"I agree to the Privacy Policy",P==="libya_terms"&&"I agree to Libya-specific Terms of Service",P==="content_guidelines"&&"I agree to the Content Guidelines",P==="accommodation_laws"&&"I acknowledge the Local Accommodation Laws"]})})]},P))})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Or register with"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})}),n.jsx("span",{className:"ml-2",children:"Google"})]}),n.jsxs("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),n.jsx("span",{className:"ml-2",children:"Facebook"})]})]})]}),n.jsxs("div",{children:[n.jsx("button",{type:"submit",disabled:x||!S||!L,className:`w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${x||!S||!L?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}`,children:x?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"}),!S&&n.jsx("p",{className:"mt-2 text-sm text-red-600 text-center",children:"Please verify both your email and phone number"}),!L&&n.jsx("p",{className:"mt-2 text-sm text-red-600 text-center",children:"Please accept all terms and conditions"})]})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",n.jsx(H,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})]})})})},hj=()=>{const[e,t]=C.useState(""),[r,s]=C.useState(""),[i,a]=C.useState(!1),[o,l]=C.useState(!1),[c,u]=C.useState({email:"",password:"",general:""}),d=dr(),h=G(f=>f.authentication_state.authentication_status.is_authenticated),x=G(f=>f.authentication_state.authentication_status.is_loading),y=G(f=>f.authentication_state.error_message),g=G(f=>f.login_user),b=G(f=>f.clear_auth_error);C.useEffect(()=>{h&&d("/dashboard")},[h,d]),C.useEffect(()=>{(c.email||c.password||c.general)&&(u({email:"",password:"",general:""}),b())},[e,r,b]),C.useEffect(()=>{y&&!c.general&&u(f=>({...f,general:y}))},[y,c.general]);const k=()=>{let f=!0;const N={email:"",password:"",general:""};return e?/\S+@\S+\.\S+/.test(e)||(N.email="Email address is invalid",f=!1):(N.email="Email is required",f=!1),r?r.length<6&&(N.password="Password must be at least 6 characters",f=!1):(N.password="Password is required",f=!1),u(N),f},p=async f=>{if(f.preventDefault(),!!k())try{await g(e,r),h&&d("/dashboard")}catch(N){console.error("Login error:",N);const E=y||N.message||"An error occurred during login";u(w=>({...w,general:E}))}},m=f=>{console.log(`Social login with ${f}`)};return n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Discover amazing places to stay in Libya"})]}),c.general&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",role:"alert","aria-live":"polite",children:n.jsx("p",{className:"text-sm",children:c.general})}),n.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[n.jsxs("form",{className:"space-y-6",onSubmit:p,children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),n.jsxs("div",{className:"mt-1",children:[n.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:f=>t(f.target.value),className:`appearance-none block w-full px-3 py-2 border ${c.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,"aria-invalid":!!c.email,"aria-describedby":c.email?"email-error":void 0}),c.email&&n.jsx("p",{className:"mt-2 text-sm text-red-600",id:"email-error",children:c.email})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:f=>s(f.target.value),className:`appearance-none block w-full px-3 py-2 border ${c.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,"aria-invalid":!!c.password,"aria-describedby":c.password?"password-error":void 0}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!i),"aria-label":i?"Hide password":"Show password",children:i?n.jsxs("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),n.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):n.jsxs("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),n.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})}),c.password&&n.jsx("p",{className:"mt-2 text-sm text-red-600",id:"password-error",children:c.password})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:o,onChange:f=>l(f.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),n.jsx("div",{className:"text-sm",children:n.jsx(H,{to:"/reset-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:x,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-300"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[n.jsx("div",{children:n.jsxs("button",{onClick:()=>m("google"),className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[n.jsx("span",{className:"sr-only",children:"Sign in with Google"}),n.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"})})]})}),n.jsx("div",{children:n.jsxs("button",{onClick:()=>m("facebook"),className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[n.jsx("span",{className:"sr-only",children:"Sign in with Facebook"}),n.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})]})})]})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",n.jsx(H,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})})]})]})})})},mj=()=>{const[e,t]=Ns(),r=e.get("tab")||"default",[s,i]=C.useState(r),a=G(v=>v.authentication_state.current_user),o=G(v=>v.authentication_state.auth_token),l=G(v=>v.notification_count.unread_count);C.useEffect(()=>{s==="default"&&(a!=null&&a.role)&&(a.role==="host"?i("host"):a.role==="admin"?i("admin"):i("traveler"))},[s,a==null?void 0:a.role]),C.useEffect(()=>{s!=="default"&&t({tab:s})},[s,t]);const{data:c,isLoading:u}=le({queryKey:["userBookings",a==null?void 0:a.user_id,s],queryFn:async()=>{if(!(a!=null&&a.user_id)||!o)return null;const v=a.role==="traveler"?"confirmed":"pending";return(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${a.user_id}/bookings`,{headers:{Authorization:`Bearer ${o}`},params:{status:v}})).data},enabled:!!(a!=null&&a.user_id)&&!!o,staleTime:6e4,refetchOnWindowFocus:!1}),{data:d,isLoading:h}=le({queryKey:["userNotifications",a==null?void 0:a.user_id],queryFn:async()=>!(a!=null&&a.user_id)||!o?[]:(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/notifications",{headers:{Authorization:`Bearer ${o}`},params:{limit:5,is_read:!1}})).data,enabled:!!(a!=null&&a.user_id)&&!!o,staleTime:6e4,refetchOnWindowFocus:!1}),x=u?0:(a==null?void 0:a.role)==="traveler"&&(c==null?void 0:c.filter(v=>v.status==="confirmed"&&new Date(v.check_in)>new Date).length)||0,y=u?0:(a==null?void 0:a.role)==="host"&&(c==null?void 0:c.filter(v=>v.status==="pending").length)||0,b=(()=>{if(!a)return 0;let v=0;const B=5;return a.name&&v++,a.email&&v++,a.phone_number&&v++,a.bio&&v++,a.profile_picture_url&&v++,Math.round(v/B*100)})(),k=!!(a!=null&&a.emergency_contact_name)&&!!(a!=null&&a.emergency_contact_phone),p=()=>{const v=[];return((a==null?void 0:a.role)==="traveler"||(a==null?void 0:a.role)==="both")&&v.push(n.jsx("button",{className:`px-4 py-2 font-medium text-sm rounded-md ${s==="traveler"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>i("traveler"),children:"Traveler Dashboard"},"traveler")),((a==null?void 0:a.role)==="host"||(a==null?void 0:a.role)==="both")&&v.push(n.jsx("button",{className:`px-4 py-2 font-medium text-sm rounded-md ${s==="host"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>i("host"),children:"Host Dashboard"},"host")),(a==null?void 0:a.role)==="admin"&&v.push(n.jsx("button",{className:`px-4 py-2 font-medium text-sm rounded-md ${s==="admin"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,onClick:()=>i("admin"),children:"Admin Panel"},"admin")),v},m=()=>n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(a==null?void 0:a.role)==="traveler"&&n.jsxs(H,{to:"/search",className:"flex flex-col items-center justify-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-full mb-2",children:n.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Search Stays"})]}),((a==null?void 0:a.role)==="host"||(a==null?void 0:a.role)==="both")&&n.jsxs(H,{to:"/listings/create",className:"flex flex-col items-center justify-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[n.jsx("div",{className:"bg-green-100 p-3 rounded-full mb-2",children:n.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Create Listing"})]}),n.jsxs(H,{to:"/messages",className:"flex flex-col items-center justify-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[n.jsx("div",{className:"bg-purple-100 p-3 rounded-full mb-2",children:n.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Messages"}),l>0&&n.jsx("span",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:l})]}),n.jsxs(H,{to:"/settings",className:"flex flex-col items-center justify-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsx("div",{className:"bg-gray-100 p-3 rounded-full mb-2",children:n.jsxs("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Settings"})]})]})]}),f=()=>n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Activity Overview"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:n.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:(a==null?void 0:a.role)==="traveler"?"Upcoming Bookings":"Pending Requests"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:(a==null?void 0:a.role)==="traveler"?x:y})]})]})}),n.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:n.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Unread Messages"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l})]})]})}),n.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:n.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Profile Completeness"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[b,"%"]})]})]})})]})]}),N=()=>h?n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Notifications"}),n.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(v=>n.jsxs("div",{className:"flex items-center p-4 border border-gray-200 rounded-lg",children:[n.jsx("div",{className:"bg-gray-200 rounded-full h-10 w-10"}),n.jsxs("div",{className:"ml-4 flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},v))})]}):n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Notifications"}),n.jsx(H,{to:"/messages",className:"text-sm text-blue-600 hover:text-blue-800",children:"View all"})]}),d&&d.length>0?n.jsx("div",{className:"space-y-4",children:d.slice(0,5).map(v=>n.jsxs("div",{className:"flex items-start p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:n.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:v.title}),n.jsx("p",{className:"text-sm text-gray-500",children:v.message}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(v.created_at).toLocaleDateString()})]})]},v.notification_id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No notifications"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You're all caught up!"})]})]}),E=()=>n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Completeness"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Profile Completion"}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[b,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${b}%`}})})]}),b<100&&n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("p",{children:"Complete your profile to build trust with other users:"}),n.jsxs("ul",{className:"mt-2 space-y-1 list-disc list-inside",children:[!(a!=null&&a.bio)&&n.jsx("li",{children:"Add a bio"}),!(a!=null&&a.profile_picture_url)&&n.jsx("li",{children:"Upload a profile picture"})]}),n.jsx(H,{to:"/settings",className:"mt-3 inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Complete Profile"})]})]})]}),w=()=>k?n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Emergency Contact Verified"}),n.jsx("div",{className:"mt-1 text-sm text-green-700",children:n.jsx("p",{children:"Your emergency contact information is up to date."})})]})]})}):n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Emergency Contact Required"}),n.jsxs("div",{className:"mt-1 text-sm text-yellow-700",children:[n.jsx("p",{children:"Please add your emergency contact information for safety purposes."}),n.jsx(H,{to:"/settings",className:"font-medium text-yellow-800 underline hover:text-yellow-900",children:"Add emergency contact"})]})]})]})}),j=()=>n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),n.jsx("div",{className:"flow-root",children:n.jsxs("ul",{className:"divide-y divide-gray-200",children:[n.jsx("li",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:n.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"New booking request"}),n.jsx("p",{className:"text-sm text-gray-500 truncate",children:"You have a new booking request for your property"})]}),n.jsx("div",{className:"text-sm text-gray-500 whitespace-nowrap",children:"2h ago"})]})}),n.jsx("li",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:n.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Profile updated"}),n.jsx("p",{className:"text-sm text-gray-500 truncate",children:"You updated your profile information"})]}),n.jsx("div",{className:"text-sm text-gray-500 whitespace-nowrap",children:"1d ago"})]})}),n.jsx("li",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:n.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:"New message"}),n.jsx("p",{className:"text-sm text-gray-500 truncate",children:"You received a new message from a guest"})]}),n.jsx("div",{className:"text-sm text-gray-500 whitespace-nowrap",children:"2d ago"})]})})]})})]});return a?n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),n.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Welcome back, ",a.name,"!"]})]}),n.jsx("div",{className:"mb-6",children:n.jsx("nav",{className:"flex space-x-4",children:p()})}),n.jsx("div",{className:"mb-6",children:w()}),n.jsx("div",{className:"mb-6",children:m()}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[f(),E(),j()]}),n.jsx("div",{children:N()})]})]})})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})})},fj=()=>{const[e,t]=Ns(),r=Jr(),s=G(j=>j.authentication_state.current_user),i=G(j=>j.authentication_state.auth_token),a=e.get("status")||"upcoming",[o,l]=C.useState(a);C.useEffect(()=>{const j=e.get("status")||"upcoming";l(j)},[e]);const c=j=>{l(j),t({status:j})},u=async j=>!(s!=null&&s.user_id)||!i?[]:(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${s.user_id}/bookings`,{headers:{Authorization:`Bearer ${i}`},params:{status:j}})).data.map(B=>({...B,check_in:new Date(B.check_in),check_out:new Date(B.check_out),created_at:new Date(B.created_at),updated_at:new Date(B.updated_at)})),{data:d=[],isLoading:h,isError:x,error:y}=le({queryKey:["bookings",o,s==null?void 0:s.user_id],queryFn:()=>u(o),enabled:!!(s!=null&&s.user_id)&&!!i,staleTime:6e4,refetchOnWindowFocus:!1}),g=Be({mutationFn:async j=>{if(!i)throw new Error("No auth token");return(await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings/${j}`,{status:"cancelled"},{headers:{Authorization:`Bearer ${i}`}})).data},onSuccess:j=>{r.setQueryData(["bookings",o,s==null?void 0:s.user_id],(v=[])=>v.map(B=>B.booking_id===j.booking_id?j:B)),r.invalidateQueries({queryKey:["bookings"]})}}),b=Be({mutationFn:async j=>{if(!i||!s)throw new Error("Not authenticated");return(await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/conversations",{booking_id:j.booking_id,guest_id:s.user_id,host_id:j.host_id},{headers:{Authorization:`Bearer ${i}`}})).data},onSuccess:j=>{window.location.href=`/messages?conversation_id=${j.conversation_id}`}}),k=j=>{window.confirm("Are you sure you want to cancel this booking?")&&g.mutate(j)},p=j=>{b.mutate(j)},m=j=>j.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),f=j=>new Intl.NumberFormat("en-LY",{style:"currency",currency:"LYD"}).format(j),N=j=>{switch(j){case"flexible":return"Free cancellation up to 24 hours before check-in";case"moderate":return"Free cancellation up to 7 days before check-in";case"strict":return"Non-refundable";default:return"Cancellation policy not specified"}},E=j=>{const v={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800"},B={pending:"Pending",confirmed:"Confirmed",cancelled:"Cancelled",completed:"Completed"};return n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${v[j]}`,children:B[j]})},w=j=>{switch(j.status){case"pending":return n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:()=>k(j.booking_id),disabled:g.isPending,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200 disabled:opacity-50",children:g.isPending?"Cancelling...":"Cancel"})});case"confirmed":return n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{onClick:()=>p(j),disabled:b.isPending,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 disabled:opacity-50",children:"Message Host"}),n.jsx("button",{onClick:()=>k(j.booking_id),disabled:g.isPending,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200 disabled:opacity-50",children:g.isPending?"Cancelling...":"Cancel"})]});case"completed":return n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(H,{to:`/reviews/create/${j.booking_id}`,className:"px-3 py-1 text-sm bg-green-100 text-green-700 rounded-md hover:bg-green-200",children:"Leave Review"}),n.jsx("button",{onClick:()=>p(j),disabled:b.isPending,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 disabled:opacity-50",children:"Message Host"})]});default:return n.jsx("button",{onClick:()=>p(j),disabled:b.isPending,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 disabled:opacity-50",children:"Message Host"})}};return h?n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Bookings"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your accommodation reservations"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"flex -mb-px",children:["upcoming","past","pending","cancelled"].map(j=>n.jsx("button",{className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${o===j?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>c(j),children:j.charAt(0).toUpperCase()+j.slice(1)},j))})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})})]})]})})}):x?n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Bookings"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your accommodation reservations"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"flex -mb-px",children:["upcoming","past","pending","cancelled"].map(j=>n.jsx("button",{className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${o===j?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>c(j),children:j.charAt(0).toUpperCase()+j.slice(1)},j))})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading bookings"}),n.jsx("div",{className:"mt-2 text-sm text-red-700",children:n.jsx("p",{children:y instanceof Error?y.message:"An unexpected error occurred"})})]})]})})})]})]})})}):n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Bookings"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your accommodation reservations"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"flex -mb-px",children:["upcoming","past","pending","cancelled"].map(j=>n.jsxs("button",{className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${o===j?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>c(j),children:[j.charAt(0).toUpperCase()+j.slice(1),d.filter(v=>v.status===j).length>0&&n.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:d.filter(v=>v.status===j).length})]},j))})}),n.jsx("div",{className:"p-6",children:d.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No bookings"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o==="upcoming"?"You don't have any upcoming trips.":o==="past"?"You haven't taken any trips yet.":o==="pending"?"You don't have any pending bookings.":"You haven't cancelled any bookings."}),n.jsx("div",{className:"mt-6",children:n.jsx(H,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Explore Listings"})})]}):n.jsx("div",{className:"space-y-6",children:d.map(j=>n.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0 w-24 h-24 bg-gray-200 rounded-md overflow-hidden",children:n.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-full h-full"})}),n.jsxs("div",{className:"ml-4 flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:n.jsxs(H,{to:`/properties/${j.property_id}`,className:"hover:text-blue-600",children:["Property #",j.property_id.substring(0,8)]})}),E(j.status)]}),n.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Dates"}),n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[m(new Date(j.check_in))," - ",m(new Date(j.check_out))]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Guests"}),n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[j.guest_count," guests"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:f(j.total_price)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Booking ID"}),n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:j.booking_id.substring(0,8)})]})]}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Power: Available"}),n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Water: Available"})]}),j.status==="confirmed"&&n.jsx("div",{className:"mt-2 text-xs text-gray-500",children:n.jsxs("p",{children:["Cancellation Policy: ",N("moderate")]})})]})]})}),n.jsxs("div",{className:"mt-4 md:mt-0 flex flex-col items-end space-y-3",children:[w(j),n.jsx(H,{to:`/properties/${j.property_id}`,className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"View property details"})]})]})}),j.status==="confirmed"&&n.jsx("div",{className:"bg-blue-50 px-6 py-4 border-t border-gray-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"flex-shrink-0 h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Emergency Contact"}),n.jsxs("div",{className:"mt-1 text-sm text-blue-700",children:[n.jsx("p",{children:"Host: John Doe"}),n.jsx("p",{children:"Phone: +218 91 000 0000"})]})]})]})})]},j.booking_id))})})]})]})})})},pj=()=>{const e=G(E=>E.authentication_state.current_user),t=G(E=>E.authentication_state.auth_token),[r,s]=C.useState("active"),[i,a]=C.useState({is_verified:!1,documents_submitted:!1}),o=Jr(),l="https://123airbnb-but-just-for-libya.launchpulse.ai",{data:c=[],isLoading:u,error:d}=le({queryKey:["hostListings",e==null?void 0:e.user_id,r],queryFn:async()=>{if(!(e!=null&&e.user_id)||!t)return[];const E=await q.get(`${l}/api/users/${e.user_id}/listings`,{headers:{Authorization:`Bearer ${t}`}});return r==="active"?E.data.filter(w=>w.is_active):r==="inactive"?E.data.filter(w=>!w.is_active):r==="pending"?E.data.filter(w=>!w.is_active):E.data},enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1}),{data:h,isLoading:x}=le({queryKey:["performanceMetrics",e==null?void 0:e.user_id],queryFn:async()=>{if(!(e!=null&&e.user_id)||!t)return{total_bookings:0,total_earnings:0,average_rating:0,pending_requests:0};const w=(await q.get(`${l}/api/users/${e.user_id}/bookings`,{headers:{Authorization:`Bearer ${t}`}})).data,j=w.filter(B=>B.status==="completed").reduce((B,A)=>B+A.total_price,0),v=w.filter(B=>B.status==="pending").length;return{total_bookings:w.filter(B=>B.status==="completed").length,total_earnings:j,average_rating:0,pending_requests:v}},enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1}),y=Be({mutationFn:async({property_id:E,is_active:w})=>{if(!t)throw new Error("No auth token");return(await q.patch(`${l}/api/properties/${E}`,{is_active:w},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data},onSuccess:()=>{o.invalidateQueries({queryKey:["hostListings"]})}});C.useEffect(()=>{e&&a({is_verified:e.is_verified,documents_submitted:!!e.verification_document_url})},[e]);const g=(E,w)=>{y.mutate({property_id:E,is_active:!w})},b=E=>new Intl.NumberFormat(" ly-LY",{style:"currency",currency:"LYD",minimumFractionDigits:2}).format(E),k=E=>E?n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"}):n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactive"}),p=()=>i.is_verified?n.jsxs("div",{className:"flex items-center text-green-600",children:[n.jsx("svg",{className:"h-5 w-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("span",{children:"Verified"})]}):i.documents_submitted?n.jsxs("div",{className:"flex items-center text-yellow-600",children:[n.jsx("svg",{className:"h-5 w-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),n.jsx("span",{children:"Pending Verification"})]}):n.jsxs("div",{className:"flex items-center text-red-600",children:[n.jsx("svg",{className:"h-5 w-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),n.jsx("span",{children:"Not Verified"})]}),m=()=>{const E=[{key:"active",label:"Active Listings"},{key:"inactive",label:"Inactive Listings"},{key:"pending",label:"Pending Review"}];return n.jsx("div",{className:"flex space-x-2",children:E.map(w=>n.jsx("button",{onClick:()=>s(w.key),className:`px-4 py-2 text-sm font-medium rounded-md ${r===w.key?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:w.label},w.key))})},f=()=>x?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[1,2,3,4].map(E=>n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]},E))}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Total Bookings"}),n.jsx("div",{className:"text-2xl font-bold mt-1",children:(h==null?void 0:h.total_bookings)||0})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Total Earnings"}),n.jsx("div",{className:"text-2xl font-bold mt-1",children:b((h==null?void 0:h.total_earnings)||0)})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Average Rating"}),n.jsxs("div",{className:"text-2xl font-bold mt-1",children:[(h==null?void 0:h.average_rating)||0,n.jsx("span",{className:"text-base font-normal",children:"/5"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Pending Requests"}),n.jsx("div",{className:"text-2xl font-bold mt-1",children:(h==null?void 0:h.pending_requests)||0})]})]}),N=()=>u?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(E=>n.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden animate-pulse",children:[n.jsx("div",{className:"h-48 bg-gray-200"}),n.jsxs("div",{className:"p-4",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"})]})]})]},E))}):d?n.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-red-700",children:"Failed to load listings. Please try again later."})})]})}):c.length===0?n.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),n.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No listings found"}),n.jsx("p",{className:"mt-1 text-gray-500",children:"Get started by creating a new property listing."}),n.jsx("div",{className:"mt-6",children:n.jsxs(H,{to:"/listings/create",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[n.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Create New Listing"]})})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(E=>n.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-md transition-shadow duration-200",children:[n.jsxs("div",{className:"h-48 bg-gray-200 relative",children:[E.is_active?n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})}):n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactive"})}),n.jsx("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:E.city})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:E.title}),k(E.is_active)]}),n.jsxs("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:[E.description.substring(0,100),"..."]}),n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[n.jsx("div",{children:n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[b(E.base_price_per_night),n.jsx("span",{className:"text-sm font-normal text-gray-500",children:"/night"})]})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(H,{to:`/listings/${E.property_id}/edit`,className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Edit"}),n.jsx("button",{onClick:()=>g(E.property_id,E.is_active),disabled:y.isPending,className:`inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${E.is_active?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:y.isPending?"Updating...":E.is_active?"Deactivate":"Activate"})]})]})]})]},E.property_id))});return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white shadow",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Listings"}),n.jsxs(H,{to:"/listings/create",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[n.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Create New Listing"]})]})})}),n.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-4",children:n.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Account Verification"}),n.jsx("div",{className:"mt-1",children:p()})]})]}),!i.is_verified&&n.jsx("div",{className:"mt-4 md:mt-0",children:n.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Submit Documents"})})]})}),f(),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"My Property Listings"}),n.jsx("div",{className:"mt-4 md:mt-0",children:m()})]})}),n.jsx("div",{className:"px-4 py-5 sm:p-6",children:N()})]})]})]})})},xj=["Tripoli","Benghazi","Misrata","Tobruk","Derna","Zliten","Zuwara","Khoms","Sirte","Al-Bayda","Tajura"],em=[{id:"wifi",name:"WiFi",category:"Essentials"},{id:"ac",name:"Air Conditioning",category:"Comfort"},{id:"kitchen",name:"Kitchen",category:"Essentials"},{id:"parking",name:"Parking",category:"Essentials"},{id:"washer",name:"Washer",category:"Essentials"},{id:"tv",name:"TV",category:"Entertainment"},{id:"pool",name:"Pool",category:"Luxury"},{id:"gym",name:"Gym",category:"Luxury"},{id:"power_backup",name:"Generator Power Backup",category:"Libya-Specific"},{id:"water_tank",name:"Water Tank/Stable Supply",category:"Libya-Specific"},{id:"balcony",name:"Balcony/Patio",category:"Comfort"},{id:"heating",name:"Heating",category:"Comfort"}],gj=[{id:"flexible",name:"Flexible",description:"Full refund 24 hours prior to arrival"},{id:"moderate",name:"Moderate",description:"Full refund 7 days prior to arrival"},{id:"strict",name:"Strict",description:"Non-refundable"}],yj=()=>{const e=G(M=>M.authentication_state.current_user),t=G(M=>M.authentication_state.auth_token),r=dr(),[s,i]=C.useState(1),[a,o]=C.useState({host_id:(e==null?void 0:e.user_id)||"",title:"",description:"",city:"",neighborhood:"",address:"",property_type:"",guest_capacity:1,bedrooms:1,beds:1,bathrooms:1,amenities:[],base_price_per_night:0,currency:"LYD",has_power_backup:!1,has_water_tank:!1,house_rules:"",cancellation_policy:"moderate",instant_book:!1,is_active:!0}),[l,c]=C.useState({}),[u,d]=C.useState([]),[h,x]=C.useState([]),[y,g]=C.useState(!1),[b,k]=C.useState(null);C.useEffect(()=>{!e||!t?r("/login"):o(M=>({...M,host_id:e.user_id}))},[e,t,r]);const p=M=>{if(M.target.files){const L=Array.from(M.target.files),S=L.map(P=>URL.createObjectURL(P));d(P=>[...P,...L]),x(P=>[...P,...S]),c(P=>{const F={...P};return delete F.photos,F})}},m=M=>{d(L=>L.filter((S,P)=>P!==M)),x(L=>L.filter((S,P)=>P!==M))},f=M=>{const{name:L,value:S,type:P}=M.target;if(P==="checkbox"){const F=M.target.checked;o(Q=>({...Q,[L]:F}))}else o(F=>({...F,[L]:S}));l[L]&&c(F=>{const Q={...F};return delete Q[L],Q})},N=M=>{o(L=>{const S=[...L.amenities],P=S.indexOf(M);return P>-1?S.splice(P,1):S.push(M),{...L,amenities:S}})},E=M=>{const L={};switch(M){case 1:a.title.trim()||(L.title="Title is required"),a.title.length<10&&(L.title="Title must be at least 10 characters"),a.description.trim()||(L.description="Description is required"),a.description.length<50&&(L.description="Description must be at least 50 characters"),a.property_type||(L.property_type="Property type is required");break;case 2:a.city||(L.city="City is required"),a.address.trim()||(L.address="Address is required");break;case 3:a.guest_capacity<1&&(L.guest_capacity="At least 1 guest required"),a.bedrooms<0&&(L.bedrooms="Number of bedrooms cannot be negative"),a.beds<1&&(L.beds="At least 1 bed required"),a.bathrooms<1&&(L.bathrooms="At least 1 bathroom required");break;case 4:break;case 5:u.length<5&&(L.photos="At least 5 photos are required");break;case 6:a.base_price_per_night<=0&&(L.base_price_per_night="Price must be greater than 0");break}return c(L),Object.keys(L).length===0},w=()=>{E(s)&&i(M=>Math.min(M+1,8))},j=()=>{i(M=>Math.max(M-1,1))},v=Be({mutationFn:async M=>(await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties",M,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data,onSuccess:()=>{r("/dashboard/listings")},onError:M=>{var L,S;k(((S=(L=M.response)==null?void 0:L.data)==null?void 0:S.message)||"Failed to create listing. Please try again."),g(!1)}}),B=()=>{if(E(s)){g(!0),k(null);const M={...a,amenities:a.amenities,latitude:null,longitude:null,house_rules:a.house_rules||"",neighborhood:a.neighborhood||"",address:a.address||""};v.mutate(M)}},A=(a.base_price_per_night*.1).toFixed(2),Y=(a.base_price_per_night+parseFloat(A)).toFixed(2);return n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"bg-white shadow rounded-lg",children:[n.jsxs("div",{className:"px-6 pt-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Create New Listing"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Follow the steps to list your property"}),n.jsxs("div",{className:"mb-8",children:[n.jsx("div",{className:"flex justify-between items-center mb-2",children:[1,2,3,4,5,6,7,8].map(M=>n.jsxs("div",{className:`flex flex-col items-center w-1/8 ${M<=s?"text-blue-600":"text-gray-400"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mb-1 ${M===s?"bg-blue-600 text-white":M<s?"bg-green-500 text-white":"bg-gray-200"}`,children:M<s?"✓":M}),n.jsxs("span",{className:"text-xs text-center",children:[M===1&&"Basic Info",M===2&&"Location",M===3&&"Specs",M===4&&"Amenities",M===5&&"Photos",M===6&&"Pricing",M===7&&"Availability",M===8&&"Rules"]})]},M))}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${s/8*100}%`}})})]})]}),n.jsxs("div",{className:"px-6 py-6 border-t border-gray-200",children:[s===1&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Basic Information"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Title *"}),n.jsx("input",{type:"text",id:"title",name:"title",value:a.title,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.title?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Beautiful apartment in downtown Tripoli"}),l.title&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.title}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Create a descriptive title that highlights your property's best features"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),n.jsx("textarea",{id:"description",name:"description",rows:5,value:a.description,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.description?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Describe your property in detail. Mention what makes it special for travelers in Libya..."}),l.description&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.description}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Include details about the space, neighborhood, and what guests will love"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"property_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Type *"}),n.jsxs("select",{id:"property_type",name:"property_type",value:a.property_type,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.property_type?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[n.jsx("option",{value:"",children:"Select property type"}),n.jsx("option",{value:"entire_place",children:"Entire Place"}),n.jsx("option",{value:"private_room",children:"Private Room"}),n.jsx("option",{value:"shared_room",children:"Shared Room"})]}),l.property_type&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.property_type})]})]})]}),s===2&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Location Details"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),n.jsxs("select",{id:"city",name:"city",value:a.city,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.city?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[n.jsx("option",{value:"",children:"Select a city"}),xj.map(M=>n.jsx("option",{value:M,children:M},M))]}),l.city&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.city})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"neighborhood",className:"block text-sm font-medium text-gray-700 mb-1",children:"Neighborhood"}),n.jsx("input",{type:"text",id:"neighborhood",name:"neighborhood",value:a.neighborhood,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Al-Sabah, Souq Al-Juma"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),n.jsx("textarea",{id:"address",name:"address",rows:3,value:a.address,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.address?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Enter the full address with nearby landmarks if needed"}),l.address&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.address}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"For areas with inconsistent addressing, include nearby landmarks"})]})]})]}),s===3&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Accommodation Specifications"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"guest_capacity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Guests *"}),n.jsx("input",{type:"number",id:"guest_capacity",name:"guest_capacity",min:"1",value:a.guest_capacity,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.guest_capacity?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),l.guest_capacity&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.guest_capacity})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrooms"}),n.jsx("input",{type:"number",id:"bedrooms",name:"bedrooms",min:"0",value:a.bedrooms,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.bedrooms?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),l.bedrooms&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.bedrooms})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"beds",className:"block text-sm font-medium text-gray-700 mb-1",children:"Beds *"}),n.jsx("input",{type:"number",id:"beds",name:"beds",min:"1",value:a.beds,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.beds?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),l.beds&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.beds})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bathrooms *"}),n.jsx("input",{type:"number",id:"bathrooms",name:"bathrooms",min:"1",step:"0.5",value:a.bathrooms,onChange:f,className:`w-full px-3 py-2 border rounded-md ${l.bathrooms?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),l.bathrooms&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.bathrooms})]})]}),n.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-md",children:n.jsxs("p",{className:"text-sm text-blue-700",children:[n.jsx("strong",{children:"Tip:"})," For Libya-specific accommodations, describe unique features like rooftop spaces, traditional architecture, or local decor that make your listing special."]})})]}),s===4&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Amenities"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Select all amenities available at your property. This helps guests find exactly what they need."}),n.jsx("div",{className:"space-y-6",children:Array.from(new Set(em.map(M=>M.category))).map(M=>n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:M}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:em.filter(L=>L.category===M).map(L=>n.jsxs("div",{className:`flex items-center p-3 border rounded-md cursor-pointer ${a.amenities.includes(L.id)?"border-blue-500 bg-blue-50":"border-gray-300 hover:bg-gray-50"}`,onClick:()=>N(L.id),children:[n.jsx("input",{type:"checkbox",checked:a.amenities.includes(L.id),onChange:()=>N(L.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("span",{className:"ml-3 text-sm text-gray-700",children:L.name})]},L.id))})]},M))})]}),s===5&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Photo Upload"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Add clear photos of your property. Upload at least 5 photos for best results."}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Photos *"}),n.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed border-gray-300 rounded-md",children:n.jsxs("div",{className:"space-y-1 text-center",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:n.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),n.jsxs("div",{className:"flex text-sm text-gray-600",children:[n.jsxs("label",{htmlFor:"photos",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[n.jsx("span",{children:"Upload files"}),n.jsx("input",{id:"photos",name:"photos",type:"file",multiple:!0,accept:"image/*",onChange:p,className:"sr-only"})]}),n.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 5MB"})]})}),l.photos&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.photos})]}),h.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Preview"}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:h.map((M,L)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:M,alt:`Preview ${L+1}`,className:"h-32 w-full object-cover rounded-md"}),n.jsx("button",{type:"button",onClick:()=>m(L),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},L))})]}),u.length>=5&&n.jsx("div",{className:"p-4 bg-green-50 rounded-md",children:n.jsxs("p",{className:"text-sm text-green-700",children:[n.jsx("strong",{children:"Great!"})," You've uploaded ",u.length," photos. This meets the minimum requirement."]})})]})]}),s===6&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Pricing"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"base_price_per_night",className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Price per Night (LYD) *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("span",{className:"text-gray-500 sm:text-sm",children:"LYD"})}),n.jsx("input",{type:"number",id:"base_price_per_night",name:"base_price_per_night",min:"0",step:"0.5",value:a.base_price_per_night,onChange:f,className:`pl-12 w-full px-3 py-2 border rounded-md ${l.base_price_per_night?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500`})]}),l.base_price_per_night&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.base_price_per_night}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This is the nightly rate before service fees"})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[n.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Price Breakdown"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Base Price:"}),n.jsxs("span",{className:"font-medium",children:["LYD ",a.base_price_per_night.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Service Fee (10%):"}),n.jsxs("span",{className:"font-medium",children:["LYD ",A]})]}),n.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[n.jsx("span",{className:"font-medium",children:"Total per night:"}),n.jsxs("span",{className:"font-bold text-lg",children:["LYD ",Y]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Discounts"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Coming soon: Offer weekly or monthly discounts to attract longer stays"}),n.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:!0,children:"Add Discount"})]})]})]}),s===7&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Availability Calendar"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Set when your property is available for bookings. You can adjust this later."}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mb-6",children:n.jsxs("p",{className:"text-sm text-blue-700",children:[n.jsx("strong",{children:"Tip:"})," For now, your property will be available by default. You can set specific dates in the property management section after creation."]})}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(M=>n.jsx("div",{className:"text-center text-sm font-medium text-gray-500 py-2",children:M},M))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:Array.from({length:35}).map((M,L)=>{const S=new Date;return S.setDate(S.getDate()+L),n.jsx("div",{className:"h-12 flex items-center justify-center text-sm rounded-md bg-green-100 text-green-800 border border-green-200",children:S.getDate()},L)})}),n.jsxs("div",{className:"mt-6 flex items-center",children:[n.jsxs("div",{className:"flex items-center mr-6",children:[n.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-200 rounded-md mr-2"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Available"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded-md mr-2"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Unavailable"})]})]})]}),s===8&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"House Rules & Policies"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"house_rules",className:"block text-sm font-medium text-gray-700 mb-1",children:"House Rules"}),n.jsx("textarea",{id:"house_rules",name:"house_rules",rows:4,value:a.house_rules,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"List any specific rules for your guests (e.g., no smoking, no pets, quiet hours)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cancellation Policy *"}),n.jsx("div",{className:"space-y-3",children:gj.map(M=>n.jsx("div",{className:`p-4 border rounded-md cursor-pointer ${a.cancellation_policy===M.id?"border-blue-500 bg-blue-50":"border-gray-300 hover:bg-gray-50"}`,onClick:()=>o(L=>({...L,cancellation_policy:M.id})),children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("input",{type:"radio",name:"cancellation_policy",value:M.id,checked:a.cancellation_policy===M.id,onChange:f,className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("span",{className:"block text-sm font-medium text-gray-900",children:M.name}),n.jsx("span",{className:"block text-sm text-gray-500",children:M.description})]})]})},M.id))})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex items-center h-5",children:n.jsx("input",{id:"instant_book",name:"instant_book",type:"checkbox",checked:a.instant_book,onChange:f,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),n.jsxs("div",{className:"ml-3 text-sm",children:[n.jsx("label",{htmlFor:"instant_book",className:"font-medium text-gray-700",children:"Enable instant booking"}),n.jsx("p",{className:"text-gray-500",children:"Allow guests to book without your approval (recommended for better conversion)"})]})]}),n.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:n.jsxs("p",{className:"text-sm text-yellow-700",children:[n.jsx("strong",{children:"Important:"})," By submitting this listing, you confirm that you have the right to rent this property and that it complies with all local laws and regulations in Libya."]})})]})]}),n.jsxs("div",{className:"mt-8 flex justify-between",children:[n.jsx("button",{type:"button",onClick:j,disabled:s===1,className:`px-4 py-2 border border-gray-300 rounded-md text-sm font-medium ${s===1?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"}`,children:"Back"}),s<8?n.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-blue-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Next"}):n.jsx("button",{type:"button",onClick:B,disabled:y,className:"px-4 py-2 bg-green-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:y?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Listing..."]}):"Create Listing"})]}),b&&n.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:n.jsx("p",{className:"text-sm",children:b})}),v.isSuccess&&n.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md",children:n.jsx("p",{className:"text-sm",children:"Your listing has been created successfully! You'll be redirected to your listings dashboard."})})]})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx(H,{to:"/dashboard/listings",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"← Back to Listings Dashboard"})})]})})})},vj=()=>{var P,F,Q,D;const{listing_id:e}=Du(),t=dr(),r=G(O=>O.authentication_state.auth_token),s=G(O=>O.authentication_state.current_user),[i,a]=C.useState({}),[o,l]=C.useState([]),[c,u]=C.useState([]),[d,h]=C.useState(!1),[x,y]=C.useState(null),[g,b]=C.useState(null),k=Jr(),p=["Tripoli","Benghazi","Misrata","Tobruk","Derna","Zliten","Zuwara","Khoms","Sirte","Al-Bayda","Tajura","Sabha","Al-Marj","Ghat","Murzuq","Waddan","Jalu","Jaghbub"],{data:m,isLoading:f,isError:N}=le({queryKey:["property",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}`,{headers:{Authorization:`Bearer ${r}`}})).data,enabled:!!e&&!!r}),{data:E=[],refetch:w}=le({queryKey:["property-photos",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/photos`,{headers:{Authorization:`Bearer ${r}`}})).data,enabled:!!e&&!!r});C.useEffect(()=>{m&&(a({...m}),h(!1))},[m]),C.useEffect(()=>{if(m){const O=JSON.stringify(i)!==JSON.stringify(m)||o.length>0;h(O)}},[i,o,m]);const j=(O,$)=>{a(V=>({...V,[O]:$})),y(null)},v=O=>{if(O.target.files&&O.target.files.length>0){const $=Array.from(O.target.files),V=$.map(se=>({id:`temp-${Date.now()}-${Math.random()}`,file:se,url:URL.createObjectURL(se)}));u(se=>[...se,...V]);const R=$.map((se,ce)=>({type:"add",tempId:V[ce].id,file:se}));l(se=>[...se,...R])}O.target.value=""},B=O=>{"photo_id"in O?l($=>[...$,{type:"remove",photo:O}]):(u($=>$.filter(V=>V.id!==O.id)),l($=>$.filter(V=>V.tempId!==O.id)))},A=Be({mutationFn:async O=>(await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}`,O,{headers:{Authorization:`Bearer ${r}`}})).data,onSuccess:()=>{k.invalidateQueries({queryKey:["property",e]}),b("Listing updated successfully!"),h(!1),setTimeout(()=>b(null),3e3)},onError:O=>{var $,V;y(((V=($=O.response)==null?void 0:$.data)==null?void 0:V.message)||"Failed to update listing")}}),Y=async()=>{var O,$;if(!(!i||!e)){y(null),b(null);try{const V={property_id:e,...i};Object.keys(V).forEach(R=>{R!=="property_id"&&JSON.stringify(V[R])===JSON.stringify(m==null?void 0:m[R])&&delete V[R]}),Object.keys(V).length>1&&await A.mutateAsync(V);for(const R of o)if(R.type==="add"&&R.file){new FormData().append("file",R.file);const ce=URL.createObjectURL(R.file);await q.post(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/photos`,{property_id:e,photo_url:ce,display_order:E.length+c.length},{headers:{Authorization:`Bearer ${r}`}})}else R.type==="remove"&&R.photo&&await q.delete(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}/photos/${R.photo.photo_id}`,{headers:{Authorization:`Bearer ${r}`}});l([]),u([]),w(),b("All changes saved successfully!"),h(!1)}catch(V){y((($=(O=V.response)==null?void 0:O.data)==null?void 0:$.message)||"Failed to save changes")}}},M=async()=>{var O,$;if(window.confirm("Are you sure you want to delete this listing? This action cannot be undone."))try{await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}`,{property_id:e,is_active:!1},{headers:{Authorization:`Bearer ${r}`}}),t("/dashboard/listings")}catch(V){y((($=(O=V.response)==null?void 0:O.data)==null?void 0:$.message)||"Failed to delete listing")}},L=async()=>{var O,$;if(m)try{await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${e}`,{property_id:e,is_active:!m.is_active},{headers:{Authorization:`Bearer ${r}`}}),k.invalidateQueries({queryKey:["property",e]}),b(`Listing ${m.is_active?"unpublished":"published"} successfully!`),setTimeout(()=>b(null),3e3)}catch(V){y((($=(O=V.response)==null?void 0:O.data)==null?void 0:$.message)||"Failed to update listing status")}};if(!r||!s)return n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to edit your listing."}),n.jsx(H,{to:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors",children:"Go to Login"})]})})});if(f)return n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(N||!m)return n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Listing"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find the listing you're trying to edit."}),n.jsx(H,{to:"/dashboard/listings",className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors",children:"Back to My Listings"})]})})});if(m.host_id!==s.user_id)return n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to edit this listing."}),n.jsx(H,{to:"/dashboard/listings",className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors",children:"Back to My Listings"})]})})});const S=[...E.map(O=>({...O,temp:!1})),...c.map(O=>({photo_id:O.id,property_id:e||"",photo_url:O.url,caption:null,display_order:E.length,created_at:new Date().toISOString(),temp:!0}))];return n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Listing"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Make changes to your property listing below"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>t("/dashboard/listings"),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:L,className:`${m.is_active?"bg-yellow-500 hover:bg-yellow-600":"bg-green-600 hover:bg-green-700"} text-white px-4 py-2 rounded-md font-medium transition-colors`,children:m.is_active?"Unpublish":"Publish"}),n.jsx("button",{onClick:Y,disabled:!d||A.isPending,className:`${d?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"} text-white px-4 py-2 rounded-md font-medium transition-colors`,children:A.isPending?"Saving...":"Save Changes"})]})]}),x&&n.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:n.jsx("p",{children:x})}),g&&n.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md",children:n.jsx("p",{children:g})})]}),n.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"divide-y divide-gray-200",children:[n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Listing Title"}),n.jsx("input",{type:"text",id:"title",value:i.title||"",onChange:O=>j("title",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Beautiful apartment in central Tripoli"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"property_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Type"}),n.jsxs("select",{id:"property_type",value:i.property_type||"",onChange:O=>j("property_type",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Select property type"}),n.jsx("option",{value:"entire_place",children:"Entire Place"}),n.jsx("option",{value:"private_room",children:"Private Room"}),n.jsx("option",{value:"shared_room",children:"Shared Room"})]})]}),n.jsxs("div",{className:"sm:col-span-2",children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{id:"description",rows:4,value:i.description||"",onChange:O=>j("description",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe your property in detail..."})]})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Location"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),n.jsxs("select",{id:"city",value:i.city||"",onChange:O=>j("city",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Select a city"}),p.map(O=>n.jsx("option",{value:O,children:O},O))]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"neighborhood",className:"block text-sm font-medium text-gray-700 mb-1",children:"Neighborhood"}),n.jsx("input",{type:"text",id:"neighborhood",value:i.neighborhood||"",onChange:O=>j("neighborhood",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional neighborhood"})]}),n.jsxs("div",{className:"sm:col-span-2",children:[n.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),n.jsx("input",{type:"text",id:"address",value:i.address||"",onChange:O=>j("address",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Full address"})]})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Accommodation Details"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"guest_capacity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Guests"}),n.jsx("input",{type:"number",id:"guest_capacity",min:"1",value:i.guest_capacity||1,onChange:O=>j("guest_capacity",parseInt(O.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrooms"}),n.jsx("input",{type:"number",id:"bedrooms",min:"0",value:i.bedrooms||0,onChange:O=>j("bedrooms",parseInt(O.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"beds",className:"block text-sm font-medium text-gray-700 mb-1",children:"Beds"}),n.jsx("input",{type:"number",id:"beds",min:"1",value:i.beds||1,onChange:O=>j("beds",parseInt(O.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bathrooms"}),n.jsx("input",{type:"number",id:"bathrooms",min:"1",step:"0.5",value:i.bathrooms||1,onChange:O=>j("bathrooms",parseFloat(O.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Amenities"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"has_power_backup",type:"checkbox",checked:i.has_power_backup||!1,onChange:O=>j("has_power_backup",O.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"has_power_backup",className:"ml-2 block text-sm text-gray-900",children:"Generator Power Backup"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"has_water_tank",type:"checkbox",checked:i.has_water_tank||!1,onChange:O=>j("has_water_tank",O.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"has_water_tank",className:"ml-2 block text-sm text-gray-900",children:"Water Tank/Stable Supply"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"wifi",type:"checkbox",checked:((P=i.amenities)==null?void 0:P.includes("WiFi"))||!1,onChange:O=>{const $=i.amenities||"",V=O.target.checked?`${$}${$?",":""}WiFi`:$.replace(/WiFi,?/g,"").replace(/^,|,$/g,"");j("amenities",V)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"wifi",className:"ml-2 block text-sm text-gray-900",children:"WiFi"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"ac",type:"checkbox",checked:((F=i.amenities)==null?void 0:F.includes("Air Conditioning"))||!1,onChange:O=>{const $=i.amenities||"",V=O.target.checked?`${$}${$?",":""}Air Conditioning`:$.replace(/Air Conditioning,?/g,"").replace(/^,|,$/g,"");j("amenities",V)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"ac",className:"ml-2 block text-sm text-gray-900",children:"Air Conditioning"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"kitchen",type:"checkbox",checked:((Q=i.amenities)==null?void 0:Q.includes("Kitchen"))||!1,onChange:O=>{const $=i.amenities||"",V=O.target.checked?`${$}${$?",":""}Kitchen`:$.replace(/Kitchen,?/g,"").replace(/^,|,$/g,"");j("amenities",V)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"kitchen",className:"ml-2 block text-sm text-gray-900",children:"Kitchen"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"parking",type:"checkbox",checked:((D=i.amenities)==null?void 0:D.includes("Parking"))||!1,onChange:O=>{const $=i.amenities||"",V=O.target.checked?`${$}${$?",":""}Parking`:$.replace(/Parking,?/g,"").replace(/^,|,$/g,"");j("amenities",V)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"parking",className:"ml-2 block text-sm text-gray-900",children:"Parking"})]})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Photos"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add New Photos"}),n.jsx("div",{className:"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:n.jsxs("div",{className:"space-y-1 text-center",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:n.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),n.jsxs("div",{className:"flex text-sm text-gray-600",children:[n.jsxs("label",{htmlFor:"photo-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[n.jsx("span",{children:"Upload files"}),n.jsx("input",{id:"photo-upload",name:"photo-upload",type:"file",multiple:!0,accept:"image/*",onChange:v,className:"sr-only"})]}),n.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]}),S.length>0&&n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:S.map(O=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:O.photo_url,alt:"Property",className:"h-32 w-full object-cover rounded-md"}),n.jsx("button",{type:"button",onClick:()=>B(O.temp?{id:O.photo_id}:O),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},O.photo_id))})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Pricing"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"base_price_per_night",className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Price per Night (LYD)"}),n.jsxs("div",{className:"relative rounded-md shadow-sm",children:[n.jsx("input",{type:"number",id:"base_price_per_night",min:"0",step:"0.01",value:i.base_price_per_night||0,onChange:O=>j("base_price_per_night",parseFloat(O.target.value)),className:"focus:ring-blue-500 focus:border-blue-500 block w-full pr-12 sm:text-sm border-gray-300 rounded-md"}),n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:n.jsx("span",{className:"text-gray-500 sm:text-sm",children:"LYD"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"cancellation_policy",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cancellation Policy"}),n.jsxs("select",{id:"cancellation_policy",value:i.cancellation_policy||"moderate",onChange:O=>j("cancellation_policy",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"flexible",children:"Flexible (Free cancellation up to 24 hours)"}),n.jsx("option",{value:"moderate",children:"Moderate (Free cancellation up to 7 days)"}),n.jsx("option",{value:"strict",children:"Strict (Non-refundable)"})]})]}),n.jsxs("div",{className:"flex items-center pt-6",children:[n.jsx("input",{id:"instant_book",type:"checkbox",checked:i.instant_book||!1,onChange:O=>j("instant_book",O.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"instant_book",className:"ml-2 block text-sm text-gray-900",children:"Enable Instant Booking"})]})]})]})]}),n.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-between",children:[n.jsx("button",{onClick:M,className:"text-red-600 hover:text-red-800 font-medium",children:"Delete Listing"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>t("/dashboard/listings"),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:Y,disabled:!d||A.isPending,className:`${d?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"} text-white px-4 py-2 rounded-md font-medium transition-colors`,children:A.isPending?"Saving...":"Save Changes"})]})]})]})]})})})},bj=()=>{const e=G(S=>S.authentication_state.current_user),t=G(S=>S.authentication_state.auth_token),r=Jr(),[s,i]=C.useState("pending"),[a,o]=C.useState(null),[l,c]=C.useState(!1),[u,d]=C.useState(""),[h,x]=C.useState("month"),y="https://123airbnb-but-just-for-libya.launchpulse.ai",{data:g=[],isLoading:b}=le({queryKey:["hostBookings","pending",e==null?void 0:e.user_id],queryFn:async()=>!(e!=null&&e.user_id)||!t?[]:(await q.get(`${y}/api/bookings`,{headers:{Authorization:`Bearer ${t}`},params:{host_id:e.user_id,status:"pending"}})).data.bookings,enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),{data:k=[],isLoading:p}=le({queryKey:["hostBookings","confirmed",e==null?void 0:e.user_id],queryFn:async()=>!(e!=null&&e.user_id)||!t?[]:(await q.get(`${y}/api/bookings`,{headers:{Authorization:`Bearer ${t}`},params:{host_id:e.user_id,status:"confirmed"}})).data.bookings,enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),{data:m=[],isLoading:f}=le({queryKey:["hostBookings","history",e==null?void 0:e.user_id],queryFn:async()=>!(e!=null&&e.user_id)||!t?[]:(await q.get(`${y}/api/bookings`,{headers:{Authorization:`Bearer ${t}`},params:{host_id:e.user_id,status:["completed","cancelled"]}})).data.bookings,enabled:!!(e!=null&&e.user_id)&&!!t,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),N=Be({mutationFn:async S=>{if(!t)throw new Error("No auth token");return(await q.patch(`${y}/api/bookings/${S}`,{status:"confirmed"},{headers:{Authorization:`Bearer ${t}`}})).data},onSuccess:S=>{r.setQueryData(["hostBookings","pending",e==null?void 0:e.user_id],P=>(P==null?void 0:P.filter(F=>F.booking_id!==S.booking_id))||[]),r.setQueryData(["hostBookings","confirmed",e==null?void 0:e.user_id],P=>[...P||[],S]),o(null)},onError:S=>{console.error("Error approving booking:",S),alert("Failed to approve booking. Please try again.")}}),E=Be({mutationFn:async({bookingId:S,reason:P})=>{if(!t)throw new Error("No auth token");return(await q.patch(`${y}/api/bookings/${S}`,{status:"declined",special_requests:P||"No reason provided"},{headers:{Authorization:`Bearer ${t}`}})).data},onSuccess:S=>{r.setQueryData(["hostBookings","pending",e==null?void 0:e.user_id],P=>(P==null?void 0:P.filter(F=>F.booking_id!==S.booking_id))||[]),c(!1),d(""),o(null)},onError:S=>{console.error("Error declining booking:",S),alert("Failed to decline booking. Please try again.")}}),w=S=>{N.mutate(S)},j=S=>{o(g.find(P=>P.booking_id===S)||null),c(!0)},v=()=>{a&&E.mutate({bookingId:a.booking_id,reason:u})},B=S=>new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),A=S=>new Intl.NumberFormat("en-LY",{style:"currency",currency:"LYD"}).format(S),Y=S=>n.jsxs("div",{className:"border rounded-lg p-4 mb-4 shadow-sm hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Booking #",S.booking_id.substring(0,8)]}),n.jsxs("p",{className:"text-gray-600",children:[B(S.check_in)," - ",B(S.check_out)]}),n.jsxs("p",{className:"text-gray-600",children:[S.guest_count," guest",S.guest_count>1?"s":""]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-lg font-bold",children:A(S.total_price)}),n.jsxs("p",{className:"text-sm text-gray-500",children:["+",A(S.service_fee)," service fee"]})]})]}),S.special_requests&&n.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("span",{className:"font-medium",children:"Special requests:"})," ",S.special_requests]})}),n.jsxs("div",{className:"mt-4 flex space-x-2",children:[n.jsx("button",{onClick:()=>w(S.booking_id),disabled:N.isPending,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md transition-colors disabled:opacity-50",children:N.isPending?"Approving...":"Approve"}),n.jsx("button",{onClick:()=>j(S.booking_id),disabled:E.isPending,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-md transition-colors disabled:opacity-50",children:E.isPending?"Declining...":"Decline"})]})]},S.booking_id),M=S=>n.jsx("div",{className:"border rounded-lg p-4 mb-4 shadow-sm",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Booking #",S.booking_id.substring(0,8)]}),n.jsxs("p",{className:"text-gray-600",children:[B(S.check_in)," - ",B(S.check_out)]}),n.jsxs("p",{className:"text-gray-600",children:[S.guest_count," guest",S.guest_count>1?"s":""]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-lg font-bold",children:A(S.total_price)}),n.jsx("p",{className:`text-sm font-medium ${S.status==="completed"?"text-green-600":"text-red-600"}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)})]})]})},S.booking_id),L=()=>{const S={};return k.forEach(P=>{const F=new Date(P.check_in).toLocaleString("default",{month:"long",year:"numeric"});S[F]||(S[F]=[]),S[F].push(P)}),n.jsx("div",{className:"space-y-8",children:Object.entries(S).map(([P,F])=>n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold mb-4",children:P}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map(Q=>n.jsx("div",{className:"border rounded-lg p-4 bg-white shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>o(Q),children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold",children:["Booking #",Q.booking_id.substring(0,8)]}),n.jsxs("p",{className:"text-gray-600",children:[B(Q.check_in)," - ",B(Q.check_out)]}),n.jsxs("p",{className:"text-gray-600",children:[Q.guest_count," guest",Q.guest_count>1?"s":""]})]}),n.jsx("div",{className:"text-right",children:n.jsx("p",{className:"font-bold",children:A(Q.total_price)})})]})},Q.booking_id))})]},P))})};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Host Bookings"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your booking requests, confirmed bookings, and booking history"})]}),n.jsx("div",{className:"border-b border-gray-200 mb-6",children:n.jsxs("nav",{className:"-mb-px flex space-x-8",children:[n.jsxs("button",{onClick:()=>i("pending"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${s==="pending"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Booking Requests",g.length>0&&n.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:g.length})]}),n.jsx("button",{onClick:()=>i("confirmed"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${s==="confirmed"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Confirmed Bookings"}),n.jsx("button",{onClick:()=>i("history"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${s==="history"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Booking History"})]})}),s==="pending"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Pending Booking Requests"}),b?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):g.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),n.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No pending booking requests"}),n.jsx("p",{className:"mt-1 text-gray-500",children:"When guests request to book your properties, they'll appear here."})]}):n.jsx("div",{children:g.map(Y)})]}),s==="confirmed"&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Confirmed Bookings"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>x("month"),className:`px-3 py-1 rounded ${h==="month"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Month"}),n.jsx("button",{onClick:()=>x("week"),className:`px-3 py-1 rounded ${h==="week"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Week"}),n.jsx("button",{onClick:()=>x("day"),className:`px-3 py-1 rounded ${h==="day"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Day"})]})]}),p?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):k.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No confirmed bookings"}),n.jsx("p",{className:"mt-1 text-gray-500",children:"When guests confirm bookings, they'll appear here."})]}):n.jsx("div",{children:L()})]}),s==="history"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Booking History"}),f?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):m.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No booking history"}),n.jsx("p",{className:"mt-1 text-gray-500",children:"Your completed and cancelled bookings will appear here."})]}):n.jsx("div",{children:m.map(M)})]})]})}),l&&a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsx("div",{className:"bg-white rounded-lg max-w-md w-full",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Decline Booking Request"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to decline this booking request? You can provide a reason for declining."}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"declineReason",className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for declining (optional)"}),n.jsx("textarea",{id:"declineReason",rows:3,className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 mt-1 block w-full sm:text-sm border border-gray-300 rounded-md p-2",placeholder:"Enter reason for declining...",value:u,onChange:S=>d(S.target.value)})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),n.jsx("button",{onClick:v,disabled:E.isPending,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:E.isPending?"Declining...":"Decline Booking"})]})]})})}),a&&!l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Booking Details"}),n.jsx("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-500",children:n.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Booking Information"}),n.jsxs("dl",{className:"mt-2 space-y-2",children:[n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Booking ID"}),n.jsx("dd",{className:"text-sm text-gray-900",children:a.booking_id})]}),n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Check-in"}),n.jsx("dd",{className:"text-sm text-gray-900",children:B(a.check_in)})]}),n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Check-out"}),n.jsx("dd",{className:"text-sm text-gray-900",children:B(a.check_out)})]}),n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Guests"}),n.jsx("dd",{className:"text-sm text-gray-900",children:a.guest_count})]}),n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),n.jsx("dd",{className:"text-sm text-gray-900 capitalize",children:a.status})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Financial Details"}),n.jsxs("dl",{className:"mt-2 space-y-2",children:[n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Total Price"}),n.jsx("dd",{className:"text-sm text-gray-900",children:A(a.total_price)})]}),n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Service Fee"}),n.jsx("dd",{className:"text-sm text-gray-900",children:A(a.service_fee)})]}),a.special_requests&&n.jsxs("div",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Special Requests"}),n.jsx("dd",{className:"text-sm text-gray-900",children:a.special_requests})]})]})]})]}),n.jsx("div",{className:"mt-6 flex justify-end space-x-3",children:n.jsx("button",{onClick:()=>o(null),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Close"})})]})})})]})},wj=()=>{var L;const e=G(S=>S.authentication_state.current_user),t=G(S=>S.authentication_state.auth_token),[r,s]=C.useState([]),[i,a]=C.useState(null),[o,l]=C.useState([]),[c,u]=C.useState({}),[d,h]=C.useState(""),[x]=Ns(),[y,g]=C.useState(!0),[b,k]=C.useState(!1),[p,m]=C.useState(null),f="https://123airbnb-but-just-for-libya.launchpulse.ai",N=C.useCallback(async()=>{if(!t)return[];try{return(await q.get(`${f}/api/conversations`,{headers:{Authorization:`Bearer ${t}`},params:{limit:20,offset:0}})).data.conversations}catch(S){throw console.error("Error fetching conversations:",S),new Error("Failed to load conversations")}},[t,f]),E=C.useCallback(async S=>{if(!t)return[];try{return(await q.get(`${f}/api/conversations/${S}/messages`,{headers:{Authorization:`Bearer ${t}`},params:{limit:50,offset:0}})).data}catch(P){throw console.error("Error fetching messages:",P),new Error("Failed to load messages")}},[t,f]),w=Be({mutationFn:async S=>{if(!t)throw new Error("Not authenticated");return(await q.post(`${f}/api/conversations/${S.conversation_id}/messages`,{content:S.content,sender_id:e==null?void 0:e.user_id},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data},onSuccess:S=>{l(P=>[...P,S]),h(""),s(P=>P.map(F=>F.conversation_id===S.conversation_id?{...F,updated_at:new Date().toISOString()}:F).sort((F,Q)=>new Date(Q.updated_at).getTime()-new Date(F.updated_at).getTime()))},onError:S=>{console.error("Error sending message:",S),m("Failed to send message. Please try again.")}}),j=Be({mutationFn:async S=>{if(!t)throw new Error("Not authenticated");return(await q.patch(`${f}/api/messages/${S}`,{is_read:!0},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data},onSuccess:S=>{l(P=>P.map(F=>F.message_id===S.message_id?{...F,is_read:S.is_read}:F)),u(P=>{const F=S.conversation_id,Q=P[F]||0;return{...P,[F]:Math.max(0,Q-1)}})}});C.useEffect(()=>{t&&(async()=>{try{g(!0);const P=await N();s(P);const F=x.get("conversation_id");if(F){const Q=P.find(D=>D.conversation_id===F);Q&&a(Q)}else P.length>0&&a(P[0])}catch(P){m("Failed to load conversations"),console.error("Error loading conversations:",P)}finally{g(!1)}})()},[t,N,x]),C.useEffect(()=>{(async()=>{if(!i){l([]);return}try{k(!0);const P=await E(i.conversation_id);l(P),P.filter(F=>!F.is_read&&F.sender_id!==(e==null?void 0:e.user_id)).forEach(F=>{j.mutate(F.message_id)})}catch(P){m("Failed to load messages"),console.error("Error loading messages:",P)}finally{k(!1)}})()},[i,E,e,j]);const v=S=>{S.preventDefault(),!(!d.trim()||!i||w.isPending)&&w.mutate({conversation_id:i.conversation_id,content:d})},B=S=>{const P=new Date(S);return U2(P)?vr(P,"HH:mm"):Q2(P)?"Yesterday":vr(P,"MMM dd")},A=S=>e?S.guest_id===e.user_id?S.host_id:S.guest_id:null,Y=S=>{const P=c[S.conversation_id]||0,F=(i==null?void 0:i.conversation_id)===S.conversation_id,Q=A(S);return n.jsx("div",{className:`p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50 ${F?"bg-blue-50 border-l-4 border-l-blue-500":""}`,onClick:()=>a(S),children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-700 font-medium",children:(Q==null?void 0:Q.charAt(0).toUpperCase())||"U"})}),n.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:Q===S.guest_id?"Guest":"Host"}),n.jsx("time",{className:"text-xs text-gray-500",children:B(S.updated_at)})]}),n.jsxs("p",{className:"text-sm text-gray-500 truncate",children:["Conversation about booking #",S.booking_id.substring(0,8)]})]}),P>0&&n.jsx("div",{className:"ml-2 flex-shrink-0",children:n.jsx("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full",children:P})})]})},S.conversation_id)},M=S=>{const P=S.sender_id===(e==null?void 0:e.user_id),F=P?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none";return n.jsx("div",{className:`flex ${P?"justify-end":"justify-start"} mb-4`,children:n.jsxs("div",{className:`max-w-xs md:max-w-md lg:max-w-lg px-4 py-2 rounded-lg ${F}`,children:[n.jsx("p",{className:"text-sm",children:S.content}),n.jsxs("div",{className:`text-xs mt-1 ${P?"text-blue-100":"text-gray-500"}`,children:[n.jsx("span",{children:B(S.created_at)}),P&&n.jsx("span",{className:"ml-2",children:S.is_read?"✓✓":"✓"})]})]})},S.message_id)};return!t||!e?n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Authentication Required"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to access your messages"}),n.jsx(H,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go to Login"})]})})}):n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:n.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-200px)]",children:[n.jsxs("div",{className:"w-full md:w-1/3 border-r border-gray-200 flex flex-col",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Messages"})}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:y?n.jsx("div",{className:"flex items-center justify-center h-32",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):p?n.jsx("div",{className:"p-4 text-center text-red-500",children:p}):r.length===0?n.jsx("div",{className:"p-4 text-center text-gray-500",children:"No conversations yet. Start a conversation from a booking."}):r.map(Y)})]}),n.jsx("div",{className:"w-full md:w-2/3 flex flex-col",children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-700 font-medium",children:((L=A(i))==null?void 0:L.charAt(0).toUpperCase())||"U"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:A(i)===i.guest_id?"Guest":"Host"}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Booking #",i.booking_id.substring(0,8)]})]})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-white",children:b?n.jsx("div",{className:"flex items-center justify-center h-32",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):p?n.jsx("div",{className:"p-4 text-center text-red-500",children:p}):o.length===0?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("p",{className:"text-gray-500",children:"No messages yet. Start the conversation!"})}):n.jsx("div",{className:"space-y-4",children:o.map(M)})}),n.jsx("div",{className:"p-4 border-t border-gray-200",children:n.jsxs("form",{onSubmit:v,className:"flex",children:[n.jsx("input",{type:"text",value:d,onChange:S=>h(S.target.value),placeholder:"Type a message...",className:"flex-1 rounded-l-lg border border-gray-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:w.isPending}),n.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-r-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",disabled:!d.trim()||w.isPending,children:w.isPending?"Sending...":"Send"})]})})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),n.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No conversation selected"}),n.jsx("p",{className:"mt-1 text-gray-500",children:"Select a conversation from the list to start messaging"})]})})})]})})})})})},jj=()=>{const{booking_id:e}=Du(),t=dr(),r=G(L=>L.authentication_state.current_user),s=G(L=>L.authentication_state.auth_token),[i,a]=C.useState({cleanliness_rating:0,accuracy_rating:0,communication_rating:0,location_rating:0,check_in_rating:0,value_rating:0,overall_rating:0}),[o,l]=C.useState(""),[c,u]=C.useState([]),[d,h]=C.useState([]),[x,y]=C.useState(null),[g,b]=C.useState(!1),k=Jr(),{data:p,isLoading:m,error:f}=le({queryKey:["booking",e],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings/${e}`,{headers:{Authorization:`Bearer ${s}`}})).data,enabled:!!e&&!!s}),{data:N}=le({queryKey:["property",p==null?void 0:p.property_id],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${p==null?void 0:p.property_id}`)).data,enabled:!!(p!=null&&p.property_id)}),{data:E}=le({queryKey:["host",p==null?void 0:p.host_id],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${p==null?void 0:p.host_id}`)).data,enabled:!!(p!=null&&p.host_id)});C.useEffect(()=>{if(p&&r){const L=new Date,S=new Date(p.check_out);p.guest_id===r.user_id&&p.status==="completed"&&L>S||t("/dashboard/bookings")}},[p,r,t]);const w=L=>{if(L.target.files){const P=Array.from(L.target.files).slice(0,5-c.length);u(Q=>[...Q,...P]);const F=P.map(Q=>URL.createObjectURL(Q));h(Q=>[...Q,...F])}},j=L=>{u(S=>S.filter((P,F)=>F!==L)),h(S=>S.filter((P,F)=>F!==L))};C.useEffect(()=>{const S=[i.cleanliness_rating,i.accuracy_rating,i.communication_rating,i.location_rating,i.check_in_rating,i.value_rating].filter(F=>F>0),P=S.length>0?Math.round(S.reduce((F,Q)=>F+Q,0)/S.length):0;a(F=>({...F,overall_rating:P}))},[i.cleanliness_rating,i.accuracy_rating,i.communication_rating,i.location_rating,i.check_in_rating,i.value_rating]);const v=async L=>{const S=new FormData;S.append("file",L);try{return(await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/upload",S,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${s}`}})).data.url}catch(P){throw console.error("Error uploading photo:",P),P}},B=async(L,S)=>(await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/review-photos",{review_id:S,photo_url:L,caption:null},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,A=Be({mutationFn:async L=>(await q.post(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings/${e}/reviews`,L,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,onSuccess:async L=>{if(c.length>0)try{for(const S of c){const P=await v(S);await B(P,L.review_id)}}catch(S){console.error("Error uploading photos:",S)}b(!0),k.invalidateQueries({queryKey:["bookings"]})},onError:L=>{var S,P;y(((P=(S=L.response)==null?void 0:S.data)==null?void 0:P.message)||"Failed to submit review")}}),Y=L=>{if(L.preventDefault(),y(null),[i.cleanliness_rating,i.accuracy_rating,i.communication_rating,i.location_rating,i.check_in_rating,i.value_rating].some(F=>F===0)){y("Please provide ratings for all categories");return}if(!p||!r){y("Booking or user information missing");return}const P={booking_id:p.booking_id,property_id:p.property_id,reviewer_id:r.user_id,host_id:p.host_id,cleanliness_rating:i.cleanliness_rating,accuracy_rating:i.accuracy_rating,communication_rating:i.communication_rating,location_rating:i.location_rating,check_in_rating:i.check_in_rating,value_rating:i.value_rating,overall_rating:i.overall_rating,comment:o||null};A.mutate(P)},M=(L,S,P)=>n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:L}),n.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(F=>n.jsx("button",{type:"button",onClick:()=>P(F),className:"text-2xl focus:outline-none","aria-label":`Rate ${F} out of 5 stars`,children:F<=S?n.jsx("span",{className:"text-yellow-400",children:"★"}):n.jsx("span",{className:"text-gray-300",children:"☆"})},F))})]});return m?n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:n.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-8"}),n.jsx("div",{className:"space-y-4",children:[...Array(6)].map((L,S)=>n.jsx("div",{className:"h-16 bg-gray-200 rounded"},S))})]})})})})}):f?n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:n.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Error Loading Booking"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"We couldn't load the booking information. Please try again later."}),n.jsx(H,{to:"/dashboard/bookings",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Bookings"})]})})})})}):g?n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:n.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[n.jsx("div",{className:"text-green-500 mb-4",children:n.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Review Submitted!"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for sharing your experience. Your review helps other travelers make informed decisions."}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[n.jsx(H,{to:"/dashboard/bookings",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Bookings"}),n.jsx(H,{to:`/properties/${p==null?void 0:p.property_id}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Property"})]})]})})})}):n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:n.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Leave a Review"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Share your experience to help other travelers"})]}),n.jsxs("div",{className:"p-6",children:[p&&N&&E&&n.jsxs("div",{className:"mb-8 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900",children:N.title}),n.jsxs("p",{className:"text-gray-600",children:[N.neighborhood?`${N.neighborhood}, `:"",N.city]}),n.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[n.jsxs("span",{children:["Stayed from ",new Date(p.check_in).toLocaleDateString()," to ",new Date(p.check_out).toLocaleDateString()]}),n.jsx("span",{className:"mx-2",children:"•"}),n.jsxs("span",{children:["Hosted by ",E.name]})]})]}),n.jsxs("form",{onSubmit:Y,children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Your Rating"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[M("Cleanliness",i.cleanliness_rating,L=>a(S=>({...S,cleanliness_rating:L}))),M("Accuracy",i.accuracy_rating,L=>a(S=>({...S,accuracy_rating:L}))),M("Communication",i.communication_rating,L=>a(S=>({...S,communication_rating:L}))),M("Location",i.location_rating,L=>a(S=>({...S,location_rating:L}))),M("Check-in",i.check_in_rating,L=>a(S=>({...S,check_in_rating:L}))),M("Value",i.value_rating,L=>a(S=>({...S,value_rating:L})))]}),n.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-gray-700 mr-2",children:"Overall Rating:"}),n.jsx("div",{className:"flex",children:[1,2,3,4,5].map(L=>n.jsx("span",{className:`text-2xl ${L<=i.overall_rating?"text-yellow-400":"text-gray-300"}`,children:"★"},L))}),n.jsx("span",{className:"ml-2 text-gray-700",children:i.overall_rating>0?`${i.overall_rating}/5`:"Not rated"})]})})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("label",{htmlFor:"review",className:"block text-lg font-medium text-gray-900 mb-2",children:"Your Review"}),n.jsx("textarea",{id:"review",rows:6,value:o,onChange:L=>{l(L.target.value),y(null)},className:"block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-3",placeholder:"Share details about your stay, what you liked, and any suggestions for improvement..."}),n.jsxs("div",{className:"mt-2 flex justify-between text-sm text-gray-500",children:[n.jsx("span",{children:"Helpful reviews include specific details about your stay"}),n.jsxs("span",{children:[o.length,"/1000 characters"]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("label",{className:"block text-lg font-medium text-gray-900 mb-2",children:"Photos (Optional)"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Upload up to 5 photos from your stay"}),n.jsx("div",{className:"mt-2 flex flex-col items-center justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:n.jsxs("div",{className:"space-y-1 text-center",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:n.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),n.jsxs("div",{className:"flex text-sm text-gray-600",children:[n.jsxs("label",{htmlFor:"photo-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[n.jsx("span",{children:"Upload a file"}),n.jsx("input",{id:"photo-upload",name:"photo-upload",type:"file",className:"sr-only",accept:"image/*",multiple:!0,onChange:w,disabled:c.length>=5})]}),n.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]})}),d.length>0&&n.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:d.map((L,S)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:L,alt:`Preview ${S+1}`,className:"h-24 w-full object-cover rounded-md"}),n.jsx("button",{type:"button",onClick:()=>j(S),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove photo",children:n.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},S))})]}),x&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:n.jsx("p",{className:"text-sm",children:x})}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4",children:[n.jsx(H,{to:"/dashboard/bookings",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:A.isPending,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:A.isPending?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit Review"})]})]})]})]})})})})},Nj=()=>{const e=G(R=>R.authentication_state.current_user),t=G(R=>R.authentication_state.auth_token),[r,s]=C.useState({total_users:0,total_properties:0,total_bookings:0,total_reviews:0,active_conversations:0,pending_moderation:0}),[i,a]=C.useState({users:!0,listings:!1,bookings:!1,reviews:!1}),[o,l]=C.useState("dashboard"),[c,u]=C.useState({user_query:"",user_role:"",user_verified:!1,property_query:"",property_status:"",booking_status:"",review_query:""});C.useEffect(()=>{e&&e.role!=="admin"&&(window.location.href="/")},[e]);const d=async()=>{try{const R=await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/users",{headers:{Authorization:`Bearer ${t}`},params:{limit:1}}),se=await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties",{headers:{Authorization:`Bearer ${t}`},params:{limit:1}}),ce=await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings",{headers:{Authorization:`Bearer ${t}`},params:{limit:1}}),Ot=await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/reviews",{headers:{Authorization:`Bearer ${t}`},params:{limit:1}});return{total_users:R.data.total_count||0,total_properties:se.data.total_count||0,total_bookings:ce.data.total_count||0,total_reviews:Ot.data.total_count||0,active_conversations:0,pending_moderation:0}}catch(R){throw console.error("Failed to load dashboard metrics:",R),R}},{data:h,isLoading:x,refetch:y}=le({queryKey:["dashboard-metrics"],queryFn:d,enabled:!!t,staleTime:6e4,retry:1});C.useEffect(()=>{h&&s(h)},[h]);const g=async()=>{try{return(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/users",{headers:{Authorization:`Bearer ${t}`},params:{query:c.user_query,role:c.user_role,is_verified:c.user_verified,limit:50,offset:0}})).data}catch(R){throw console.error("Failed to search users:",R),R}},{data:b,isLoading:k,refetch:p}=le({queryKey:["users",c.user_query,c.user_role,c.user_verified],queryFn:g,enabled:!!t&&o==="users",staleTime:6e4,retry:1}),m=async()=>{try{return(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties",{headers:{Authorization:`Bearer ${t}`},params:{query:c.property_query,is_active:c.property_status==="active"?!0:c.property_status==="inactive"?!1:void 0,limit:50,offset:0}})).data.properties}catch(R){throw console.error("Failed to search properties:",R),R}},{data:f,isLoading:N,refetch:E}=le({queryKey:["properties",c.property_query,c.property_status],queryFn:m,enabled:!!t&&o==="listings",staleTime:6e4,retry:1}),w=async()=>{try{return(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings",{headers:{Authorization:`Bearer ${t}`},params:{status:c.booking_status||void 0,limit:50,offset:0}})).data.bookings}catch(R){throw console.error("Failed to search bookings:",R),R}},{data:j,isLoading:v,refetch:B}=le({queryKey:["bookings",c.booking_status],queryFn:w,enabled:!!t&&o==="bookings",staleTime:6e4,retry:1}),A=async()=>{try{return(await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/reviews",{headers:{Authorization:`Bearer ${t}`},params:{query:c.review_query,limit:50,offset:0}})).data}catch(R){throw console.error("Failed to search reviews:",R),R}},{data:Y,isLoading:M,refetch:L}=le({queryKey:["reviews",c.review_query],queryFn:A,enabled:!!t&&o==="reviews",staleTime:6e4,retry:1}),S=Be({mutationFn:async R=>(await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${R}`,{is_verified:!1},{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{p(),y()}}),P=Be({mutationFn:async R=>(await q.delete(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${R}`,{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{p(),y()}}),F=Be({mutationFn:async R=>(await q.delete(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/properties/${R}`,{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{E(),y()}}),Q=Be({mutationFn:async R=>(await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/bookings/${R}`,{status:"refunded"},{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{B(),y()}}),D=Be({mutationFn:async R=>(await q.delete(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/reviews/${R}`,{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{L(),y()}}),O=R=>{a({users:R==="users",listings:R==="listings",bookings:R==="bookings",reviews:R==="reviews"}),R==="users"&&l("users"),R==="listings"&&l("listings"),R==="bookings"&&l("bookings"),R==="reviews"&&l("reviews")},$=(R,se)=>{u(ce=>({...ce,[R]:se}))},V=()=>{y(),o==="users"&&p(),o==="listings"&&E(),o==="bookings"&&B(),o==="reviews"&&L()};return!e||e.role!=="admin"?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600",children:"You must be an administrator to access this panel."}),n.jsx(H,{to:"/",className:"mt-4 inline-block text-blue-600 hover:text-blue-800",children:"Return to Home"})]})}):n.jsx(n.Fragment,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white shadow",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8 flex justify-between items-center",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Panel"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-gray-600",children:["Welcome, ",e.name]}),n.jsx("button",{onClick:V,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Refresh"})]})]})}),n.jsxs("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[o==="dashboard"&&n.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:[n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"px-4 py-5 sm:p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:n.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),n.jsx("dd",{className:"flex items-baseline",children:n.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:x?n.jsx("div",{className:"animate-pulse h-6 bg-gray-200 rounded w-1/2"}):r.total_users})})]})})]})})}),n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"px-4 py-5 sm:p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:n.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Listings"}),n.jsx("dd",{className:"flex items-baseline",children:n.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:x?n.jsx("div",{className:"animate-pulse h-6 bg-gray-200 rounded w-1/2"}):r.total_properties})})]})})]})})}),n.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:n.jsx("div",{className:"px-4 py-5 sm:p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 bg-yellow-500 rounded-md p-3",children:n.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),n.jsx("div",{className:"ml-5 w-0 flex-1",children:n.jsxs("dl",{children:[n.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Bookings"}),n.jsx("dd",{className:"flex items-baseline",children:n.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:x?n.jsx("div",{className:"animate-pulse h-6 bg-gray-200 rounded w-1/2"}):r.total_bookings})})]})})]})})})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Activity"}),n.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:n.jsxs("ul",{className:"divide-y divide-gray-200",children:[n.jsx("li",{children:n.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:"New user registered"}),n.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:n.jsx("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Completed"})})]}),n.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[n.jsx("div",{className:"sm:flex",children:n.jsx("p",{className:"flex items-center text-sm text-gray-500",children:"Ahmed Ali registered as a host"})}),n.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[n.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),n.jsx("span",{children:"Just now"})]})]})]})}),n.jsx("li",{children:n.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:"New property listed"}),n.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:n.jsx("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Completed"})})]}),n.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[n.jsx("div",{className:"sm:flex",children:n.jsx("p",{className:"flex items-center text-sm text-gray-500",children:"Luxury apartment in Tripoli was listed"})}),n.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[n.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),n.jsx("span",{children:"2 hours ago"})]})]})]})})]})})]}),n.jsx("div",{className:"mt-8 flex justify-center",children:n.jsx("button",{onClick:()=>l("users"),className:"bg-white border border-gray-300 rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Manage Platform"})})]}),(o==="users"||o==="listings"||o==="bookings"||o==="reviews")&&n.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("nav",{className:"-mb-px flex space-x-8",children:[n.jsx("button",{onClick:()=>O("users"),className:`${i.users?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Users"}),n.jsx("button",{onClick:()=>O("listings"),className:`${i.listings?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Listings"}),n.jsx("button",{onClick:()=>O("bookings"),className:`${i.bookings?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Bookings"}),n.jsx("button",{onClick:()=>O("reviews"),className:`${i.reviews?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Reviews"})]})}),n.jsx("div",{className:"mt-6 bg-white shadow rounded-lg p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o==="users"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"user_query",className:"block text-sm font-medium text-gray-700",children:"Search Users"}),n.jsx("input",{type:"text",name:"user_query",id:"user_query",value:c.user_query,onChange:R=>$("user_query",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Name, email..."})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"user_role",className:"block text-sm font-medium text-gray-700",children:"Role"}),n.jsxs("select",{id:"user_role",name:"user_role",value:c.user_role,onChange:R=>$("user_role",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[n.jsx("option",{value:"",children:"All Roles"}),n.jsx("option",{value:"guest",children:"Guest"}),n.jsx("option",{value:"host",children:"Host"}),n.jsx("option",{value:"admin",children:"Admin"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"user_verified",className:"block text-sm font-medium text-gray-700",children:"Verified Status"}),n.jsxs("select",{id:"user_verified",name:"user_verified",value:c.user_verified.toString(),onChange:R=>$("user_verified",R.target.value==="true"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[n.jsx("option",{value:"false",children:"All"}),n.jsx("option",{value:"true",children:"Verified"}),n.jsx("option",{value:"false",children:"Unverified"})]})]})]}),o==="listings"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"property_query",className:"block text-sm font-medium text-gray-700",children:"Search Listings"}),n.jsx("input",{type:"text",name:"property_query",id:"property_query",value:c.property_query,onChange:R=>$("property_query",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Title, city..."})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"property_status",className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsxs("select",{id:"property_status",name:"property_status",value:c.property_status,onChange:R=>$("property_status",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[n.jsx("option",{value:"",children:"All"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),o==="bookings"&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"booking_status",className:"block text-sm font-medium text-gray-700",children:"Booking Status"}),n.jsxs("select",{id:"booking_status",name:"booking_status",value:c.booking_status,onChange:R=>$("booking_status",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[n.jsx("option",{value:"",children:"All Statuses"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"refunded",children:"Refunded"})]})]}),o==="reviews"&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"review_query",className:"block text-sm font-medium text-gray-700",children:"Search Reviews"}),n.jsx("input",{type:"text",name:"review_query",id:"review_query",value:c.review_query,onChange:R=>$("review_query",R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Comment, property..."})]})]})}),o==="users"&&n.jsx("div",{className:"mt-6 bg-white shadow rounded-lg overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-4 text-center",children:n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})})})}):b&&b.length>0?b.map(R=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:R.profile_picture_url?n.jsx("img",{className:"h-10 w-10 rounded-full",src:R.profile_picture_url,alt:""}):n.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-10 h-10"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name}),n.jsx("div",{className:"text-sm text-gray-500",children:R.email})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900 capitalize",children:R.role})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R.is_verified?n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Verified"}):n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(R.created_at).toLocaleDateString()}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[n.jsx("button",{onClick:()=>S.mutate(R.user_id),disabled:S.isPending,className:"text-indigo-600 hover:text-indigo-900 mr-3",children:S.isPending?"Suspending...":"Suspend"}),n.jsx("button",{onClick:()=>P.mutate(R.user_id),disabled:P.isPending,className:"text-red-600 hover:text-red-900",children:P.isPending?"Deleting...":"Delete"})]})]},R.user_id)):n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No users found"})})})]})})}),o==="listings"&&n.jsx("div",{className:"mt-6 bg-white shadow rounded-lg overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Listing"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Host"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-4 text-center",children:n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})})})}):f&&f.length>0?f.map(R=>n.jsxs("tr",{children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.title}),n.jsx("div",{className:"text-sm text-gray-500",children:R.property_type})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:["Host #",R.host_id.substring(0,8)]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[R.city,R.neighborhood?`, ${R.neighborhood}`:""]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[R.base_price_per_night," LYD"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R.is_active?n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Active"}):n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Inactive"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsx("button",{onClick:()=>F.mutate(R.property_id),disabled:F.isPending,className:"text-red-600 hover:text-red-900",children:F.isPending?"Deleting...":"Delete"})})]},R.property_id)):n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No listings found"})})})]})})}),o==="bookings"&&n.jsx("div",{className:"mt-6 bg-white shadow rounded-lg overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guest"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-6 py-4 text-center",children:n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})})})}):j&&j.length>0?j.map(R=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",R.booking_id.substring(0,8)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:["Property #",R.property_id.substring(0,8)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:["Guest #",R.guest_id.substring(0,8)]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(R.check_in).toLocaleDateString()," - ",new Date(R.check_out).toLocaleDateString()]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[R.total_price," LYD"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${R.status==="confirmed"?"bg-green-100 text-green-800":R.status==="pending"?"bg-yellow-100 text-yellow-800":R.status==="cancelled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:R.status.charAt(0).toUpperCase()+R.status.slice(1)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:R.status!=="refunded"&&n.jsx("button",{onClick:()=>Q.mutate(R.booking_id),disabled:Q.isPending,className:"text-indigo-600 hover:text-indigo-900",children:Q.isPending?"Processing...":"Refund"})})]},R.booking_id)):n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No bookings found"})})})]})})}),o==="reviews"&&n.jsx("div",{className:"mt-6 bg-white shadow rounded-lg overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Review"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guest"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-4 text-center",children:n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})})})}):Y&&Y.length>0?Y.map(R=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-900 line-clamp-2",children:R.comment||"No comment"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:["Property #",R.property_id.substring(0,8)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:["Guest #",R.reviewer_id.substring(0,8)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((se,ce)=>n.jsx("svg",{className:`h-5 w-5 ${ce<R.overall_rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},ce)),n.jsxs("span",{className:"ml-1 text-sm text-gray-500",children:["(",R.overall_rating,")"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(R.created_at).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsx("button",{onClick:()=>D.mutate(R.review_id),disabled:D.isPending,className:"text-red-600 hover:text-red-900",children:D.isPending?"Removing...":"Remove"})})]},R.review_id)):n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No reviews found"})})})]})})})]})]})]})})},_j=()=>{const e=G(L=>L.authentication_state.current_user),t=G(L=>L.authentication_state.auth_token),[r,s]=C.useState("personal"),[i,a]=C.useState({name:"",email:"",phone_number:"",bio:"",profile_picture_url:"",emergency_contact_name:"",emergency_contact_phone:""}),[o,l]=C.useState({current_password:"",new_password:"",confirm_password:""}),[c,u]=C.useState({email_notifications:!0,sms_notifications:!0,push_notifications:!0}),[d,h]=C.useState(null),[x,y]=C.useState(null),[g,b]=C.useState(null),k=C.useRef(null),p=Jr(),{data:m,isLoading:f,isError:N}=le({queryKey:["user",e==null?void 0:e.user_id],queryFn:async()=>(await q.get(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${e==null?void 0:e.user_id}`,{headers:{Authorization:`Bearer ${t}`}})).data,enabled:!!(e!=null&&e.user_id)&&!!t});C.useEffect(()=>{m&&a({name:m.name||"",email:m.email||"",phone_number:m.phone_number||"",bio:m.bio||"",profile_picture_url:m.profile_picture_url||"",emergency_contact_name:m.emergency_contact_name||"",emergency_contact_phone:m.emergency_contact_phone||""})},[m]),C.useEffect(()=>()=>{k.current&&clearTimeout(k.current)},[]);const E=Be({mutationFn:async L=>(await q.patch(`https://123airbnb-but-just-for-libya.launchpulse.ai/api/users/${e==null?void 0:e.user_id}`,L,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data,onSuccess:L=>{p.setQueryData(["user",e==null?void 0:e.user_id],L),b("Profile updated successfully"),y(null),k.current&&clearTimeout(k.current),k.current=setTimeout(()=>b(null),3e3)},onError:L=>{var S,P;y(((P=(S=L.response)==null?void 0:S.data)==null?void 0:P.message)||"Failed to update profile"),b(null)}}),w=L=>{const{name:S,value:P}=L.target;a(F=>({...F,[S]:P})),y(null)},j=L=>{const{name:S,checked:P}=L.target;u(F=>({...F,[S]:P}))},v=L=>{const{name:S,value:P}=L.target;l(F=>({...F,[S]:P})),y(null)},B=L=>{L.preventDefault(),E.mutate(i)},A=L=>{if(L.preventDefault(),o.new_password!==o.confirm_password){y("New passwords do not match");return}y("Password change functionality not implemented yet")},Y=L=>{L.target.files&&L.target.files[0]&&(h(L.target.files[0]),b("Document selected for upload"),k.current&&clearTimeout(k.current),k.current=setTimeout(()=>b(null),3e3))},M=()=>{switch(r){case"personal":return n.jsxs("form",{onSubmit:B,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),n.jsx("input",{type:"text",id:"name",name:"name",value:i.name,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),n.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),n.jsx("input",{type:"tel",id:"phone_number",name:"phone_number",value:i.phone_number,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"profile_picture_url",className:"block text-sm font-medium text-gray-700",children:"Profile Picture URL"}),n.jsx("input",{type:"text",id:"profile_picture_url",name:"profile_picture_url",value:i.profile_picture_url,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),n.jsx("textarea",{id:"bio",name:"bio",rows:3,value:i.bio,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"emergency_contact_name",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Name"}),n.jsx("input",{type:"text",id:"emergency_contact_name",name:"emergency_contact_name",value:i.emergency_contact_name,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"emergency_contact_phone",className:"block text-sm font-medium text-gray-700",children:"Emergency Contact Phone"}),n.jsx("input",{type:"tel",id:"emergency_contact_phone",name:"emergency_contact_phone",value:i.emergency_contact_phone,onChange:w,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",disabled:E.isPending,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:E.isPending?"Saving...":"Save Changes"})})]});case"verification":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Identity Verification"}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`flex-shrink-0 h-6 w-6 rounded-full flex items-center justify-center ${e!=null&&e.is_verified?"bg-green-100":"bg-gray-100"}`,children:e!=null&&e.is_verified?n.jsx("svg",{className:"h-4 w-4 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("svg",{className:"h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsx("p",{className:"ml-3 text-sm font-medium text-gray-900",children:e!=null&&e.is_verified?"Verified":"Not verified"})]}),!(e!=null&&e.is_verified)&&n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Upload a government-issued ID to verify your identity"})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Upload Verification Document"}),n.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:n.jsxs("div",{className:"space-y-1 text-center",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:n.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),n.jsxs("div",{className:"flex text-sm text-gray-600",children:[n.jsxs("label",{htmlFor:"document-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[n.jsx("span",{children:"Upload a file"}),n.jsx("input",{id:"document-upload",name:"document-upload",type:"file",className:"sr-only",onChange:Y})]}),n.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF up to 5MB"})]})})]}),d&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Selected file: ",d.name]}),n.jsx("button",{type:"button",className:"mt-2 inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Upload Document"})]})]}),n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Phone Verification"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",i.phone_number||"Not provided"]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Status: ",m!=null&&m.phone_number?"Verified":"Not verified"]})]}),n.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Verify Phone"})]})]}),n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Email Verification"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",i.email]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Status: Verified"})]}),n.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Resend Verification"})]})]})]});case"notifications":return n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Preferences"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email Notifications"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Receive updates via email"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",name:"email_notifications",checked:c.email_notifications,onChange:j,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"SMS Notifications"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Receive text messages for important updates"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",name:"sms_notifications",checked:c.sms_notifications,onChange:j,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Push Notifications"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Receive mobile notifications when app is open"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",name:"push_notifications",checked:c.push_notifications,onChange:j,className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Communication Frequency"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Daily Digest"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Summary of activity once per day"}),n.jsx("button",{className:"mt-3 w-full py-1 px-3 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Select"})]}),n.jsxs("div",{className:"border border-blue-500 rounded-lg p-4 bg-blue-50",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Real-time"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Immediate notifications for all events"}),n.jsx("button",{className:"mt-3 w-full py-1 px-3 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Selected"})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Weekly Summary"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Summary of activity once per week"}),n.jsx("button",{className:"mt-3 w-full py-1 px-3 border border-transparent rounded-md text-xs font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Select"})]})]})]})]});case"security":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Change Password"}),n.jsxs("form",{onSubmit:A,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"current_password",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),n.jsx("input",{type:"password",id:"current_password",name:"current_password",value:o.current_password,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),n.jsx("input",{type:"password",id:"new_password",name:"new_password",value:o.new_password,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),n.jsx("input",{type:"password",id:"confirm_password",name:"confirm_password",value:o.confirm_password,onChange:v,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Update Password"})})]})]}),n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Two-Factor Authentication"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Two-Factor Authentication"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),n.jsx("button",{type:"button",className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Enable"})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Preferred 2FA Method"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"sms-auth",name:"2fa-method",type:"radio",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),n.jsx("label",{htmlFor:"sms-auth",className:"ml-3 block text-sm font-medium text-gray-700",children:"SMS Authentication"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"app-auth",name:"2fa-method",type:"radio",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),n.jsx("label",{htmlFor:"app-auth",className:"ml-3 block text-sm font-medium text-gray-700",children:"Authenticator App"})]})]})]})]}),n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Login Activity"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Current Session"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Libya (current)"})]}),n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})]}),n.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Chrome on Windows"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Tripoli, Libya · 2 days ago"})]}),n.jsx("button",{className:"text-sm text-red-600 hover:text-red-900",children:"Logout"})]}),n.jsxs("div",{className:"flex items-center justify-between py-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Safari on iPhone"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Benghazi, Libya · 1 week ago"})]}),n.jsx("button",{className:"text-sm text-red-600 hover:text-red-900",children:"Logout"})]})]})]})]});case"billing":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Payment Methods"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No payment methods"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a payment method."}),n.jsx("div",{className:"mt-6",children:n.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[n.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Payment Method"]})})]})]}),n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Transaction History"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No transactions"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You have no transaction history yet."})]})]}),n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tax Information"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No tax information"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add tax information for your earnings."}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add Tax Information"})})]})]})]});default:return null}};return f?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):N?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),n.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Error loading profile"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"There was an issue loading your profile information."}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Retry"})})]})}):n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"lg:flex lg:items-center lg:justify-between",children:n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Account Settings"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account information and preferences"})]})}),n.jsxs("div",{className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[n.jsx("button",{onClick:()=>s("personal"),className:`${r==="personal"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Personal Information"}),n.jsx("button",{onClick:()=>s("verification"),className:`${r==="verification"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Verification"}),n.jsx("button",{onClick:()=>s("notifications"),className:`${r==="notifications"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Notifications"}),n.jsx("button",{onClick:()=>s("security"),className:`${r==="security"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Security"}),(e==null?void 0:e.role)==="host"&&n.jsx("button",{onClick:()=>s("billing"),className:`${r==="billing"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Billing"})]})}),n.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[x&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:n.jsx("p",{className:"text-sm",children:x})}),g&&n.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md",children:n.jsx("p",{className:"text-sm",children:g})}),M()]})]})]})})})},kj=()=>{const[e,t]=C.useState(!1),[r,s]=C.useState(!1),[i,a]=C.useState({password_hash:"",confirm_password:""}),[o,l]=C.useState({}),[c,u]=C.useState(!1),[d,h]=C.useState(""),[x,y]=C.useState(!1),[g]=Ns(),b=g.get("token");C.useEffect(()=>{(async()=>{var j,v;if(b){u(!0);try{await q.get("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/validate-reset-token",{params:{token:b}}),s(!0)}catch(B){l({general:((v=(j=B.response)==null?void 0:j.data)==null?void 0:v.message)||"Invalid or expired reset link"}),s(!1)}finally{u(!1)}}})()},[b]);const k=async w=>{var j,v;w.preventDefault(),u(!0),l({});try{await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/request-password-reset",{email:d}),t(!0)}catch(B){l({email:((v=(j=B.response)==null?void 0:j.data)==null?void 0:v.message)||"Failed to send reset email"})}finally{u(!1)}},p=async w=>{var v,B;w.preventDefault();const j={};if(i.password_hash?i.password_hash.length<8&&(j.password_hash="Password must be at least 8 characters"):j.password_hash="Password is required",i.password_hash!==i.confirm_password&&(j.confirm_password="Passwords do not match"),Object.keys(j).length>0){l(j);return}u(!0),l({});try{await q.post("https://123airbnb-but-just-for-libya.launchpulse.ai/api/auth/reset-password",{token:b,password_hash:i.password_hash}),y(!0),a({password_hash:"",confirm_password:""})}catch(A){l({general:((B=(v=A.response)==null?void 0:v.data)==null?void 0:B.message)||"Failed to reset password"})}finally{u(!1)}},f=(w=>{if(!w)return 0;let j=0;return w.length>=8&&(j+=1),/[A-Z]/.test(w)&&(j+=1),/[0-9]/.test(w)&&(j+=1),/[^A-Za-z0-9]/.test(w)&&(j+=1),j})(i.password_hash),N=["Very Weak","Weak","Fair","Good","Strong"],E=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"];return n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:x?"Password Reset Successful":r?"Set New Password":e?"Check Your Email":"Reset Your Password"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:x?"Your password has been successfully reset. You can now sign in with your new password.":r?"Please enter your new password below":e?"We have sent a password reset link to your email address if it exists in our system":"Enter your email address and we will send you a link to reset your password"})]}),x?n.jsx("div",{className:"mt-8 bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:n.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("div",{className:"mt-4",children:n.jsx(H,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Return to login page"})})]})}):r?n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[o.general&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:o.general}),n.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),n.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:i.password_hash,onChange:w=>{a({...i,password_hash:w.target.value}),o.password_hash&&l({...o,password_hash:void 0})},className:`appearance-none relative block w-full px-3 py-2 border ${o.password_hash?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),o.password_hash&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password_hash}),n.jsxs("div",{className:"mt-2",children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Password Strength"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:N[f]||"Very Weak"})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${E[f]||"bg-red-500"}`,style:{width:`${f/4*100}%`}})})]}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Password must be at least 8 characters and include a mix of letters, numbers, and symbols."})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),n.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,value:i.confirm_password,onChange:w=>{a({...i,confirm_password:w.target.value}),o.confirm_password&&l({...o,confirm_password:void 0})},className:`appearance-none relative block w-full px-3 py-2 border ${o.confirm_password?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`}),o.confirm_password&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.confirm_password})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:c?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting Password..."]}):"Reset Password"})})]}):e?n.jsx("div",{className:"mt-8 bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:n.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),n.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"If an account exists with the email address you provided, you will receive a password reset link shortly."}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:()=>t(!1),className:"font-medium text-blue-600 hover:text-blue-500",children:"Resend email"})})]})}):n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:k,children:[o.general&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:o.general}),n.jsx("div",{className:"rounded-md shadow-sm",children:n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),n.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:d,onChange:w=>{h(w.target.value),o.email&&l({...o,email:void 0})},className:`appearance-none relative block w-full px-3 py-2 border ${o.email?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`,placeholder:"Email address"}),o.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email})]})}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:c?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Reset Link..."]}):"Send Reset Link"})}),n.jsx("div",{className:"text-center",children:n.jsx(H,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Return to login"})})]})]})})})},Sj=()=>n.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:n.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:n.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100",children:n.jsx("svg",{className:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.5-.9-6.1-2.4M15 11.5a3 3 0 11-6 0 3 3 0 016 0z"})})}),n.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Page Not Found"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Sorry, we couldn't find the page you're looking for."}),n.jsxs("div",{className:"mt-6 space-y-3",children:[n.jsx(H,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go Home"}),n.jsx("div",{children:n.jsx(H,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Search Properties"})})]})]})})})}),Cj=new Hv({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),z0=()=>n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),At=({children:e})=>{const t=G(s=>s.authentication_state.authentication_status.is_authenticated);return G(s=>s.authentication_state.authentication_status.is_loading)?n.jsx(z0,{}):t?n.jsx(n.Fragment,{children:e}):n.jsx(uv,{to:"/login",replace:!0})},Ej=()=>{const e=G(r=>r.authentication_state.authentication_status.is_loading),t=G(r=>r.initialize_auth);return C.useEffect(()=>{t()},[t]),e?n.jsx(z0,{}):n.jsx(bv,{children:n.jsx(Qv,{client:Cj,children:n.jsx(Ow,{children:n.jsxs("div",{className:"App min-h-screen flex flex-col",children:[n.jsx(Mw,{}),n.jsx("main",{className:"flex-1",children:n.jsxs(hv,{children:[n.jsx(Ee,{path:"/",element:n.jsx(Aw,{})}),n.jsx(Ee,{path:"/search",element:n.jsx(Dw,{})}),n.jsx(Ee,{path:"/properties/:property_id",element:n.jsx(uj,{})}),n.jsx(Ee,{path:"/register",element:n.jsx(dj,{})}),n.jsx(Ee,{path:"/login",element:n.jsx(hj,{})}),n.jsx(Ee,{path:"/reset-password",element:n.jsx(kj,{})}),n.jsx(Ee,{path:"/dashboard",element:n.jsx(At,{children:n.jsx(mj,{})})}),n.jsx(Ee,{path:"/dashboard/bookings",element:n.jsx(At,{children:n.jsx(fj,{})})}),n.jsx(Ee,{path:"/dashboard/listings",element:n.jsx(At,{children:n.jsx(pj,{})})}),n.jsx(Ee,{path:"/listings/create",element:n.jsx(At,{children:n.jsx(yj,{})})}),n.jsx(Ee,{path:"/listings/:listing_id/edit",element:n.jsx(At,{children:n.jsx(vj,{})})}),n.jsx(Ee,{path:"/dashboard/host-bookings",element:n.jsx(At,{children:n.jsx(bj,{})})}),n.jsx(Ee,{path:"/messages",element:n.jsx(At,{children:n.jsx(wj,{})})}),n.jsx(Ee,{path:"/reviews/create/:booking_id",element:n.jsx(At,{children:n.jsx(jj,{})})}),n.jsx(Ee,{path:"/settings",element:n.jsx(At,{children:n.jsx(_j,{})})}),n.jsx(Ee,{path:"/admin",element:n.jsx(At,{children:n.jsx(Nj,{})})}),n.jsx(Ee,{path:"*",element:n.jsx(Sj,{})})]})}),n.jsx(Fw,{})]})})})})},Pj=()=>n.jsx(n.Fragment,{children:n.jsx(Ej,{})});kp(document.getElementById("root")).render(n.jsx(Pj,{}));
